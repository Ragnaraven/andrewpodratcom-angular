(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},c=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const h=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(s)){r&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){e=a instanceof h?d(a.errors):[a]}}if(c(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(l(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof h?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new h(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class m extends u{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof m?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new m(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class f extends m{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}function y(...t){return _(t)}function _(t){return 0===t.length?v:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof m)return t;if(t[p])return t[p]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class M extends u{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends m{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),u.EMPTY):this.isStopped?(t.complete(),u.EMPTY):(this.observers.push(t),new M(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):u.EMPTY}}function P(t){return t&&"function"==typeof t.schedule}function E(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new O(t,e))}}class O{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new A(t,this.project,this.thisArg))}}class A extends m{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const I=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function L(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=L(),D=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function k(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const N=t=>{if(t&&"function"==typeof t[g])return i=t,t=>{const e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(D(t))return I(t);if(k(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[R])return e=t,t=>{const n=e[R]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,i};function H(t,e){return new b(n=>{const i=new u;let r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new b(n=>{const i=new u;return i.add(e.schedule(()=>{const r=t[g]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(k(t))return function(t,e){return new b(n=>{const i=new u;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(D(t))return H(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const i=new u;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[R](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(N(t))}class F extends m{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class G extends m{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function j(t,e){if(!e.closed)return t instanceof b?t.subscribe(e):N(t)(e)}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(z((n,i)=>B(t(n,i)).pipe(E((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new U(t,n)))}class U{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V(t,this.project,this.concurrent))}}class V extends G{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new F(this),n=this.destination;n.add(e);const i=j(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t=Number.POSITIVE_INFINITY){return z(v,t)}function X(t,e){return e?H(t,e):new b(I(t))}function q(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return P(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:W(e)(X(t,n))}function Y(){return function(t){return t.lift(new Z(t))}}class Z{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new K(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class K extends m{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Q extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u,t.add(this.source.subscribe(new $(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.EMPTY)),t}refCount(){return Y()(this)}}const J=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class $ extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(t,e){return function(n){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new et(i,e));const r=Object.create(n,J);return r.source=n,r.subjectFactory=i,r}}class et{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}function nt(){return new T}function it(){return t=>Y()(tt(nt)(t))}function rt(t){for(let e in t)if(t[e]===rt)return e;throw Error("Could not find renamed property on target object.")}function st(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ot(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function at(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ct=rt({__forward_ref__:rt});function lt(t){return t.__forward_ref__=lt,t.toString=function(){return ot(this())},t}function ht(t){return ut(t)?t():t}function ut(t){return"function"==typeof t&&t.hasOwnProperty(ct)&&t.__forward_ref__===lt}function dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function mt(t){return ft(t,vt)||ft(t,_t)}function ft(t,e){return t.hasOwnProperty(e)?t[e]:null}function gt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(bt))?t[yt]:null}const vt=rt({"\u0275prov":rt}),yt=rt({"\u0275inj":rt}),_t=rt({ngInjectableDef:rt}),bt=rt({ngInjectorDef:rt});var wt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let xt;function Mt(t){const e=xt;return xt=t,e}function St(t,e,n){const i=mt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&wt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${ot(t)}]`)}function Tt(t){return{toString:t}.toString()}var Ct=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Pt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Et="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,It="undefined"!=typeof global&&global,Lt=Et||It||Ot||At,Rt={},Dt=[],kt=rt({"\u0275cmp":rt}),Nt=rt({"\u0275dir":rt}),Ht=rt({"\u0275pipe":rt}),Bt=rt({"\u0275mod":rt}),Ft=rt({"\u0275loc":rt}),Gt=rt({"\u0275fac":rt}),jt=rt({__NG_ELEMENT_ID__:rt});let zt=0;function Ut(t){return Tt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Pt.Emulated,id:"c",styles:t.styles||Dt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=zt++,n.inputs=Yt(t.inputs,e),n.outputs=Yt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Vt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Wt):null,n})}function Vt(t){return Kt(t)||function(t){return t[Nt]||null}(t)}function Wt(t){return function(t){return t[Ht]||null}(t)}const Xt={};function qt(t){const e={type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Tt(()=>{Xt[t.id]=t.type}),e}function Yt(t,e){if(null==t)return Rt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const Zt=Ut;function Kt(t){return t[kt]||null}function Qt(t,e){const n=t[Bt]||null;if(!n&&!0===e)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return n}const Jt=20,$t=10;function te(t){return Array.isArray(t)&&"object"==typeof t[1]}function ee(t){return Array.isArray(t)&&!0===t[1]}function ne(t){return 0!=(8&t.flags)}function ie(t){return 2==(2&t.flags)}function re(t){return 1==(1&t.flags)}function se(t){return null!==t.template}function oe(t,e){return t.hasOwnProperty(Gt)?t[Gt]:null}class ae extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ce(t){return"string"==typeof t?t:null==t?"":String(t)}function le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ce(t)}function he(t,e){const n=e?` in ${e}`:"";throw new ae("201",`No provider for ${le(t)} found${n}`)}class ue{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function de(){return pe}function pe(t){return t.type.prototype.ngOnChanges&&(t.setInput=fe),me}function me(){const t=ge(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Rt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function fe(t,e,n,i){const r=ge(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Rt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];s[a]=new ue(c&&c.currentValue,e,o===Rt),t[i]=e}function ge(t){return t.__ngSimpleChanges__||null}de.ngInherit=!0;const ve="http://www.w3.org/2000/svg";let ye;function _e(){return void 0!==ye?ye:"undefined"!=typeof document?document:void 0}function be(t){return!!t.listen}const we={createRenderer:(t,e)=>_e()};function xe(t){for(;Array.isArray(t);)t=t[0];return t}function Me(t,e){return xe(e[t])}function Se(t,e){return xe(e[t.index])}function Te(t,e){return t.data[e]}function Ce(t,e){const n=e[t];return te(n)?n:n[0]}function Pe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ee(t){return 4==(4&t[2])}function Oe(t){return 128==(128&t[2])}function Ae(t,e){return null==e?null:t[e]}function Ie(t){t[18]=0}function Le(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Re={lFrame:nn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function De(){return Re.bindingsEnabled}function ke(){return Re.lFrame.lView}function Ne(){return Re.lFrame.tView}function He(t){Re.lFrame.contextLView=t}function Be(){let t=Fe();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fe(){return Re.lFrame.currentTNode}function Ge(t,e){const n=Re.lFrame;n.currentTNode=t,n.isParent=e}function je(){return Re.lFrame.isParent}function ze(){Re.lFrame.isParent=!1}function Ue(){return Re.isInCheckNoChangesMode}function Ve(t){Re.isInCheckNoChangesMode=t}function We(){const t=Re.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xe(){return Re.lFrame.bindingIndex++}function qe(t,e){const n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ye(e)}function Ye(t){Re.lFrame.currentDirectiveIndex=t}function Ze(t){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ke(){return Re.lFrame.currentQueryIndex}function Qe(t){Re.lFrame.currentQueryIndex=t}function Je(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function $e(t,e,n){if(n&wt.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&wt.Host||(i=Je(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Re.lFrame=en();return i.currentTNode=e,i.lView=t,!0}function tn(t){const e=en(),n=t[1];Re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function en(){const t=Re.lFrame,e=null===t?null:t.child;return null===e?nn(t):e}function nn(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function rn(){const t=Re.lFrame;return Re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sn=rn;function on(){const t=rn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function an(){return Re.lFrame.selectedIndex}function cn(t){Re.lFrame.selectedIndex=t}function ln(){const t=Re.lFrame;return Te(t.tView,t.selectedIndex)}function hn(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function un(t,e,n){mn(t,e,3,n)}function dn(t,e,n,i){(3&t[2])===n&&mn(t,e,n,i)}function pn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function mn(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(fn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function fn(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const gn=-1;class vn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function yn(t,e,n){const i=be(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++r];bn(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function _n(t){return 3===t||4===t||6===t}function bn(t){return 64===t.charCodeAt(0)}function wn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||xn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function xn(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Mn(t){return t!==gn}function Sn(t){return 32767&t}function Tn(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Cn=!0;function Pn(t){const e=Cn;return Cn=t,e}let En=0;function On(t,e){const n=In(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,An(i.data,t),An(e,null),An(i.blueprint,null));const r=Ln(t,e),s=t.injectorIndex;if(Mn(r)){const t=Sn(r),n=Tn(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function An(t,e){t.push(0,0,0,0,0,0,0,0,e)}function In(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ln(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return gn;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return gn}function Rn(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(jt)&&(i=n[jt]),null==i&&(i=n[jt]=En++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Dn(t,e,n){if(n&wt.Optional)return t;he(e,"NodeInjector")}function kn(t,e,n,i){if(n&wt.Optional&&void 0===i&&(i=null),0==(n&(wt.Self|wt.Host))){const r=t[9],s=Mt(void 0);try{return r?r.get(e,i,n&wt.Optional):St(e,i,n&wt.Optional)}finally{Mt(s)}}return Dn(i,e,n)}function Nn(t,e,n,i=wt.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(jt)?t[jt]:void 0;return"number"==typeof e?e>=0?255&e:Bn:e}(n);if("function"==typeof s){if(!$e(e,t,i))return i&wt.Host?Dn(r,n,i):kn(e,n,i,r);try{const t=s();if(null!=t||i&wt.Optional)return t;he(n)}finally{sn()}}else if("number"==typeof s){let r=null,o=In(t,e),a=gn,c=i&wt.Host?e[16][6]:null;for((-1===o||i&wt.SkipSelf)&&(a=-1===o?Ln(t,e):e[o+8],a!==gn&&Un(i,!1)?(r=e[1],o=Sn(a),e=Tn(a,e)):o=-1);-1!==o;){const t=e[1];if(zn(s,o,t.data)){const t=Fn(o,e,n,r,i,c);if(t!==Hn)return t}a=e[o+8],a!==gn&&Un(i,e[1].data[o+8]===c)&&zn(s,o,e)?(r=t,o=Sn(a),e=Tn(a,e)):o=-1}}}return kn(e,n,i,r)}const Hn={};function Bn(){return new Vn(Be(),ke())}function Fn(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],c=Gn(a,o,n,null==i?ie(a)&&Cn:i!=o&&0!=(3&a.type),r&wt.Host&&s===a);return null!==c?jn(e,o,c,a):Hn}function Gn(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,h=r?a+l:t.directiveEnd;for(let u=i?a:a+l;u<h;u++){const t=o[u];if(u<c&&n===t||u>=c&&t.type===n)return u}if(r){const t=o[c];if(t&&se(t)&&t.type===n)return c}return null}function jn(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof vn){const o=r;o.resolving&&function(t,e){throw new ae("200",`Circular dependency in DI detected for ${t}`)}(le(s[n]));const a=Pn(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Mt(o.injectImpl):null;$e(t,i,wt.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=pe(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&Mt(c),Pn(a),o.resolving=!1,sn()}}return r}function zn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Un(t,e){return!(t&wt.Self||t&wt.Host&&e)}class Vn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Nn(this._tNode,this._lView,t,void 0,e)}}function Wn(t){const e=t;if(ut(t))return()=>{const t=Wn(ht(e));return t?t():null};let n=oe(e);if(null===n){const t=gt(e);n=t&&t.factory}return n||null}function Xn(t){return Tt(()=>{const e=t.prototype.constructor,n=e[Gt]||Wn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[Gt]||Wn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function qn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(_n(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Be(),t)}const Yn="__parameters__";function Zn(t,e,n){return Tt(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(Yn)?t[Yn]:Object.defineProperty(t,Yn,{value:[]})[Yn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Kn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=dt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qn=new Kn("AnalyzeForEntryComponents"),Jn=Function;function $n(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),$n(i,e)):e!==t&&e.push(i)}return e}function ti(t,e){t.forEach(t=>Array.isArray(t)?ti(t,e):e(t))}function ei(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ni(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ii(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function ri(t,e,n){let i=oi(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function si(t,e){const n=oi(t,e);if(n>=0)return t[1|n]}function oi(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const ai={},ci=/\n/gm,li="__source",hi=rt({provide:String,useValue:rt});let ui;function di(t){const e=ui;return ui=t,e}function pi(t,e=wt.Default){if(void 0===ui)throw new Error("inject() must be called from an injection context");return null===ui?St(t,void 0,e):ui.get(t,e&wt.Optional?null:void 0,e)}function mi(t,e=wt.Default){return(xt||pi)(ht(t),e)}const fi=mi;function gi(t){const e=[];for(let n=0;n<t.length;n++){const i=ht(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=wt.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(mi(t,n))}else e.push(mi(i))}return e}function vi(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const yi=vi(Zn("Inject",t=>({token:t})),-1),_i=vi(Zn("Optional"),8),bi=vi(Zn("SkipSelf"),4);let wi,xi;function Mi(t){var e;return(null===(e=function(){if(void 0===wi&&(wi=null,Lt.trustedTypes))try{wi=Lt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return wi}())||void 0===e?void 0:e.createHTML(t))||t}function Si(t){var e;return(null===(e=function(){if(void 0===xi&&(xi=null,Lt.trustedTypes))try{xi=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xi}())||void 0===e?void 0:e.createHTML(t))||t}class Ti{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ci extends Ti{getTypeName(){return"HTML"}}class Pi extends Ti{getTypeName(){return"Style"}}class Ei extends Ti{getTypeName(){return"Script"}}class Oi extends Ti{getTypeName(){return"URL"}}class Ai extends Ti{getTypeName(){return"ResourceURL"}}function Ii(t){return t instanceof Ti?t.changingThisBreaksApplicationSecurity:t}function Li(t,e){const n=Ri(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ri(t){return t instanceof Ti&&t.getTypeName()||null}class Di{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mi(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class ki{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mi(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Mi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ni=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bi(t){return(t=String(t)).match(Ni)||t.match(Hi)?t:"unsafe:"+t}function Fi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ji=Fi("area,br,col,hr,img,wbr"),zi=Fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ui=Fi("rp,rt"),Vi=Gi(Ui,zi),Wi=Gi(ji,Gi(zi,Fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gi(Ui,Fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vi),Xi=Fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qi=Fi("srcset"),Yi=Gi(Xi,qi,Fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zi=Fi("script,style,template");class Ki{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wi.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!Yi.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Xi[s]&&(o=Bi(o)),qi[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Bi(t.trim())).join(", ")),this.buf.push(" ",e,'="',$i(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wi.hasOwnProperty(e)&&!ji.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push($i(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Qi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ji=/([^\#-~ |!])/g;function $i(t){return t.replace(/&/g,"&amp;").replace(Qi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ji,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tr;function er(t,e){let n=null;try{tr=tr||function(t){const e=new ki(t);return function(){try{return!!(new window.DOMParser).parseFromString(Mi(""),"text/html")}catch(t){return!1}}()?new Di(e):e}(t);let i=e?String(e):"";n=tr.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=tr.getInertBodyElement(i)}while(i!==s);return Mi((new Ki).sanitizeChildren(nr(n)||n))}finally{if(n){const t=nr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function nr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ir=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function rr(t){const e=or();return e?Si(e.sanitize(ir.HTML,t)||""):Li(t,"HTML")?Si(Ii(t)):er(_e(),ce(t))}function sr(t){const e=or();return e?e.sanitize(ir.URL,t)||"":Li(t,"URL")?Ii(t):Bi(ce(t))}function or(){const t=ke();return t&&t[12]}function ar(t){return t.ngDebugContext}function cr(t){return t.ngOriginalError}function lr(t,...e){t.error(...e)}class hr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||lr}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ar(t)?ar(t):this._findContext(cr(t)):null}_findOriginalError(t){let e=cr(t);for(;e&&cr(e);)e=cr(e);return e}}function ur(t,e){t.__ngContext__=e}const dr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function pr(t){return{name:"window",target:t.ownerDocument.defaultView}}function mr(t){return t instanceof Function?t():t}var fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function gr(t,e){return(void 0)(t,e)}function vr(t){const e=t[3];return ee(e)?e[3]:e}function yr(t){return br(t[13])}function _r(t){return br(t[4])}function br(t){for(;null!==t&&!ee(t);)t=t[4];return t}function wr(t,e,n,i,r){if(null!=i){let s,o=!1;ee(i)?s=i:te(i)&&(o=!0,i=i[0]);const a=xe(i);0===t&&null!==n?null==r?Or(e,n,a):Er(e,n,a,r||null,!0):1===t&&null!==n?Er(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Ir(t,e);i&&function(t,e,n,i){be(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==xe(n)&&wr(e,t,i,s,r);for(let o=$t;o<n.length;o++){const r=n[o];Br(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function xr(t,e,n){return be(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mr(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Le(r,-1)),n.splice(i,1)}function Sr(t,e){if(t.length<=$t)return;const n=$t+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Mr(s,i),e>0&&(t[n-1][4]=i[4]);const o=ni(t,$t+e);Br(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Tr(t,e){if(!(256&e[2])){const n=e[11];be(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Cr(t[1],t);for(;e;){let n=null;if(te(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)te(e)&&Cr(e[1],e),e=e[3];null===e&&(e=t),te(e)&&Cr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Cr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof vn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):xe(e[t]),a=i[r=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&be(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ee(e[3])){n!==e[3]&&Mr(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Pr(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===Pt.None||e===Pt.Emulated)return null}return Se(i,n)}(t,e.parent,n)}function Er(t,e,n,i,r){be(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Or(t,e,n){be(t)?t.appendChild(e,n):e.appendChild(n)}function Ar(t,e,n,i,r){null!==i?Er(t,e,n,i,r):Or(t,e,n)}function Ir(t,e){return be(t)?t.parentNode(e):e.parentNode}function Lr(t,e,n){return Rr(t,e,n)}let Rr=function(t,e,n){return 40&t.type?Se(t,n):null};function Dr(t,e,n,i){const r=Pr(t,i,e),s=e[11],o=Lr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Ar(s,r,n[a],o,!1);else Ar(s,r,n,o,!1)}function kr(t,e){if(null!==e){const n=e.type;if(3&n)return Se(e,t);if(4&n)return Nr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return kr(t,n);{const n=t[e.index];return ee(n)?Nr(-1,n):xe(n)}}if(32&n)return gr(e,t)()||xe(t[e.index]);{const n=t[16],i=n[6],r=vr(n),s=i.projection[e.projection];return null!=s?kr(r,s):kr(t,e.next)}}return null}function Nr(t,e){const n=$t+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return kr(t,i)}return e[7]}function Hr(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],c=n.type;if(o&&0===e&&(a&&ur(xe(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)Hr(t,e,n.child,i,r,s,!1),wr(e,t,r,a,s);else if(32&c){const o=gr(n,i);let c;for(;c=o();)wr(e,t,r,c,s);wr(e,t,r,a,s)}else 16&c?Fr(t,e,i,n,r,s):wr(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Br(t,e,n,i,r,s){Hr(n,i,t.firstChild,e,r,s,!1)}function Fr(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)wr(e,t,r,a[c],s);else Hr(t,e,a,o[3],r,s,!0)}function Gr(t,e,n){be(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function jr(t,e,n){be(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function zr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const Ur="ng-template";function Vr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==zr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Wr(t){return 4===t.type&&t.value!==Ur}function Xr(t,e,n){return e===(4!==t.type||n?t.value:Ur)}function qr(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(_n(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!Xr(t,c,n)||""===c&&1===e.length){if(Yr(i))return!1;o=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!Vr(t.attrs,l,n)){if(Yr(i))return!1;o=!0}continue}const h=Zr(8&i?"class":c,r,Wr(t),n);if(-1===h){if(Yr(i))return!1;o=!0;continue}if(""!==l){let t;t=h>s?"":r[h+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==zr(e,l,0)||2&i&&l!==t){if(Yr(i))return!1;o=!0}}}}else{if(!o&&!Yr(i)&&!Yr(c))return!1;if(o&&Yr(c))continue;o=!1,i=c|1&i}}return Yr(i)||o}function Yr(t){return 0==(1&t)}function Zr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Kr(t,e,n=!1){for(let i=0;i<e.length;i++)if(qr(t,e[i],n))return!0;return!1}function Qr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Jr(t,e){return t?":not("+e.trim()+")":e}function $r(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||Yr(o)||(e+=Jr(s,r),r=""),i=o,s=s||!Yr(i);n++}return""!==r&&(e+=Jr(s,r)),e}const ts={};function es(t){ns(Ne(),ke(),an()+t,Ue())}function ns(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&un(e,i,n)}else{const i=t.preOrderHooks;null!==i&&dn(e,i,0,n)}cn(n)}function is(t,e){return t<<17|e<<2}function rs(t){return t>>17&32767}function ss(t){return 2|t}function os(t){return(131068&t)>>2}function as(t,e){return-131069&t|e<<2}function cs(t){return 1|t}function ls(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];Qe(r),n.contentQueries(2,e[s],s)}}}function hs(t,e,n,i,r,s,o,a,c,l){const h=e.blueprint.slice();return h[0]=r,h[2]=140|i,Ie(h),h[3]=h[15]=t,h[8]=n,h[10]=o||t&&t[10],h[11]=a||t&&t[11],h[12]=c||t&&t[12]||null,h[9]=l||t&&t[9]||null,h[6]=s,h[16]=2==e.type?t[16]:h,h}function us(t,e,n,i,r){let s=t.data[e];if(null===s)s=function(t,e,n,i,r){const s=Fe(),o=je(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,i,r),Re.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=function(){const t=Re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Ge(s,!0),s}function ds(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function ps(t,e,n){tn(e);try{const i=t.viewQuery;null!==i&&zs(1,i,n);const r=t.template;null!==r&&gs(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ls(t,e),t.staticViewQueries&&zs(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Hs(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,on()}}function ms(t,e,n,i){const r=e[2];if(256==(256&r))return;tn(e);const s=Ue();try{Ie(e),Re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&gs(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&un(e,n,null)}else{const n=t.preOrderHooks;null!==n&&dn(e,n,0,null),pn(e,0)}if(function(t){for(let e=yr(t);null!==e;e=_r(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Le(i,1),n[2]|=1024}}}(e),function(t){for(let e=yr(t);null!==e;e=_r(e))for(let t=$t;t<e.length;t++){const n=e[t],i=n[1];Oe(n)&&ms(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&ls(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&un(e,n)}else{const n=t.contentHooks;null!==n&&dn(e,n,1),pn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)cn(~i);else{const r=i,s=n[++t],o=n[++t];qe(s,r),o(2,e[r])}}}finally{cn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ks(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&zs(2,c,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&un(e,n)}else{const n=t.viewHooks;null!==n&&dn(e,n,2),pn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Le(e[3],-1))}finally{on()}}function fs(t,e,n,i){const r=e[10],s=!Ue(),o=Ee(e);try{s&&!o&&r.begin&&r.begin(),o&&ps(t,e,i),ms(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function gs(t,e,n,i,r){const s=an();try{cn(-1),2&i&&e.length>Jt&&ns(t,e,Jt,Ue()),n(i,r)}finally{cn(s)}}function vs(t,e,n){De()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||On(n,e),ur(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=se(i);s&&Is(e,n,i);const c=jn(e,t,a,n);ur(c,e),null!==o&&Ls(0,a-r,c,i,0,o),s&&(Ce(n.index,e)[8]=c)}}(t,e,n,Se(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=Re.lFrame.currentDirectiveIndex;try{cn(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];Ye(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Cs(i,r)}}finally{cn(-1),Ye(o)}}(t,e,n))}function ys(t,e,n=Se){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function _s(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bs(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function bs(t,e,n,i,r,s,o,a,c,l){const h=Jt+i,u=h+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:ts);return n}(h,u),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function ws(t,e,n,i){const r=Vs(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&Ws(t).push(i,r.length-1))}function xs(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Ms(t,e,n,i,r,s,o,a){const c=Se(e,n);let l,h=e.inputs;var u;!a&&null!=h&&(l=h[i])?(Ys(t,n,l,i,r),ie(e)&&function(t,e){const n=Ce(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,e.value||"",i):r,be(s)?s.setProperty(c,i,r):bn(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Ss(t,e,n,i){let r=!1;if(De()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Kr(n,o.selectors,!1)&&(r||(r=[]),Rn(On(n,e),t,o.type),se(o)?(Ps(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,Os(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,c=ds(t,e,s.length,null);for(let r=0;r<s.length;r++){const l=s[r];n.mergedAttrs=wn(n.mergedAttrs,l.hostAttrs),As(t,n,e,c,l),Es(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const h=l.type.prototype;!i&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!h.ngOnChanges&&!h.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,l=null===r||Wr(e)?null:Rs(n,r);s.push(l),o=xs(n,c,o),a=xs(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new ae("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=wn(n.mergedAttrs,n.attrs),r}function Ts(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function Cs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ps(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Es(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;se(e)&&(n[""]=t)}}function Os(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function As(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=oe(r.type)),o=new vn(s,se(r),null);t.blueprint[i]=o,n[i]=o,Ts(t,e,0,i,ds(t,n,r.hostVars,ts),r)}function Is(t,e,n){const i=Se(e,t),r=_s(n),s=t[10],o=Bs(t,hs(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function Ls(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function Rs(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Ds(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function ks(t,e){const n=Ce(e,t);if(Oe(n)){const t=n[1];80&n[2]?ms(t,n,t.template,n[8]):n[5]>0&&Ns(n)}}function Ns(t){for(let n=yr(t);null!==n;n=_r(n))for(let t=$t;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ms(t,e,t.template,e[8])}else e[5]>0&&Ns(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Ce(e[n],t);Oe(i)&&i[5]>0&&Ns(i)}}function Hs(t,e){const n=Ce(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),ps(i,n,n[8])}function Bs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Fs(t){for(;t;){t[2]|=64;const e=vr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Gs(t,e,n){const i=e[10];i.begin&&i.begin();try{ms(t,e,t.template,n)}catch(r){throw qs(e,r),r}finally{i.end&&i.end()}}function js(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Pe(n),r=i[1];fs(r,i,r.template,n)}}(t[8])}function zs(t,e,n){Qe(0),e(t,n)}const Us=(()=>Promise.resolve(null))();function Vs(t){return t[7]||(t[7]=[])}function Ws(t){return t.cleanup||(t.cleanup=[])}function Xs(t,e,n){return(null===t||se(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function qs(t,e){const n=t[9],i=n?n.get(hr,null):null;i&&i.handleError(e)}function Ys(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,r,i,a):c[a]=r}}function Zs(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=at(r,t):2==s&&(i=at(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const Ks=new Kn("INJECTOR",-1);class Qs{get(t,e=ai){if(e===ai){const e=new Error(`NullInjectorError: No provider for ${ot(t)}!`);throw e.name="NullInjectorError",e}return e}}const Js=new Kn("Set Injector scope."),$s={},to={},eo=[];let no;function io(){return void 0===no&&(no=new Qs),no}function ro(t,e=null,n=null,i){return new so(t,n,e||io(),i)}class so{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ti(e,n=>this.processProvider(n,t,e)),ti([t],t=>this.processInjectorType(t,[],r)),this.records.set(Ks,co(void 0,this));const s=this.records.get(Js);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:ot(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ai,n=wt.Default){this.assertNotDestroyed();const i=di(this);try{if(!(n&wt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Kn)&&mt(t);e=n&&this.injectableDefInScope(n)?co(oo(t),$s):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&wt.Self?io():this.parent).get(t,e=n&wt.Optional&&e===ai?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ot(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[li]&&r.unshift(e[li]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=ot(e);if(Array.isArray(e))r=e.map(ot).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):ot(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(ci,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{di(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(ot(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=ht(t)))return!1;let i=gt(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=gt(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{ti(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];ti(i,t=>this.processProvider(t,n,i||eo))}}this.injectorDefTypes.add(s),this.records.set(s,co(i.factory,$s));const a=i.providers;if(null!=a&&!o){const e=t;ti(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=ho(t=ht(t))?t:ht(t&&t.provide);const r=function(t,e,n){return lo(t)?co(void 0,t.useValue):co(ao(t),$s)}(t);if(ho(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=co(void 0,$s,!0),e.factory=()=>gi(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===$s&&(e.value=to,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function oo(t){const e=mt(t),n=null!==e?e.factory:oe(t);if(null!==n)return n;const i=gt(t);if(null!==i)return i.factory;if(t instanceof Kn)throw new Error(`Token ${ot(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ii(e,"?");throw new Error(`Can't resolve all parameters for ${ot(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[vt]||t[_t]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ao(t,e,n){let i;if(ho(t)){const e=ht(t);return oe(e)||oo(e)}if(lo(t))i=()=>ht(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...gi(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>mi(ht(t.useExisting));else{const e=ht(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return oe(e)||oo(e);i=()=>new e(...gi(t.deps))}var r;return i}function co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lo(t){return null!==t&&"object"==typeof t&&hi in t}function ho(t){return"function"==typeof t}const uo=function(t,e,n){return function(t,e=null,n=null,i){const r=ro(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let po=(()=>{class t{static create(t,e){return Array.isArray(t)?uo(t,e,""):uo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=ai,t.NULL=new Qs,t.\u0275prov=dt({token:t,providedIn:"any",factory:()=>mi(Ks)}),t.__NG_ELEMENT_ID__=-1,t})();function mo(t,e){hn(Pe(t)[1],Be())}function fo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(se(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=go(t.inputs),e.declaredInputs=go(t.declaredInputs),e.outputs=go(t.outputs);const n=r.hostBindings;n&&_o(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&vo(t,s),o&&yo(t,o),st(t.inputs,r.inputs),st(t.declaredInputs,r.declaredInputs),st(t.outputs,r.outputs),se(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===fo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=wn(r.hostAttrs,n=wn(n,r.hostAttrs))}}(i)}function go(t){return t===Rt?{}:t===Dt?[]:t}function vo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function yo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function _o(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let bo=null;function wo(){if(!bo){const t=Lt.Symbol;if(t&&t.iterator)bo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(bo=n)}}}return bo}function xo(t){return!!Mo(t)&&(Array.isArray(t)||!(t instanceof Map)&&wo()in t)}function Mo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function So(t,e,n){return t[e]=n}function To(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Co(t,e,n,i){const r=ke();return To(r,Xe(),e)&&(Ne(),function(t,e,n,i,r,s){const o=Se(t,e);!function(t,e,n,i,r,s,o){if(null==s)be(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?ce(s):o(s,i||"",r);be(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],o,s,t.value,n,i,r)}(ln(),r,t,e,n,i)),Co}function Po(t,e,n,i){return To(t,Xe(),n)?e+ce(n)+i:ts}function Eo(t,e,n,i,r,s,o,a){const c=ke(),l=Ne(),h=t+Jt,u=l.firstCreatePass?function(t,e,n,i,r,s,o,a,c){const l=e.consts,h=us(e,t,4,o||null,Ae(l,a));Ss(e,n,h,Ae(l,c)),hn(e,h);const u=h.tViews=bs(2,h,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,h),u.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,n,i,r,s,o):l.data[h];Ge(u,!1);const d=c[11].createComment("");Dr(l,c,d,u),ur(d,c),Bs(c,c[h]=Ds(d,c,d,u)),re(u)&&vs(l,c,u),null!=o&&ys(c,u,a)}function Oo(t){return function(t,e){return t[e]}(Re.lFrame.contextLView,Jt+t)}function Ao(t,e=wt.Default){const n=ke();return null===n?mi(t,e):Nn(Be(),n,ht(t),e)}function Io(t,e,n){const i=ke();return To(i,Xe(),e)&&Ms(Ne(),ln(),i,t,e,i[11],n,!1),Io}function Lo(t,e,n,i,r){const s=r?"class":"style";Ys(t,n,e.inputs[s],s,i)}function Ro(t,e,n,i){const r=ke(),s=Ne(),o=Jt+t,a=r[11],c=r[o]=xr(a,e,Re.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,c=us(e,t,2,r,Ae(a,s));return Ss(e,n,c,Ae(a,o)),null!==c.attrs&&Zs(c,c.attrs,!1),null!==c.mergedAttrs&&Zs(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,n,i):s.data[o];Ge(l,!0);const h=l.mergedAttrs;null!==h&&yn(a,c,h);const u=l.classes;null!==u&&jr(a,c,u);const d=l.styles;null!==d&&Gr(a,c,d),64!=(64&l.flags)&&Dr(s,r,c,l),0===Re.lFrame.elementDepthCount&&ur(c,r),Re.lFrame.elementDepthCount++,re(l)&&(vs(s,r,l),function(t,e,n){if(ne(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}(s,l,r)),null!==i&&ys(r,l)}function Do(){let t=Be();je()?ze():(t=t.parent,Ge(t,!1));const e=t;Re.lFrame.elementDepthCount--;const n=Ne();n.firstCreatePass&&(hn(n,t),ne(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Lo(n,e,ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Lo(n,e,ke(),e.stylesWithoutHost,!1)}function ko(t,e,n,i){Ro(t,e,n,i),Do()}function No(){return ke()}function Ho(t){return!!t&&"function"==typeof t.then}function Bo(t,e,n=!1,i){const r=ke(),s=Ne(),o=Be();return Go(s,r,r[11],o,t,e,n,i),Bo}function Fo(t,e,n=!1,i){const r=Be(),s=ke(),o=Ne();return Go(o,s,Xs(Ze(o.data),r,s),r,t,e,n,i),Fo}function Go(t,e,n,i,r,s,o=!1,a){const c=re(i),l=t.firstCreatePass&&Ws(t),h=Vs(e);let u=!0;if(3&i.type){const d=Se(i,e),p=a?a(d):Rt,m=p.target||d,f=h.length,g=a?t=>a(xe(t[i.index])).target:i.index;if(be(n)){let o=null;if(!a&&c&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,u=!1;else{s=zo(i,e,s,!1);const t=n.listen(p.name||m,r,s);h.push(s,t),l&&l.push(r,g,f,f+1)}}else s=zo(i,e,s,!0),m.addEventListener(r,s,o),h.push(s),l&&l.push(r,g,f,o)}else s=zo(i,e,s,!1);const d=i.outputs;let p;if(u&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,t),l&&l.push(r,i.index,o,-(o+1))}}}function jo(t,e,n){try{return!1!==e(n)}catch(i){return qs(t,i),!1}}function zo(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?Ce(t.index,e):e;0==(32&e[2])&&Fs(o);let a=jo(e,n,s),c=r.__ngNextListenerFn__;for(;c;)a=jo(e,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Uo(t=1){return function(t){return(Re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Re.lFrame.contextLView))[8]}(t)}function Vo(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?Kr(t,s,!0):Qr(i,s))return r}else n=r}return n}function Wo(t){const e=ke()[16][6];if(!e.projection){const n=e.projection=ii(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Vo(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Xo(t,e=0,n){const i=ke(),r=Ne(),s=us(r,Jt+t,16,null,n||null);null===s.projection&&(s.projection=e),ze(),64!=(64&s.flags)&&function(t,e,n){Fr(e[11],0,e,n,Pr(t,n,e),Lr(n.parent||e[6],n,e))}(r,i,s)}function qo(t,e,n){return Yo(t,"",e,"",n),qo}function Yo(t,e,n,i,r){const s=ke(),o=Po(s,e,n,i);return o!==ts&&Ms(Ne(),ln(),s,t,o,s[11],r,!1),Yo}const Zo=[];function Ko(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?rs(s):os(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Qo(t[a],e)&&(c=!0,t[a+1]=i?cs(n):ss(n)),a=i?rs(n):os(n)}c&&(t[n+1]=i?ss(s):cs(s))}function Qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&oi(t,e)>=0}function Jo(t,e,n){return ta(t,e,n,!1),Jo}function $o(t,e){return ta(t,e,null,!0),$o}function ta(t,e,n,i){const r=ke(),s=Ne(),o=function(t){const e=Re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[an()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=Ze(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=na(n=ea(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=ea(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==os(i))return t[rs(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=ea(null,t,e,n[1],i),n=na(n,e.attrs,i),function(t,e,n,i){t[rs(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=na(i,t[s].hostAttrs,n);return na(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=rs(o),c=os(o);t[i]=n;let l,h=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||oi(t,l)>0)&&(h=!0)}else l=n;if(r)if(0!==c){const e=rs(t[a+1]);t[i+1]=is(e,a),0!==e&&(t[e+1]=as(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=is(a,0),0!==a&&(t[a+1]=as(t[a+1],i)),a=i;else t[i+1]=is(c,0),0===a?a=i:t[c+1]=as(t[c+1],i),c=i;h&&(t[i+1]=ss(t[i+1])),Ko(t,l,i,!0),Ko(t,l,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&oi(s,e)>=0&&(n[i+1]=cs(n[i+1]))}(e,l,t,i,s),o=is(a,c),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}(s,t,o,i),e!==ts&&To(r,o,e)&&function(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];ra(1==(1&l)?ia(c,e,n,r,os(l),o):void 0)||(ra(s)||function(t){return 2==(2&t)}(l)&&(s=ia(c,null,n,r,a,o)),function(t,e,n,i,r){const s=be(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:fr.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=fr.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,Me(an(),n),r,s))}(s,s.data[an()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ot(Ii(t)))),t}(e,n),i,o)}function ea(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=na(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function na(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ri(t,o,!!n||e[++s]))}return void 0===t?null:t}function ia(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),c=s?e[1]:e,l=null===c;let h=n[r+1];h===ts&&(h=l?Zo:void 0);let u=l?si(h,i):c===i?h:void 0;if(s&&!ra(u)&&(u=si(e,i)),ra(u)&&(a=u,o))return a;const d=t[r+1];r=o?rs(d):os(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=si(t,i))}return a}function ra(t){return void 0!==t}function sa(t,e=""){const n=ke(),i=Ne(),r=t+Jt,s=i.firstCreatePass?us(i,r,1,e,null):i.data[r],o=n[r]=function(t,e){return be(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Dr(i,n,o,s),Ge(s,!1)}function oa(t){return aa("",t,""),oa}function aa(t,e,n){const i=ke(),r=Po(i,t,e,n);return r!==ts&&function(t,e,n){const i=Me(e,t);!function(t,e,n){be(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}(i,an(),r),aa}function ca(t,e,n){const i=ke();return To(i,Xe(),e)&&Ms(Ne(),ln(),i,t,e,i[11],n,!0),ca}function la(t,e,n){const i=ke();if(To(i,Xe(),e)){const r=Ne(),s=ln();Ms(r,s,i,t,e,Xs(Ze(r.data),s,i),n,!0)}return la}const ha=void 0;var ua=["en",[["a","p"],["AM","PM"],ha],[["AM","PM"],ha,ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ha,"{1} 'at' {0}",ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let da={};function pa(t){return t in da||(da[t]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[t]),da[t]}var ma=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const fa="en-US";let ga=fa;function va(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ga=t.toLowerCase().replace(/_/g,"-"))}function ya(t,e,n,i,r){if(t=ht(t),Array.isArray(t))for(let s=0;s<t.length;s++)ya(t[s],e,n,i,r);else{const s=Ne(),o=ke();let a=ho(t)?t:ht(t.provide),c=ao(t);const l=Be(),h=1048575&l.providerIndexes,u=l.directiveStart,d=l.providerIndexes>>20;if(ho(t)||!t.multi){const i=new vn(c,r,Ao),p=wa(a,e,r?h:h+d,u);-1===p?(Rn(On(l,o),s,a),_a(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=wa(a,e,h+d,u),m=wa(a,e,h,h+d),f=p>=0&&n[p],g=m>=0&&n[m];if(r&&!g||!r&&!f){Rn(On(l,o),s,a);const h=function(t,e,n,i,r){const s=new vn(t,n,Ao);return s.multi=[],s.index=e,s.componentProviders=0,ba(s,r,i&&!n),s}(r?Ma:xa,n.length,r,i,c);!r&&g&&(n[m].providerFactory=h),_a(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(h),o.push(h)}else _a(s,t,p>-1?p:m,ba(n[r?m:p],c,!r&&i));!r&&i&&g&&n[m].componentProviders++}}}function _a(t,e,n,i){const r=ho(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function ba(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wa(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function xa(t,e,n,i){return Sa(this.multi,[])}function Ma(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=jn(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),Sa(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Sa(r,s);return s}function Sa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ta(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Ne();if(i.firstCreatePass){const r=se(t);ya(n,i.data,i.blueprint,r,!0),ya(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class Ca{}class Pa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${ot(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ea=(()=>{class t{}return t.NULL=new Pa,t})();function Oa(...t){}function Aa(t,e){return new La(Se(t,e))}const Ia=function(){return Aa(Be(),ke())};let La=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ia,t})();function Ra(t){return t instanceof La?t.nativeElement:t}class Da{}let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Na(),t})();const Na=function(){const t=ke(),e=Ce(Be().index,t);return function(t){return t[11]}(te(e)?e:t)};let Ha=(()=>{class t{}return t.\u0275prov=dt({token:t,providedIn:"root",factory:()=>null}),t})();class Ba{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Fa=new Ba("11.1.1");class Ga{constructor(){}supports(t){return xo(t)}create(t){return new za(t)}}const ja=(t,e)=>e;class za{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ja}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Xa(n,i,r)?e:n,o=Xa(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xo(t))throw new Error(`Error trying to diff '${ot(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[wo()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Ua(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Wa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ua{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Va{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Wa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Va,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xa(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class qa{constructor(){}supports(t){return t instanceof Map||Mo(t)}create(){return new Ya}}class Ya{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Mo(t)))throw new Error(`Error trying to diff '${ot(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Za(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Za{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ka(){return new Qa([new Ga])}let Qa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ka()),deps:[[t,new bi,new _i]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=dt({token:t,providedIn:"root",factory:Ka}),t})();function Ja(){return new $a([new qa])}let $a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ja()),deps:[[t,new bi,new _i]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=dt({token:t,providedIn:"root",factory:Ja}),t})();function tc(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(xe(s)),ee(s))for(let t=$t;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&tc(e[1],e,n,i)}const o=n.type;if(8&o)tc(t,e,n.child,i);else if(32&o){const t=gr(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=e[16],r=t[6].projection[n.projection];if(Array.isArray(r))i.push(...r);else{const e=vr(t);tc(e[1],e,r,i,!0)}}n=r?n.projectionNext:n.next}return i}class ec{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return tc(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ee(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Sr(t,n),ni(e,n))}this._attachedToViewContainer=!1}Tr(this._lView[1],this._lView)}onDestroy(t){ws(this._lView[1],this._lView,null,t)}markForCheck(){Fs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ve(!0);try{Gs(t,e,n)}finally{Ve(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class nc extends ec{constructor(t){super(t),this._view=t}detectChanges(){js(this._view)}checkNoChanges(){!function(t){Ve(!0);try{js(t)}finally{Ve(!1)}}(this._view)}get context(){return null}}const ic=function(t=!1){return function(t,e,n){if(!n&&ie(t)){const n=Ce(t.index,e);return new ec(n,n)}return 47&t.type?new ec(e[16],e):null}(Be(),ke(),t)};let rc=(()=>{class t{}return t.__NG_ELEMENT_ID__=ic,t.__ChangeDetectorRef__=!0,t})();const sc=[new qa],oc=new Qa([new Ga]),ac=new $a(sc),cc=function(){return dc(Be(),ke())};let lc=(()=>{class t{}return t.__NG_ELEMENT_ID__=cc,t})();const hc=lc,uc=class extends hc{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=hs(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),ps(e,n,t),new ec(n)}};function dc(t,e){return 4&t.type?new uc(e,t,Aa(t,e)):null}class pc{}class mc{}const fc=function(){return wc(Be(),ke())};let gc=(()=>{class t{}return t.__NG_ELEMENT_ID__=fc,t})();const vc=gc,yc=class extends vc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new Vn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ln(this._hostTNode,this._hostLView);if(Mn(t)){const e=Tn(t,this._hostLView),n=Sn(t);return new Vn(e[1].data[n+8],e)}return new Vn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=_c(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(pc,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(ee(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new yc(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=$t+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-$t?(e[4]=n[r],ei(n,$t+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=Nr(r,s),a=n[11],c=Ir(a,s[7]);return null!==c&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,Br(t,i,n,1,r,s)}(i,s[6],a,n,c,o),t.attachToViewContainerRef(),ei(bc(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=_c(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);n&&(ni(bc(this._lContainer),e),Tr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);return n&&null!=ni(bc(this._lContainer),e)?new ec(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function _c(t){return t[8]}function bc(t){return t[8]||(t[8]=[])}function wc(t,e){let n;const i=e[t.index];if(ee(i))n=i;else{let r;if(8&t.type)r=xe(i);else{const n=e[11];r=n.createComment("");const i=Se(t,e);Er(n,Ir(n,i),r,function(t,e){return be(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Ds(i,e,r,t),Bs(e,n)}return new yc(n,t,e)}const xc={};class Mc extends Ea{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Kt(t);return new Cc(e,this.ngModule)}}function Sc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Tc=new Kn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dr});class Cc extends Ca{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map($r).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Sc(this.componentDef.inputs)}get outputs(){return Sc(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,xc,r);return s!==xc||i===xc?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(Da,we),o=r.get(Ha,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(be(t))return t.selectRootElement(e,n===Pt.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):xr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?ve:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,u={components:[],scheduler:dr,clean:Us,playerHandler:null,flags:0},d=bs(0,null,null,1,0,null,null,null,null,null),p=hs(null,d,u,h,null,null,s,a,o,r);let m,f;tn(p);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=us(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Zs(a,c,!0),null!==t&&(yn(r,t,c),null!==a.classes&&jr(r,t,a.classes),null!==a.styles&&Gr(r,t,a.styles)));const l=i.createRenderer(t,e),h=hs(n,_s(e),null,e.onPush?64:16,n[20],a,i,l,null,null);return o.firstCreatePass&&(Rn(On(a,n),o,e.type),Ps(o,a),Os(a,n.length,1)),Bs(n,h),n[20]=h}(l,this.componentDef,p,s,a);if(l)if(n)yn(a,l,["ng-version",Fa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!Yr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&yn(a,l,t),e&&e.length>0&&jr(a,l,e.join(" "))}if(f=Te(d,Jt),void 0!==e){const t=f.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}m=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Be();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),As(t,i,e,ds(t,e,1,null),n));const r=jn(e,t,i.directiveStart,i);ur(r,e);const s=Se(i,e);return s&&ur(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=Be();e.contentQueries(1,o,t.directiveStart)}const a=Be();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(cn(a.index),Ts(n[1],a,0,a.directiveStart,a.directiveEnd,e),Cs(e,o)),o}(t,this.componentDef,p,u,[mo]),ps(d,p,null)}finally{on()}return new Pc(this.componentType,m,Aa(f,p),p,f)}}class Pc extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new nc(i),this.componentType=t}get injector(){return new Vn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ec=new Map;class Oc extends pc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mc(this);const n=Qt(t),i=t[Ft]||null;i&&va(i),this._bootstrapComponents=mr(n.bootstrap),this._r3Injector=ro(t,e,[{provide:pc,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],ot(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=po.THROW_IF_NOT_FOUND,n=wt.Default){return t===po||t===pc||t===Ks?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ac extends mc{constructor(t){super(),this.moduleType=t,null!==Qt(t)&&function(t){const e=new Set;!function t(n){const i=Qt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ot(e)} vs ${ot(e.name)}`)}(r,Ec.get(r),n),Ec.set(r,n));const s=mr(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Oc(this.moduleType,t)}}function Ic(t,e,n){const i=We()+t,r=ke();return r[i]===ts?So(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function Lc(t,e,n,i){return function(t,e,n,i,r,s){const o=e+n;return To(t,o,r)?So(t,o+1,s?i.call(s,r):i(r)):Dc(t,o+1)}(ke(),We(),t,e,n,i)}function Rc(t,e,n,i,r){return function(t,e,n,i,r,s,o){const a=e+n;return function(t,e,n,i){const r=To(t,e,n);return To(t,e+1,i)||r}(t,a,r,s)?So(t,a+2,o?i.call(o,r,s):i(r,s)):Dc(t,a+2)}(ke(),We(),t,e,n,i,r)}function Dc(t,e){const n=t[e];return n===ts?void 0:n}const kc=class extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof u&&t.add(o),o}};function Nc(){return this._results[wo()]()}class Hc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=wo(),n=Hc.prototype;n[e]||(n[e]=Nc)}get changes(){return this._changes||(this._changes=new kc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=$n(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Bc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Bc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Fc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==$c(t,e).matches&&this.queries[e].setDirty()}}class Gc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class jc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new jc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class zc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new zc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Uc(e,r)),this.matchTNodeWithReadOption(t,e,Gn(e,t,r,!1,!1))}else n===lc?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Gn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===La||i===gc||i===lc&&4&e.type)this.addMatch(e.index,-2);else{const n=Gn(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Uc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Vc(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Aa(t,e):4&t.type?dc(t,e):null}(e,t):-2===n?function(t,e,n){return n===La?Aa(e,t):n===lc?dc(e,t):n===gc?wc(e,t):void 0}(t,e,i):jn(t,t[1],n,e)}function Wc(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Vc(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function Xc(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=Wc(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=$t;t<o.length;t++){const e=o[t];e[17]===e[3]&&Xc(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Xc(n[1],n,r,i)}}}}}return i}function qc(t){const e=ke(),n=Ne(),i=Ke();Qe(i+1);const r=$c(n,i);if(t.dirty&&Ee(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Xc(n,e,i,[]):Wc(n,e,r,i);t.reset(s,Ra),t.notifyOnChanges()}return!0}return!1}function Yc(t,e,n){const i=Ne();i.firstCreatePass&&(Jc(i,new Gc(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Qc(i,ke(),e)}function Zc(t,e,n,i){const r=Ne();if(r.firstCreatePass){const s=Be();Jc(r,new Gc(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Qc(r,ke(),n)}function Kc(){return t=ke(),e=Ke(),t[19].queries[e].queryList;var t,e}function Qc(t,e,n){const i=new Hc(4==(4&n));ws(t,e,i,i.destroy),null===e[19]&&(e[19]=new Fc),e[19].queries.push(new Bc(i))}function Jc(t,e,n){null===t.queries&&(t.queries=new jc),t.queries.track(new zc(e,n))}function $c(t,e){return t.queries.getByIndex(e)}const tl=new Kn("Application Initializer");let el=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Oa,this.reject=Oa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ho(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(mi(tl,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const nl=new Kn("AppId"),il={provide:nl,useFactory:function(){return`${rl()}${rl()}${rl()}`},deps:[]};function rl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sl=new Kn("Platform Initializer"),ol=new Kn("Platform ID"),al=new Kn("appBootstrapListener");let cl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const ll=new Kn("LocaleId"),hl=new Kn("DefaultCurrencyCode");class ul{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const dl=function(t){return new Ac(t)},pl=dl,ml=function(t){return Promise.resolve(dl(t))},fl=function(t){const e=dl(t),n=mr(Qt(t).declarations).reduce((t,e)=>{const n=Kt(e);return n&&t.push(new Cc(n)),t},[]);return new ul(e,n)},gl=fl,vl=function(t){return Promise.resolve(fl(t))};let yl=(()=>{class t{constructor(){this.compileModuleSync=pl,this.compileModuleAsync=ml,this.compileModuleAndAllComponentsSync=gl,this.compileModuleAndAllComponentsAsync=vl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const _l=(()=>Promise.resolve(0))();function bl(t){"undefined"==typeof Zone?_l.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class wl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kc(!1),this.onMicrotaskEmpty=new kc(!1),this.onStable=new kc(!1),this.onError=new kc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Lt.requestAnimationFrame,e=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sl(t),Ml(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return Tl(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Cl(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return Tl(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Cl(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Sl(t),Ml(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,xl,Oa,Oa);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const xl={};function Ml(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Tl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cl(t){t._nesting--,Ml(t)}class Pl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kc,this.onMicrotaskEmpty=new kc,this.onStable=new kc,this.onError=new kc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let El=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wl.assertNotInAngularZone(),bl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(mi(wl))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Ol=(()=>{class t{constructor(){this._applications=new Map,Ll.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ll.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Al{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Il,Ll=new Al,Rl=!0,Dl=!1;function kl(){return Dl=!0,Rl}const Nl=new Kn("AllowMultipleToken");class Hl{constructor(t,e){this.name=t,this.token=e}}function Bl(t,e,n=[]){const i=`Platform: ${e}`,r=new Kn(i);return(e=[])=>{let s=Fl();if(!s||s.injector.get(Nl,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Js,useValue:"platform"});!function(t){if(Il&&!Il.destroyed&&!Il.injector.get(Nl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Il=t.get(Gl);const e=t.get(sl,null);e&&e.forEach(t=>t())}(po.create({providers:t,name:i}))}return function(t){const e=Fl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Fl(){return Il&&!Il.destroyed?Il:null}let Gl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Pl:("zone.js"===t?void 0:t)||new wl({enableLongStackTrace:kl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:wl,useValue:n}];return n.run(()=>{const e=po.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(hr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{Ul(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Ho(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(el);return t.runInitializers(),t.donePromise.then(()=>(va(r.injector.get(ll,fa)||fa),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=jl({},e);return function(t,e,n){const i=new Ac(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(zl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${ot(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(mi(po))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function jl(t,e){return Array.isArray(e)?e.reduce(jl,t):Object.assign(Object.assign({},t),e)}let zl=(()=>{class t{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{wl.assertNotInAngularZone(),bl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{wl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=q(o,a.pipe(it()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ca?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(pc),r=n.create(po.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(El,null),a=o&&r.injector.get(Ol);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),Ul(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),kl()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ul(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(al,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(mi(wl),mi(cl),mi(po),mi(hr),mi(Ea),mi(el))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function Ul(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vl{}class Wl{}const Xl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ql=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Xl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Yl(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Yl(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(mi(yl),mi(Wl,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function Yl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Zl=Bl(null,"core",[{provide:ol,useValue:"unknown"},{provide:Gl,deps:[po]},{provide:Ol,deps:[]},{provide:cl,deps:[]}]),Kl=[{provide:zl,useClass:zl,deps:[wl,cl,po,hr,Ea,el]},{provide:Tc,deps:[wl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:el,useClass:el,deps:[[new _i,tl]]},{provide:yl,useClass:yl,deps:[]},il,{provide:Qa,useFactory:function(){return oc},deps:[]},{provide:$a,useFactory:function(){return ac},deps:[]},{provide:ll,useFactory:function(t){return va(t=t||"undefined"!=typeof $localize&&$localize.locale||fa),t},deps:[[new yi(ll),new _i,new bi]]},{provide:hl,useValue:"USD"}];let Ql=(()=>{class t{constructor(t){}}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(mi(zl))},providers:Kl}),t})(),Jl=null;function $l(){return Jl}const th=new Kn("DocumentToken");let eh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:nh,token:t,providedIn:"platform"}),t})();function nh(){return mi(rh)}const ih=new Kn("Location Initialized");let rh=(()=>{class t extends eh{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=$l().getLocation(),this._history=$l().getHistory()}getBaseHrefFromDOM(){return $l().getBaseHref(this._doc)}onPopState(t){$l().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){$l().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){sh()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){sh()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(mi(th))},t.\u0275prov=dt({factory:oh,token:t,providedIn:"platform"}),t})();function sh(){return!!window.history.pushState}function oh(){return new rh(mi(th))}function ah(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ch(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function lh(t){return t&&"?"!==t[0]?"?"+t:t}let hh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:uh,token:t,providedIn:"root"}),t})();function uh(t){const e=mi(th).location;return new ph(mi(eh),e&&e.origin||"")}const dh=new Kn("appBaseHref");let ph=(()=>{class t extends hh{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ah(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+lh(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+lh(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+lh(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(mi(eh),mi(dh,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),mh=(()=>{class t extends hh{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ah(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+lh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+lh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(mi(eh),mi(dh,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),fh=(()=>{class t{constructor(t,e){this._subject=new kc,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=ch(vh(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+lh(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,vh(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lh(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lh(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(mi(hh),mi(eh))},t.normalizeQueryParams=lh,t.joinWithSlash=ah,t.stripTrailingSlash=ch,t.\u0275prov=dt({factory:gh,token:t,providedIn:"root"}),t})();function gh(){return new fh(mi(hh),mi(eh))}function vh(t){return t.replace(/\/index.html$/,"")}var yh=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class _h{}let bh=(()=>{class t extends _h{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=pa(e);if(n)return n;const i=e.split("-")[0];if(n=pa(i),n)return n;if("en"===i)return ua;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ma.PluralCase]}(e||this.locale)(t)){case yh.Zero:return"zero";case yh.One:return"one";case yh.Two:return"two";case yh.Few:return"few";case yh.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(mi(ll))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function wh(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let xh=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(xo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ot(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(Qa),Ao($a),Ao(La),Ao(ka))},t.\u0275dir=Zt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Mh{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sh=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Mh(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new Th(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new Th(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ao(gc),Ao(lc),Ao(Qa))},t.\u0275dir=Zt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Th{constructor(t,e){this.record=t,this.view=e}}let Ch=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Ph,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Eh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Eh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ao(gc),Ao(lc))},t.\u0275dir=Zt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ph{constructor(){this.$implicit=null,this.ngIf=null}}function Eh(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ot(e)}'.`)}let Oh=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Ao(La),Ao($a),Ao(ka))},t.\u0275dir=Zt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Ah=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[{provide:_h,useClass:bh}]}),t})();function Ih(t){return"browser"===t}let Lh=(()=>{class t{}return t.\u0275prov=dt({token:t,providedIn:"root",factory:()=>new Rh(mi(th),window)}),t})();class Rh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Dh(this.window.history)||Dh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Dh(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class kh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new kh,Jl||(Jl=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Hh||(Hh=document.querySelector("base"),Hh)?Hh.getAttribute("href"):null;return null==e?null:(n=e,Nh||(Nh=document.createElement("a")),Nh.setAttribute("href",n),"/"===Nh.pathname.charAt(0)?Nh.pathname:"/"+Nh.pathname);var n}resetBaseElement(){Hh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return wh(document.cookie,t)}}let Nh,Hh=null;const Bh=new Kn("TRANSITION_ID"),Fh=[{provide:tl,useFactory:function(t,e,n){return()=>{n.get(el).donePromise.then(()=>{const n=$l();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Bh,th,po],multi:!0}];class Gh{static init(){var t;t=new Gh,Ll=t}addToWindow(t){Lt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Lt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Lt.getAllAngularRootElements=()=>t.getAllRootElements(),Lt.frameworkStabilizers||(Lt.frameworkStabilizers=[]),Lt.frameworkStabilizers.push(t=>{const e=Lt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?$l().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const jh=new Kn("EventManagerPlugins");let zh=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(mi(jh),mi(wl))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Uh{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=$l().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let Vh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Wh=(()=>{class t extends Vh{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>$l().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(mi(th))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Xh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qh=/%COMP%/g;function Yh(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Yh(t,r,n):(r=r.replace(qh,t),n.push(r))}return n}function Zh(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Kh=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Qh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Pt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Jh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Pt.ShadowDom:return new $h(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Yh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(mi(zh),mi(Wh),mi(nl))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Qh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Xh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=Xh[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=Xh[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(fr.DashCase|fr.Important)?t.style.setProperty(e,n,i&fr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&fr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Zh(n)):this.eventManager.addEventListener(t,e,Zh(n))}}class Jh extends Qh{constructor(t,e,n,i){super(t),this.component=n;const r=Yh(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(qh,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(qh,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class $h extends Qh{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Yh(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let tu=(()=>{class t extends Uh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(mi(th))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const eu=["alt","control","meta","shift"],nu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ru={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let su=(()=>{class t extends Uh{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$l().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(eu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&iu.hasOwnProperty(e)&&(e=iu[e]))}return nu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),eu.forEach(i=>{i!=n&&(0,ru[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(mi(th))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),ou=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:function(){return mi(au)},token:t,providedIn:"root"}),t})(),au=(()=>{class t extends ou{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case ir.NONE:return e;case ir.HTML:return Li(e,"HTML")?Ii(e):er(this._doc,String(e)).toString();case ir.STYLE:return Li(e,"Style")?Ii(e):e;case ir.SCRIPT:if(Li(e,"Script"))return Ii(e);throw new Error("unsafe value used in a script context");case ir.URL:return Ri(e),Li(e,"URL")?Ii(e):Bi(String(e));case ir.RESOURCE_URL:if(Li(e,"ResourceURL"))return Ii(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new Ci(t)}bypassSecurityTrustStyle(t){return new Pi(t)}bypassSecurityTrustScript(t){return new Ei(t)}bypassSecurityTrustUrl(t){return new Oi(t)}bypassSecurityTrustResourceUrl(t){return new Ai(t)}}return t.\u0275fac=function(e){return new(e||t)(mi(th))},t.\u0275prov=dt({factory:function(){return t=mi(Ks),new au(t.get(th));var t},token:t,providedIn:"root"}),t})();const cu=Bl(Zl,"browser",[{provide:ol,useValue:"browser"},{provide:sl,useValue:function(){kh.makeCurrent(),Gh.init()},multi:!0},{provide:th,useFactory:function(){return function(t){ye=t}(document),document},deps:[]}]),lu=[[],{provide:Js,useValue:"root"},{provide:hr,useFactory:function(){return new hr},deps:[]},{provide:jh,useClass:tu,multi:!0,deps:[th,wl,ol]},{provide:jh,useClass:su,multi:!0,deps:[th]},[],{provide:Kh,useClass:Kh,deps:[zh,Wh,nl]},{provide:Da,useExisting:Kh},{provide:Vh,useExisting:Wh},{provide:Wh,useClass:Wh,deps:[th]},{provide:El,useClass:El,deps:[wl]},{provide:zh,useClass:zh,deps:[jh,wl]},[]];let hu=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:nl,useValue:e.appId},{provide:Bh,useExisting:nl},Fh]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(mi(t,12))},providers:lu,imports:[Ah,Ql]}),t})();function uu(...t){let e=t[t.length-1];return P(e)?(t.pop(),H(t,e)):X(t)}function du(t,e){return z(t,e,1)}function pu(t,e){return function(n){return n.lift(new mu(t,e))}}"undefined"!=typeof window&&window;class mu{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new fu(t,this.predicate,this.thisArg))}}class fu extends m{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class gu{}class vu{}class yu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class _u{encodeKey(t){return bu(t)}encodeValue(t){return bu(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function bu(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class wu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new _u,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new wu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function xu(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Mu(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Su(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Tu{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new yu),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new wu,this.urlWithParams=e}serializeBody(){return null===this.body?null:xu(this.body)||Mu(this.body)||Su(this.body)||"string"==typeof this.body?this.body:this.body instanceof wu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Su(this.body)?null:Mu(this.body)?this.body.type||null:xu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Tu(e,n,r,{params:c,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var Cu=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Pu{constructor(t,e=200,n="OK"){this.headers=t.headers||new yu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Eu extends Pu{constructor(t={}){super(t),this.type=Cu.ResponseHeader}clone(t={}){return new Eu({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ou extends Pu{constructor(t={}){super(t),this.type=Cu.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ou({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Au extends Pu{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Iu(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Lu=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Tu)i=t;else{let r,s;r=n.headers instanceof yu?n.headers:new yu(n.headers),n.params&&(s=n.params instanceof wu?n.params:new wu({fromObject:n.params})),i=new Tu(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=uu(i).pipe(du(t=>this.handler.handle(t)));if(t instanceof Tu||"events"===n.observe)return r;const s=r.pipe(pu(t=>t instanceof Ou));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(E(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(E(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(E(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(E(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new wu).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Iu(n,e))}post(t,e,n={}){return this.request("POST",t,Iu(n,e))}put(t,e,n={}){return this.request("PUT",t,Iu(n,e))}}return t.\u0275fac=function(e){return new(e||t)(mi(gu))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Ru{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Du=new Kn("HTTP_INTERCEPTORS");let ku=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Nu=/^\)\]\}',?\n/;class Hu{}let Bu=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Fu=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new yu(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Eu({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let l=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Nu,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=t,l&&(l=!1,c={error:h,text:c})}}l?(e.next(new Ou({body:c,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new Au({error:c,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new Au({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let c=!1;const l=i=>{c||(e.next(s()),c=!0);let r={type:Cu.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},h=t=>{let n={type:Cu.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==i&&n.upload&&n.upload.addEventListener("progress",h)),n.send(i),e.next({type:Cu.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",l),null!==i&&n.upload&&n.upload.removeEventListener("progress",h)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(mi(Hu))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Gu=new Kn("XSRF_COOKIE_NAME"),ju=new Kn("XSRF_HEADER_NAME");class zu{}let Uu=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=wh(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(mi(th),mi(ol),mi(Gu))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Vu=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(mi(zu),mi(ju))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Wu=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Du,[]);this.chain=t.reduceRight((t,e)=>new Ru(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(mi(vu),mi(po))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Xu=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Vu,useClass:ku}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Gu,useValue:e.cookieName}:[],e.headerName?{provide:ju,useValue:e.headerName}:[]]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[Vu,{provide:Du,useExisting:Vu,multi:!0},{provide:zu,useClass:Uu},{provide:Gu,useValue:"XSRF-TOKEN"},{provide:ju,useValue:"X-XSRF-TOKEN"}]}),t})(),qu=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[Lu,{provide:gu,useClass:Wu},Fu,{provide:vu,useExisting:Fu},Bu,{provide:Hu,useExisting:Bu}],imports:[[Xu.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class Yu{}const Zu="*";function Ku(t,e){return{type:7,name:t,definitions:e,options:{}}}function Qu(t,e=null){return{type:4,styles:e,timings:t}}function Ju(t,e=null){return{type:2,steps:t,options:e}}function $u(t){return{type:6,styles:t,offset:null}}function td(t,e,n){return{type:0,name:t,styles:e,options:n}}function ed(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function nd(t){Promise.resolve(null).then(t)}class id{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class rd{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?nd(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function sd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function od(t){switch(t.length){case 0:return new id;case 1:return t[0];default:return new rd(t)}}function ad(t,e,n,i,r={},s={}){const o=[],a=[];let c=-1,l=null;if(i.forEach(t=>{const n=t.offset,i=n==c,h=i&&l||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case Zu:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}h[i]=a}),i||a.push(h),l=h,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function cd(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&ld(n,"start",t)));break;case"done":t.onDone(()=>i(n&&ld(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&ld(n,"destroy",t)))}}function ld(t,e,n){const i=n.totalTime,r=hd(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function hd(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function ud(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function dd(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let pd=(t,e)=>!1,md=(t,e)=>!1,fd=(t,e,n)=>[];const gd=sd();(gd||"undefined"!=typeof Element)&&(pd=(t,e)=>t.contains(e),md=(()=>{if(gd||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):md}})(),fd=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let vd=null,yd=!1;function _d(t){vd||(vd=("undefined"!=typeof document?document.body:null)||{},yd=!!vd.style&&"WebkitAppearance"in vd.style);let e=!0;return vd.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in vd.style,!e&&yd)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in vd.style),e}const bd=md,wd=pd,xd=fd;function Md(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let Sd=(()=>{class t{validateStyleProperty(t){return _d(t)}matchesElement(t,e){return bd(t,e)}containsElement(t,e){return wd(t,e)}query(t,e,n){return xd(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new id(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Td=(()=>{class t{}return t.NOOP=new Sd,t})();const Cd="ng-enter",Pd="ng-leave",Ed="ng-trigger",Od=".ng-trigger",Ad="ng-animating",Id=".ng-animating";function Ld(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Rd(parseFloat(e[1]),e[2])}function Rd(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Dd(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Rd(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Rd(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function kd(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Nd(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else kd(t,n);return n}function Hd(t,e,n){return n?e+":"+n+";":""}function Bd(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Hd(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Hd(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Fd(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=qd(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),sd()&&Bd(t))}function Gd(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=qd(e);t.style[n]=""}),sd()&&Bd(t))}function jd(t){return Array.isArray(t)?1==t.length?t[0]:Ju(t):t}const zd=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ud(t){let e=[];if("string"==typeof t){let n;for(;n=zd.exec(t);)e.push(n[1]);zd.lastIndex=0}return e}function Vd(t,e,n){const i=t.toString(),r=i.replace(zd,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Wd(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Xd=/-+([a-z0-9])/g;function qd(t){return t.replace(Xd,(...t)=>t[1].toUpperCase())}function Yd(t,e){return 0===t||0===e}function Zd(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=Qd(t,e)})}}return e}function Kd(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Qd(t,e){return window.getComputedStyle(t)[e]}const Jd="*";function $d(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(np(r,o)),"<"!=s[0]||r==Jd&&o==Jd||e.push(np(o,r))}(t,n,e)):n.push(t),n}const tp=new Set(["true","1"]),ep=new Set(["false","0"]);function np(t,e){const n=tp.has(t)||ep.has(t),i=tp.has(e)||ep.has(e);return(r,s)=>{let o=t==Jd||t==r,a=e==Jd||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?tp.has(t):ep.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?tp.has(e):ep.has(e)),o&&a}}const ip=new RegExp("s*:selfs*,?","g");function rp(t,e,n){return new sp(t).build(e,n)}class sp{constructor(t){this._driver=t}build(t,e){const n=new op(e);return this._resetContextStyleTimingState(n),Kd(this,jd(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(ap(t)){const e=t;Object.keys(e).forEach(t=>{Ud(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Wd(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Kd(this,jd(t.animation),e);return{type:1,matchers:$d(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:cp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Kd(this,t,e)),options:cp(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Kd(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:cp(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return lp(Dd(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=lp(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||Dd(i,e),lp(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:$u({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=$u(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Zu?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(ap(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Ud(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ap(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ap(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,r.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));const u=l-1,d=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return c.forEach((t,i)=>{const s=h>0?i==u?1:h*i:r[i],o=s*m;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Kd(this,jd(t.animation),e),options:cp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:cp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:cp(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ip,"")),[t=t.replace(/@\*/g,Od).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Id),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,ud(e.collectedStyles,e.currentQuerySelector,{});const o=Kd(this,jd(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:cp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Dd(t.timings,e.errors,!0);return{type:12,animation:Kd(this,jd(t.animation),e),timings:n,options:null}}}class op{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ap(t){return!Array.isArray(t)&&"object"==typeof t}function cp(t){var e;return t?(t=kd(t)).params&&(t.params=(e=t.params)?kd(e):null):t={},t}function lp(t,e,n){return{duration:t,delay:e,easing:n}}function hp(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class up{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const dp=new RegExp(":enter","g"),pp=new RegExp(":leave","g");function mp(t,e,n,i,r,s={},o={},a,c,l=[]){return(new fp).buildKeyframes(t,e,n,i,r,s,o,a,c,l)}class fp{buildKeyframes(t,e,n,i,r,s,o,a,c,l=[]){c=c||new up;const h=new vp(t,e,c,i,r,l,[]);h.options=a,h.currentTimeline.setStyles([s],null,h.errors,a),Kd(this,n,h);const u=h.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,h.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[hp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Ld(n.duration):null,s=null!=n.delay?Ld(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Kd(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=gp);const t=Ld(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Kd(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Ld(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Kd(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Dd(e.params?Vd(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Ld(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=gp);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),Kd(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Kd(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const gp={};class vp{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new yp(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Ld(n.duration)),null!=n.delay&&(i.delay=Ld(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Vd(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new vp(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=gp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new _p(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(dp,"."+this._enterClassName)).replace(pp,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class yp{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new yp(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Zu,this._currentKeyframe[t]=Zu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=Zu})):Nd(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Vd(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Zu),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=Nd(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):i==Zu&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?Wd(t.values()):[],s=e.size?Wd(e.values()):[];if(n){const t=i[0],e=kd(t);t.offset=0,e.offset=1,i=[t,e]}return hp(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class _p extends yp{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=Nd(t[0],!1);a.offset=0,r.push(a);const c=Nd(t[0],!1);c.offset=bp(o),r.push(c);const l=t.length-1;for(let i=1;i<=l;i++){let o=Nd(t[i],!1);o.offset=bp((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return hp(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function bp(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class wp{}class xp extends wp{normalizePropertyName(t,e){return qd(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(Mp[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const Mp=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Sp(t,e,n,i,r,s,o,a,c,l,h,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:u,errors:d}}const Tp={};class Cp{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,c,l){const h=[],u=this.ast.options&&this.ast.options.params||Tp,d=this.buildStyles(n,o&&o.params||Tp,h),p=a&&a.params||Tp,m=this.buildStyles(i,p,h),f=new Set,g=new Map,v=new Map,y="void"===i,_={params:Object.assign(Object.assign({},u),p)},b=l?[]:mp(t,e,this.ast.animation,r,s,d,m,_,c,h);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),h.length)return Sp(e,this._triggerName,n,i,y,d,m,[],[],g,v,w,h);b.forEach(t=>{const n=t.element,i=ud(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=ud(v,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&f.add(n)});const x=Wd(f.values());return Sp(e,this._triggerName,n,i,y,d,m,b,x,g,v,w)}}class Pp{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=kd(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=Vd(s,i,e)),n[t]=s})}}),n}}class Ep{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Pp(t.style,t.options&&t.options.params||{})}),Op(this.states,"true","1"),Op(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Cp(t,e,this.states))}),this.fallbackTransition=new Cp(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Op(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ap=new up;class Ip{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=rp(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=ad(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=mp(this._driver,e,r,Cd,Pd,{},{},n,Ap,i),s.forEach(t=>{const e=ud(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Zu)})});const a=od(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=hd(e,"","","");return cd(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Lp="ng-animate-queued",Rp="ng-animate-disabled",Dp=".ng-animate-disabled",kp=[],Np={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Bp{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=kd(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Fp="void",Gp=new Bp(Fp);class jp{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Yp(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=ud(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=ud(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Yp(t,Ed),Yp(t,"ng-trigger-"+e),a[e]=Gp),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new Up(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Yp(t,Ed),Yp(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Bp(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Gp),c.value!==Fp&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Gd(t,n),Fd(t,i)})}return}const l=ud(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let h=r.matchTransition(a.value,c.value,t,c.params),u=!1;if(!h){if(!i)return;h=r.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:a,toState:c,player:s,isFallbackTransition:u}),u||(Yp(t,Lp),s.onStart(()=>{Zp(t,Lp)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Od,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Fp,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&od(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||Gp,o=new Bp(Fp),a=new Up(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==Np||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Yp(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=hd(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,cd(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class zp{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new jp(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Vp(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Vp(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Yp(t,Rp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Zp(t,Rp))}removeNode(t,e,n,i){if(Vp(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return Vp(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Od,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Id,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return od(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Np,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Dp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Dp,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Yp(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?od(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new up,i=[],r=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=qp(u,this.collectedEnterElements),p=new Map;let m=0;d.forEach((t,e)=>{const n=Cd+m++;p.set(e,n),t.forEach(t=>Yp(t,n))});const f=[],g=new Set,v=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(f.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):v.add(t))}const y=new Map,_=qp(u,Array.from(g));_.forEach((t,e)=>{const n=Pd+m++;y.set(e,n),t.forEach(t=>Yp(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Zp(t,n))}),_.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Zp(t,n))}),f.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!h||!this.driver.containsElement(h,r),u=y.get(r),d=p.get(r),m=this._buildInstruction(t,n,d,u,l);if(m.errors&&m.errors.length)w.push(m);else{if(l)return e.onStart(()=>Gd(r,m.fromStyles)),e.onDestroy(()=>Fd(r,m.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>Gd(r,m.fromStyles)),e.onDestroy(()=>Fd(r,m.toStyles)),void i.push(e);m.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,m.timelines),s.push({instruction:m,player:e,element:r}),m.queriedElements.forEach(t=>ud(o,t,[]).push(e)),m.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),m.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,M=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(M.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ud(x,e,[]).push(t),t.destroy()})});const S=f.filter(t=>Jp(t,a,c)),T=new Map;Xp(T,this.driver,v,c,Zu).forEach(t=>{Jp(t,a,c)&&S.push(t)});const C=new Map;d.forEach((t,e)=>{Xp(C,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const P=[],E=[],O={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>Fd(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=O;if(M.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=M.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>M.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,r,C,T);if(s.setRealPlayer(n),t===O)P.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=od(e)),i.push(s)}}else Gd(e,o.fromStyles),s.onDestroy(()=>Fd(e,o.toStyles)),E.push(s),l.has(e)&&i.push(s)}),E.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=od(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<f.length;A++){const t=f[A],e=t.__ng_removed;if(Zp(t,Pd),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,Id,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Kp(this,t,i):this.processLeaveNode(t)}return f.length=0,P.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),P}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==Fp;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,c=ud(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Gd(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,c=[],l=new Set,h=new Set,u=e.timelines.map(e=>{const u=e.element;l.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new id(e.duration,e.delay);const p=u!==a,m=function(t){const e=[];return Qp(t,e),e}((n.get(u)||kp).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),f=r.get(u),g=s.get(u),v=ad(0,this._normalizer,0,e.keyframes,f,g),y=this._buildPlayer(e,v,m);if(e.subTimeline&&i&&h.add(u),p){const e=new Up(t,o,u);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{ud(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Yp(t,Ad));const d=od(u);return d.onDestroy(()=>{l.forEach(t=>Zp(t,Ad)),Fd(a,e.toStyles)}),h.forEach(t=>{ud(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new id(t.duration,t.delay)}}class Up{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new id,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>cd(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ud(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Vp(t){return t&&1===t.nodeType}function Wp(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Xp(t,e,n,i,r){const s=[];n.forEach(t=>s.push(Wp(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Hp,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>Wp(t,s[a++])),o}function qp(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Yp(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Zp(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Kp(t,e,n){od(n).onDone(()=>t.processLeaveNode(e))}function Qp(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof rd?Qp(i.players,e):e.push(i)}}function Jp(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class $p{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new zp(t,e,n),this._timelineEngine=new Ip(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=rp(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Ep(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=dd(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=dd(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function tm(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=nm(e[0]),e.length>1&&(i=nm(e[e.length-1]))):e&&(n=nm(e)),n||i?new em(t,n,i):null}let em=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Fd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fd(this._element,this._initialStyles),this._endStyles&&(Fd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Gd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gd(this._element,this._endStyles),this._endStyles=null),Fd(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function nm(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];im(r)&&(e=e||{},e[r]=t[r])}return e}function im(t){return"display"===t||"position"===t}const rm="animation",sm="animationend";class om{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=dm(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),um(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),hm(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){am(this._element,this._name,"paused")}resume(){am(this._element,this._name,"running")}setPosition(t){const e=cm(this._element,this._name);this._position=t*this._duration,um(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),hm(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=dm(t,"").split(","),i=lm(n,e);i>=0&&(n.splice(i,1),um(t,"",n.join(",")))}(this._element,this._name))}}function am(t,e,n){um(t,"PlayState",n,cm(t,e))}function cm(t,e){const n=dm(t,"");return n.indexOf(",")>0?lm(n.split(","),e):lm([n],e)}function lm(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function hm(t,e,n){n?t.removeEventListener(sm,e):t.addEventListener(sm,e)}function um(t,e,n,i){const r=rm+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function dm(t,e){return t.style[rm+e]||""}class pm{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new om(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Qd(this.element,n))})}this.currentSnapshot=t}}class mm extends id{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Md(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class fm{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return _d(t)}matchesElement(t,e){return bd(t,e)}containsElement(t,e){return wd(t,e)}query(t,e,n){return xd(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Md(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof pm),c={};Yd(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Zd(t,e,c));if(0==n)return new mm(t,l);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,h,e);document.querySelector("head").appendChild(u);const d=tm(t,e),p=new pm(t,e,h,n,i,r,l,d);return p.onDestroy(()=>{var t;(t=u).parentNode.removeChild(t)}),p}}class gm{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Qd(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class vm{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ym().toString()),this._cssKeyframesDriver=new fm}validateStyleProperty(t){return _d(t)}matchesElement(t,e){return bd(t,e)}containsElement(t,e){return wd(t,e)}query(t,e,n){return xd(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},l=s.filter(t=>t instanceof gm);Yd(n,i)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const h=tm(t,e=Zd(t,e=e.map(t=>Nd(t,!1)),c));return new gm(t,e,a,h)}}function ym(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let _m=(()=>{class t extends Yu{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Pt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ju(t):t;return xm(this._renderer,null,e,"register",[n]),new bm(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(mi(Da),mi(th))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class bm extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new wm(this._id,t,e||{},this._renderer)}}class wm{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xm(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function xm(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const Mm="@",Sm="@.disabled";let Tm=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Cm("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new Pm(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(mi(Da),mi($p),mi(wl))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Cm{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Mm&&e==Sm?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Pm extends Cm{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Mm?"."==e.charAt(1)&&e==Sm?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Mm){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=Mm&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Em=(()=>{class t extends $p{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(mi(th),mi(Td),mi(wp))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Om=new Kn("AnimationModuleType"),Am=[{provide:Td,useFactory:function(){return"function"==typeof ym()?new vm:new fm}},{provide:Om,useValue:"BrowserAnimations"},{provide:Yu,useClass:_m},{provide:wp,useFactory:function(){return new xp}},{provide:$p,useClass:Em},{provide:Da,useFactory:function(t,e,n){return new Tm(t,e,n)},deps:[Kh,$p,wl]}];let Im=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:Am,imports:[hu]}),t})();function Lm(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Rm(){}function Dm(t,e,n){return function(i){return i.lift(new km(t,e,n))}}class km{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Nm(t,this.nextOrObserver,this.error,this.complete))}}class Nm extends m{constructor(t,e,n,r){super(t),this._tapNext=Rm,this._tapError=Rm,this._tapComplete=Rm,this._tapError=n||Rm,this._tapComplete=r||Rm,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Rm,this._tapError=e.error||Rm,this._tapComplete=e.complete||Rm)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Hm extends u{constructor(t,e){super()}schedule(t,e=0){return this}}class Bm extends Hm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Fm=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Gm extends Fm{constructor(t,e=Fm.now){super(t,()=>Gm.delegate&&Gm.delegate!==this?Gm.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Gm.delegate&&Gm.delegate!==this?Gm.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const jm=new Gm(Bm);class zm{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Um(t,this.dueTime,this.scheduler))}}class Um extends m{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Vm,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Vm(t){t.debouncedNext()}const Wm=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})(),Xm=new b(t=>t.complete());function qm(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):Xm}function Ym(t){return e=>0===t?qm():e.lift(new Zm(t))}class Zm{constructor(t){if(this.total=t,this.total<0)throw new Wm}call(t,e){return e.subscribe(new Km(t,this.total))}}class Km extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Qm(t){return null!=t&&"false"!=`${t}`}function Jm(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function $m(t){return t instanceof La?t.nativeElement:t}let tf;try{tf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(VL){tf=!1}let ef,nf,rf,sf,of=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ih(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(mi(ol))},t.\u0275prov=dt({factory:function(){return new t(mi(ol))},token:t,providedIn:"root"}),t})(),af=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();function cf(t){return function(){if(null==ef&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ef=!0}))}finally{ef=ef||!1}return ef}()?t:!!t.capture}function lf(){if("object"!=typeof document||!document)return 0;if(null==nf){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),nf=0,0===t.scrollLeft&&(t.scrollLeft=1,nf=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return nf}let hf=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(VL){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===df(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=df(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||uf(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(mi(of))},t.\u0275prov=dt({factory:function(){return new t(mi(of))},token:t,providedIn:"root"}),t})();function uf(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function df(t){if(!uf(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class pf{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ym(1)).subscribe(t)}}let mf=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new pf(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(mi(hf),mi(wl),mi(th))},t.\u0275prov=dt({factory:function(){return new t(mi(hf),mi(wl),mi(th))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const ff=new Kn("cdk-focus-monitor-default-options"),gf=cf({passive:!0,capture:!0});let vf=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=function(t){return 0===t.buttons}(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=yf(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=yf(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=$m(t);if(!this._platform.isBrowser||1!==n.nodeType)return uu(null);const i=function(t){if(function(){if(null==sf){const t="undefined"!=typeof document?document.head:null;sf=!(!t||!t.createShadowRoot&&!t.attachShadow)}return sf}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const s={checkChildren:e,subject:new T,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=$m(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=$m(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=yf(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===yf(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,gf),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,gf)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,gf),t.addEventListener("mousedown",this._documentMousedownListener,gf),t.addEventListener("touchstart",this._documentTouchstartListener,gf),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gf),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gf),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,gf),t.removeEventListener("mousedown",this._documentMousedownListener,gf),t.removeEventListener("touchstart",this._documentTouchstartListener,gf),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(mi(wl),mi(of),mi(th,8),mi(ff,8))},t.\u0275prov=dt({factory:function(){return new t(mi(wl),mi(of),mi(th,8),mi(ff,8))},token:t,providedIn:"root"}),t})();function yf(t){return t.composedPath?t.composedPath()[0]:t.target}const _f="cdk-high-contrast-black-on-white",bf="cdk-high-contrast-white-on-black",wf="cdk-high-contrast-active";let xf=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(wf),t.remove(_f),t.remove(bf);const e=this.getHighContrastMode();1===e?(t.add(wf),t.add(_f)):2===e&&(t.add(wf),t.add(bf))}}}return t.\u0275fac=function(e){return new(e||t)(mi(of),mi(th))},t.\u0275prov=dt({factory:function(){return new t(mi(of),mi(th))},token:t,providedIn:"root"}),t})();const Mf=new Kn("cdk-dir-doc",{providedIn:"root",factory:function(){return fi(th)}});let Sf=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new kc,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(mi(Mf,8))},t.\u0275prov=dt({factory:function(){return new t(mi(Mf,8))},token:t,providedIn:"root"}),t})(),Tf=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();const Cf=new Ba("11.1.1");function Pf(...t){return W(1)(uu(...t))}function Ef(...t){const e=t[t.length-1];return P(e)?(t.pop(),n=>Pf(t,n,e)):e=>Pf(t,e)}const Of=new Ba("11.1.1"),Af=new Kn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let If,Lf=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return kl()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Of.full!==Cf.full&&console.warn("The Angular Material version ("+Of.full+") does not match the Angular CDK version ("+Cf.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(mi(xf),mi(Af,8),mi(th))},imports:[[Tf],Tf]}),t})();function Rf(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}try{If="undefined"!=typeof Intl}catch(VL){If=!1}let Df=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Lf],Lf]}),t})(),kf=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Lf,af],Lf]}),t})(),Nf=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Lf]]}),t})();const Hf=["*",[["mat-toolbar-row"]]],Bf=["*","mat-toolbar-row"];class Ff{constructor(t){this._elementRef=t}}const Gf=Rf(Ff);let jf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Zt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),zf=(()=>{class t extends Gf{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(Ao(La),Ao(of),Ao(th))},t.\u0275cmp=Ut({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&Zc(n,jf,1),2&t){let t;qc(t=Kc())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&$o("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[fo],ngContentSelectors:Bf,decls:2,vars:0,template:function(t,e){1&t&&(Wo(Hf),Xo(0),Xo(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),Uf=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Lf],Lf]}),t})();function Vf(t,e){return new b(e?n=>e.schedule(Wf,0,{error:t,subscriber:n}):e=>e.error(t))}function Wf({error:t,subscriber:e}){e.error(t)}function Xf(t,e){return new b(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const c=B(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&l||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}function qf(t){return function(e){const n=new Yf(t),i=e.lift(n);return n.caught=i}}class Yf{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Zf(t,this.selector,this.caught))}}class Zf extends G{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new F(this);this.add(i);const r=j(n,i);r!==i&&this.add(r)}}}function Kf(t){return e=>e.lift(new Qf(t))}class Qf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Jf(t,this.callback))}}class Jf extends m{constructor(t,e){super(t),this.add(new u(e))}}const $f=["*"];function tg(t){return Error(`Unable to find icon with the name "${t}"`)}function eg(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function ng(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class ig{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let rg=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new ig(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize(ir.HTML,n);if(!r)throw ng(n);return this._addSvgIconConfig(t,e,new ig("",r,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new ig(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(ir.HTML,e);if(!i)throw ng(e);return this._addSvgIconSetConfig(t,new ig("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(ir.RESOURCE_URL,t);if(!e)throw eg(t);const n=this._cachedIconsByUrl.get(e);return n?uu(sg(n)):this._loadSvgIconFromConfig(new ig(t,null)).pipe(Dm(t=>this._cachedIconsByUrl.set(e,t)),E(t=>sg(t)))}getNamedSvgIcon(t,e=""){const n=og(e,t);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Vf(tg(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?uu(sg(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(E(t=>sg(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?uu(n):function(...t){if(1===t.length){const e=t[0];if(c(e))return Xf(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Xf(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Xf(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(E(t=>e(...t)))}return Xf(t,null)}(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(qf(e=>{const n=this._sanitizer.sanitize(ir.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),uu(null)})))).pipe(E(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw tg(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Dm(e=>t.svgText=e),E(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?uu(null):this._fetchIcon(t).pipe(Dm(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,r=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(ir.RESOURCE_URL,n);if(!s)throw eg(n);const o=this._inProgressUrlFetches.get(s);if(o)return o;const a=this._httpClient.get(s,{responseType:"text",withCredentials:r}).pipe(Kf(()=>this._inProgressUrlFetches.delete(s)),it());return this._inProgressUrlFetches.set(s,a),a}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(og(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let i=0;i<this._resolvers.length;i++){const r=this._resolvers[i](e,t);if(r)return(n=r).url&&n.options?new ig(r.url,null,r.options):new ig(r,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(mi(Lu,8),mi(ou),mi(th,8),mi(hr))},t.\u0275prov=dt({factory:function(){return new t(mi(Lu,8),mi(ou),mi(th,8),mi(hr))},token:t,providedIn:"root"}),t})();function sg(t){return t.cloneNode(!0)}function og(t,e){return t+":"+e}class ag{constructor(t){this._elementRef=t}}const cg=Rf(ag),lg=new Kn("mat-icon-location",{providedIn:"root",factory:function(){const t=fi(th),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),hg=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ug=hg.map(t=>`[${t}]`).join(", "),dg=/^url\(['"]?#(.*?)['"]?\)$/;let pg=(()=>{class t extends cg{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=u.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Qm(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(ug),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)hg.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(dg):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Ym(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(Ao(La),Ao(rg),qn("aria-hidden"),Ao(lg),Ao(hr))},t.\u0275cmp=Ut({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(Co("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),$o("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[fo],ngContentSelectors:$f,decls:1,vars:0,template:function(t,e){1&t&&(Wo(),Xo(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),mg=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Lf],Lf]}),t})();function fg(t,e,n,r){return i(n)&&(r=n,n=void 0),r?fg(t,e,n).pipe(E(t=>c(t)?r(...t):r(t))):new b(i=>{gg(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function gg(t,e,n,i,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),s=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)gg(t[s],e,n,i,r)}i.add(s)}function vg(t,e){return n=>n.lift(new yg(t,e))}class yg{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new _g(t,this.compare,this.keySelector))}}class _g extends m{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class bg{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new wg(t,this.durationSelector))}}class wg extends G{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=j(n,new F(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function xg(t){return!c(t)&&t-parseFloat(t)+1>=0}function Mg(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Sg(t,e=jm){return n=()=>function(t=0,e,n){let i=-1;return xg(e)?i=Number(e)<1?1:Number(e):P(e)&&(n=e),P(n)||(n=jm),new b(e=>{const r=xg(t)?t:+t-n.now();return n.schedule(Mg,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new bg(n))};var n}function Tg(t){return e=>e.lift(new Cg(t))}class Cg{constructor(t){this.notifier=t}call(t,e){const n=new Pg(t),i=j(this.notifier,new F(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Pg extends G{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Eg(t,e){return"function"==typeof e?n=>n.pipe(Eg((n,i)=>B(t(n,i)).pipe(E((t,r)=>e(n,t,i,r))))):e=>e.lift(new Og(t))}class Og{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ag(t,this.project))}}class Ag extends G{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new F(this),i=this.destination;i.add(n),this.innerSubscription=j(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}class Ig extends Bm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Lg extends Gm{}const Rg=new Lg(Ig);let Dg=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return uu(this.value);case"E":return Vf(this.error);case"C":return qm()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class kg extends m{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(kg.dispatch,this.delay,new Ng(t,this.destination)))}_next(t){this.scheduleMessage(Dg.createNext(t))}_error(t){this.scheduleMessage(Dg.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Dg.createComplete()),this.unsubscribe()}}class Ng{constructor(t,e){this.notification=t,this.destination=e}}class Hg extends T{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Bg(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new x;if(this.isStopped||this.hasError?s=u.EMPTY:(this.observers.push(t),s=new M(this,t)),i&&t.add(t=new kg(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Rg).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class Bg{constructor(t,e){this.time=t,this.value=e}}let Fg=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Gg=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new T,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new b(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Sg(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):uu()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(pu(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=$m(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(mi(wl),mi(of),mi(th,8))},t.\u0275prov=dt({factory:function(){return new t(mi(wl),mi(of),mi(th,8))},token:t,providedIn:"root"}),t})(),jg=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new T,this._elementScrolled=new b(t=>this.ngZone.runOutsideAngular(()=>fg(this.elementRef.nativeElement,"scroll").pipe(Tg(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=lf()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==lf()?t.left=t.right:1==lf()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;!function(){if(null==rf){if("object"!=typeof document||!document)return rf=!1,rf;if("scrollBehavior"in document.documentElement.style)rf=!0;else{const t=Element.prototype.scrollTo;rf=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return rf}()?(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left)):e.scrollTo(t)}measureScrollOffset(t){const e="left",n="right",i=this.elementRef.nativeElement;if("top"==t)return i.scrollTop;if("bottom"==t)return i.scrollHeight-i.clientHeight-i.scrollTop;const r=this.dir&&"rtl"==this.dir.value;return"start"==t?t=r?n:e:"end"==t&&(t=r?e:n),r&&2==lf()?t==e?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:r&&1==lf()?t==e?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:t==e?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(Ao(La),Ao(Gg),Ao(wl),Ao(Sf,8))},t.\u0275dir=Zt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),zg=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new T,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Sg(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(mi(of),mi(wl),mi(th,8))},t.\u0275prov=dt({factory:function(){return new t(mi(of),mi(wl),mi(th,8))},token:t,providedIn:"root"}),t})(),Ug=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();function Vg(t){return e=>e.lift(new Wg(t))}class Wg{constructor(t){this.value=t}call(t,e){return e.subscribe(new Xg(t,this.value))}}class Xg extends m{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const qg=["*"];function Yg(t,e){if(1&t){const t=No();Ro(0,"div",2),Bo("click",function(){return He(t),Uo()._onBackdropClicked()}),Do()}2&t&&$o("mat-drawer-shown",Uo()._isShowingBackdrop())}function Zg(t,e){1&t&&(Ro(0,"mat-drawer-content"),Xo(1,2),Do())}const Kg=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Qg=["mat-drawer","mat-drawer-content","*"];function Jg(t,e){if(1&t){const t=No();Ro(0,"div",2),Bo("click",function(){return He(t),Uo()._onBackdropClicked()}),Do()}2&t&&$o("mat-drawer-shown",Uo()._isShowingBackdrop())}function $g(t,e){1&t&&(Ro(0,"mat-sidenav-content",3),Xo(1,2),Do())}const tv=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],ev=["mat-sidenav","mat-sidenav-content","*"],nv=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",iv={transformDrawer:Ku("transform",[td("open, open-instant",$u({transform:"none",visibility:"visible"})),td("void",$u({"box-shadow":"none",visibility:"hidden"})),ed("void => open-instant",Qu("0ms")),ed("void <=> open, open-instant => void",Qu("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},rv=new Kn("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),sv=new Kn("MAT_DRAWER_CONTAINER");let ov=(()=>{class t extends jg{constructor(t,e,n,i,r){super(n,i,r),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(Ao(rc),Ao(lt(()=>cv)),Ao(La),Ao(Gg),Ao(wl))},t.\u0275cmp=Ut({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&Jo("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[fo],ngContentSelectors:qg,decls:1,vars:0,template:function(t,e){1&t&&(Wo(),Xo(0))},encapsulation:2,changeDetection:0}),t})(),av=(()=>{class t{constructor(t,e,n,i,r,s,o){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=r,this._doc=s,this._container=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new T,this._animationEnd=new T,this._animationState="void",this.openedChange=new kc(!0),this._openedStream=this.openedChange.pipe(pu(t=>t),E(()=>{})),this.openedStart=this._animationStarted.pipe(pu(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),Vg(void 0)),this._closedStream=this.openedChange.pipe(pu(t=>!t),E(()=>{})),this.closedStart=this._animationStarted.pipe(pu(t=>t.fromState!==t.toState&&"void"===t.toState),Vg(void 0)),this._destroyed=new T,this.onPositionChanged=new kc,this._modeChanged=new T,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{fg(this._elementRef.nativeElement,"keydown").pipe(pu(t=>27===t.keyCode&&!this.disableClose&&!Lm(t)),Tg(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(vg((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Qm(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=Qm(t)}get opened(){return this._opened}set opened(t){this.toggle(Qm(t))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const e=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,e){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),e)}_setOpen(t,e,n="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",e&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Ym(1)).subscribe(e=>t(e?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(La),Ao(mf),Ao(vf),Ao(of),Ao(wl),Ao(th,8),Ao(sv,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&Fo("@transform.start",function(t){return e._animationStartListener(t)})("@transform.done",function(t){return e._animationDoneListener(t)}),2&t&&(Co("align",null),la("@transform",e._animationState),$o("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:qg,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(Wo(),Ro(0,"div",0),Xo(1),Do())},encapsulation:2,data:{animation:[iv.transformDrawer]},changeDetection:0}),t})(),cv=(()=>{class t{constructor(t,e,n,i,r,s=!1,o){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=o,this._drawers=new Hc,this.backdropClick=new kc,this._destroyed=new T,this._doCheckSubject=new T,this._contentMargins={left:null,right:null},this._contentMarginChanges=new T,t&&t.change.pipe(Tg(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(Tg(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Qm(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Qm(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ef(this._allDrawers),Tg(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ef(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function(t,e=jm){return n=>n.lift(new zm(t,e))}(10),Tg(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(pu(t=>t.fromState!==t.toState),Tg(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Tg(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Tg(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ym(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Tg(q(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(Ao(Sf,8),Ao(La),Ao(wl),Ao(rc),Ao(zg),Ao(rv),Ao(Om,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){if(1&t&&(Zc(n,ov,1),Zc(n,av,1)),2&t){let t;qc(t=Kc())&&(e._content=t.first),qc(t=Kc())&&(e._allDrawers=t)}},viewQuery:function(t,e){if(1&t&&Yc(ov,1),2&t){let t;qc(t=Kc())&&(e._userContent=t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&$o("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ta([{provide:sv,useExisting:t}])],ngContentSelectors:Qg,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(Wo(Kg),Eo(0,Yg,1,2,"div",0),Xo(1),Xo(2,1),Eo(3,Zg,2,0,"mat-drawer-content",1)),2&t&&(Io("ngIf",e.hasBackdrop),es(3),Io("ngIf",!e._content))},directives:[Ch,ov],styles:[nv],encapsulation:2,changeDetection:0}),t})(),lv=(()=>{class t extends ov{constructor(t,e,n,i,r){super(t,e,n,i,r)}}return t.\u0275fac=function(e){return new(e||t)(Ao(rc),Ao(lt(()=>dv)),Ao(La),Ao(Gg),Ao(wl))},t.\u0275cmp=Ut({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&Jo("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[fo],ngContentSelectors:qg,decls:1,vars:0,template:function(t,e){1&t&&(Wo(),Xo(0))},encapsulation:2,changeDetection:0}),t})(),hv=(()=>{class t extends av{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Qm(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Jm(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Jm(t)}}return t.\u0275fac=function(e){return uv(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(Co("align",null),Jo("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),$o("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[fo],ngContentSelectors:qg,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(Wo(),Ro(0,"div",0),Xo(1),Do())},encapsulation:2,data:{animation:[iv.transformDrawer]},changeDetection:0}),t})();const uv=Xn(hv);let dv=(()=>{class t extends cv{}return t.\u0275fac=function(e){return pv(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){if(1&t&&(Zc(n,lv,1),Zc(n,hv,1)),2&t){let t;qc(t=Kc())&&(e._content=t.first),qc(t=Kc())&&(e._allDrawers=t)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&$o("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ta([{provide:sv,useExisting:t}]),fo],ngContentSelectors:ev,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(Wo(tv),Eo(0,Jg,1,2,"div",0),Xo(1),Xo(2,1),Eo(3,$g,2,0,"mat-sidenav-content",1)),2&t&&(Io("ngIf",e.hasBackdrop),es(3),Io("ngIf",!e._content))},directives:[Ch,lv,jg],styles:[nv],encapsulation:2,changeDetection:0}),t})();const pv=Xn(dv);let mv=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ah,Lf,af,Ug],Ug,Lf]}),t})(),fv=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),gv=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),vv=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[fv],imports:[gv]}),t})(),yv=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Lf],Lf]}),t})(),_v=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Df,kf,Lf,Nf,Ah],Df,Lf,Nf,yv]}),t})(),bv=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[kf,Lf],Lf]}),t})();class wv extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}class xv extends m{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Mv extends m{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Sv(t,e,n,i,r=new Mv(t,n,i)){if(!r.closed)return e instanceof b?e.subscribe(r):N(e)(r)}const Tv={};function Cv(...t){let e,n;return P(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),X(t,n).lift(new Pv(e))}class Pv{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ev(t,this.resultSelector))}}class Ev extends xv{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Tv),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Sv(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===Tv?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ov=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Av(t){return new b(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?B(n):qm()).subscribe(e)})}function Iv(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Lv(t,e,n))}}class Lv{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Rv(t,this.accumulator,this.seed,this.hasSeed))}}class Rv extends m{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Dv(t){return function(e){return 0===t?qm():e.lift(new kv(t))}}class kv{constructor(t){if(this.total=t,this.total<0)throw new Wm}call(t,e){return e.subscribe(new Nv(t,this.total))}}class Nv extends m{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function Hv(t=Gv){return e=>e.lift(new Bv(t))}class Bv{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Fv(t,this.errorFactory))}}class Fv extends m{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Gv(){return new Ov}function jv(t=null){return e=>e.lift(new zv(t))}class zv{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Uv(t,this.defaultValue))}}class Uv extends m{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Vv(t,e){const n=arguments.length>=2;return i=>i.pipe(t?pu((e,n)=>t(e,n,i)):v,Ym(1),n?jv(e):Hv(()=>new Ov))}class Wv{constructor(t,e){this.id=t,this.url=e}}class Xv extends Wv{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qv extends Wv{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yv extends Wv{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zv extends Wv{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kv extends Wv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qv extends Wv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jv extends Wv{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $v extends Wv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ty extends Wv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ey{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ny{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iy{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ry{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sy{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oy{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ay{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const cy="primary";class ly{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function hy(t){return new ly(t)}function uy(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function dy(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function py(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!my(t[r],e[r]))return!1;return!0}function my(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function fy(t){return Array.prototype.concat.apply([],t)}function gy(t){return t.length>0?t[t.length-1]:null}function vy(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yy(t){return(e=t)&&"function"==typeof e.subscribe?t:Ho(t)?B(Promise.resolve(t)):uu(t);var e}function _y(t,e,n){return n?function(t,e){return py(t,e)}(t.queryParams,e.queryParams)&&by(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>my(t[n],e[n]))}(t.queryParams,e.queryParams)&&wy(t.root,e.root)}function by(t,e){if(!Cy(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!by(t.children[n],e.children[n]))return!1}return!0}function wy(t,e){return xy(t,e,e.segments)}function xy(t,e,n){if(t.segments.length>n.length)return!!Cy(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Cy(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!wy(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!Cy(t.segments,i)&&!!t.children.primary&&xy(t.children.primary,e,r)}}class My{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hy(this.queryParams)),this._queryParamMap}toString(){return Oy.serialize(this)}}class Sy{constructor(t,e){this.segments=t,this.children=e,this.parent=null,vy(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ay(this)}}class Ty{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=hy(this.parameters)),this._parameterMap}toString(){return Hy(this)}}function Cy(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Py{}class Ey{parse(t){const e=new zy(t);return new My(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Iy(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ry(e)}=${Ry(t)}`).join("&"):`${Ry(e)}=${Ry(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Oy=new Ey;function Ay(t){return t.segments.map(t=>Hy(t)).join("/")}function Iy(t,e){if(!t.hasChildren())return Ay(t);if(e){const e=t.children.primary?Iy(t.children.primary,!1):"",n=[];return vy(t.children,(t,e)=>{e!==cy&&n.push(`${e}:${Iy(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return vy(t.children,(t,i)=>{i===cy&&(n=n.concat(e(t,i)))}),vy(t.children,(t,i)=>{i!==cy&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===cy?[Iy(t.children.primary,!1)]:[`${n}:${Iy(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Ay(t)}/${e[0]}`:`${Ay(t)}/(${e.join("//")})`}}function Ly(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ry(t){return Ly(t).replace(/%3B/gi,";")}function Dy(t){return Ly(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ky(t){return decodeURIComponent(t)}function Ny(t){return ky(t.replace(/\+/g,"%20"))}function Hy(t){return`${Dy(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Dy(t)}=${Dy(e[t])}`).join("")}`;var e}const By=/^[^\/()?;=#]+/;function Fy(t){const e=t.match(By);return e?e[0]:""}const Gy=/^[^=?&#]+/,jy=/^[^?&#]+/;class zy{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sy([],{}):new Sy([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Sy(t,e)),n}parseSegment(){const t=Fy(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ty(ky(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Fy(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Fy(this.remaining);t&&(n=t,this.capture(n))}t[ky(e)]=ky(n)}parseQueryParam(t){const e=function(t){const e=t.match(Gy);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(jy);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Ny(e),r=Ny(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Fy(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=cy);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new Sy([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Uy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Vy(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Vy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Wy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Wy(t,this._root).map(t=>t.value)}}function Vy(t,e){if(t===e.value)return e;for(const n of e.children){const e=Vy(t,n);if(e)return e}return null}function Wy(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Wy(t,n);if(i.length)return i.unshift(e),i}return[]}class Xy{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qy(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Yy extends Uy{constructor(t,e){super(t),this.snapshot=e,t_(this,t)}toString(){return this.snapshot.toString()}}function Zy(t,e){const n=function(t,e){const n=new Jy([],{},{},"",{},cy,e,null,t.root,-1,{});return new $y("",new Xy(n,[]))}(t,e),i=new wv([new Ty("",{})]),r=new wv({}),s=new wv({}),o=new wv({}),a=new wv(""),c=new Ky(i,r,o,a,s,cy,e,n.root);return c.snapshot=n.root,new Yy(new Xy(c,[]),n)}class Ky{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(t=>hy(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(t=>hy(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qy(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Jy{constructor(t,e,n,i,r,s,o,a,c,l,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $y extends Uy{constructor(t,e){super(e),this.url=t,t_(this,e)}toString(){return e_(this._root)}}function t_(t,e){e.value._routerState=t,e.children.forEach(e=>t_(t,e))}function e_(t){const e=t.children.length>0?` { ${t.children.map(e_).join(", ")} } `:"";return`${t.value}${e}`}function n_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,py(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),py(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!py(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),py(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function i_(t,e){var n,i;return py(t.params,e.params)&&Cy(n=t.url,i=e.url)&&n.every((t,e)=>py(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||i_(t.parent,e.parent))}function r_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return r_(t,e,i);return r_(t,e)})}(t,e,n);return new Xy(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return s_(e,t),t}{const n=new Ky(new wv((i=e.value).url),new wv(i.params),new wv(i.queryParams),new wv(i.fragment),new wv(i.data),i.outlet,i.component,i),r=e.children.map(e=>r_(t,e));return new Xy(n,r)}}var i}function s_(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)s_(t.children[n],e.children[n])}function o_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function a_(t){return"object"==typeof t&&null!=t&&t.outlets}function c_(t,e,n,i,r){let s={};return i&&vy(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new My(n.root===t?e:l_(n.root,t,e),s,r)}function l_(t,e,n){const i={};return vy(t.children,(t,r)=>{i[r]=t===e?n:l_(t,e,n)}),new Sy(t.segments,i)}class h_{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&o_(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(a_);if(i&&i!==gy(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class u_{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function d_(t,e,n){if(t||(t=new Sy([],{})),0===t.segments.length&&t.hasChildren())return p_(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(a_(o))break;const a=`${o}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!v_(a,c,e))return s;i+=2}else{if(!v_(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Sy(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Sy(t.segments.slice(i.pathIndex),t.children),p_(e,0,r)}return i.match&&0===r.length?new Sy(t.segments,{}):i.match&&!t.hasChildren()?m_(t,e,n):i.match?p_(t,0,r):m_(t,e,n)}function p_(t,e,n){if(0===n.length)return new Sy(t.segments,{});{const i=function(t){return a_(t[0])?t[0].outlets:{[cy]:t}}(n),r={};return vy(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=d_(t.children[i],e,n))}),vy(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Sy(t.segments,r)}}function m_(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(a_(s)){const t=f_(s.outlets);return new Sy(i,t)}if(0===r&&o_(n[0])){i.push(new Ty(t.segments[e].path,g_(n[0]))),r++;continue}const o=a_(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&o_(a)?(i.push(new Ty(o,g_(a))),r+=2):(i.push(new Ty(o,{})),r++)}return new Sy(i,{})}function f_(t){const e={};return vy(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=m_(new Sy([],{}),0,t))}),e}function g_(t){const e={};return vy(t,(t,n)=>e[n]=`${t}`),e}function v_(t,e,n){return t==n.path&&py(e,n.parameters)}class y_{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),n_(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=qy(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),vy(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=qy(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const i=qy(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new oy(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ry(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(n_(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),__(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function __(t){n_(t.value),t.children.forEach(__)}class b_{constructor(t,e){this.routes=t,this.module=e}}function w_(t){return"function"==typeof t}function x_(t){return t instanceof My}const M_=Symbol("INITIAL_VALUE");function S_(){return Eg(t=>Cv(t.map(t=>t.pipe(Ym(1),Ef(M_)))).pipe(Iv((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==M_)return t;if(i===M_&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||x_(i))return i}return t},t)},M_),pu(t=>t!==M_),E(t=>x_(t)?t:!0===t),Ym(1)))}let T_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&ko(0,"router-outlet")},directives:function(){return[bb]},encapsulation:2}),t})();function C_(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];P_(i,E_(e,i))}}function P_(t,e){t.children&&C_(t.children,e)}function E_(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function O_(t){const e=t.children&&t.children.map(O_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==cy&&(n.component=T_),n}function A_(t){return t.outlet||cy}function I_(t,e){const n=t.filter(t=>A_(t)===e);return n.push(...t.filter(t=>A_(t)!==e)),n}const L_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function R_(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},L_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||dy)(n,t,e);if(!r)return Object.assign({},L_);const s={};vy(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function D_(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>k_(t,e,n)&&A_(n)!==cy)}(t,n,i)){const r=new Sy(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&A_(s)!==cy){const n=new Sy([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[A_(s)]=n}return r}(t,e,i,new Sy(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>k_(t,e,n))}(t,n,i)){const s=new Sy(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(k_(t,n,a)&&!r[A_(a)]){const n=new Sy([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[A_(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Sy(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function k_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function N_(t,e,n,i){return!!(A_(t)===i||i!==cy&&k_(e,n,t))&&("**"===t.path||R_(e,t,n).matched)}function H_(t,e,n){return 0===e.length&&!t.children[n]}class B_{constructor(t){this.segmentGroup=t||null}}class F_{constructor(t){this.urlTree=t}}function G_(t){return new b(e=>e.error(new B_(t)))}function j_(t){return new b(e=>e.error(new F_(t)))}function z_(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class U_{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(pc)}apply(){const t=D_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Sy(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,cy).pipe(E(t=>this.createUrlTree(V_(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qf(t=>{if(t instanceof F_)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof B_)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,cy).pipe(E(e=>this.createUrlTree(V_(e),t.queryParams,t.fragment))).pipe(qf(t=>{if(t instanceof B_)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Sy([],{[cy]:t}):t;return new My(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(E(t=>new Sy([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return B(i).pipe(du(i=>{const r=n.children[i],s=I_(e,i);return this.expandSegmentGroup(t,s,r,i).pipe(E(t=>({segment:t,outlet:i})))}),Iv((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?pu((e,n)=>t(e,n,i)):v,Dv(1),n?jv(e):Hv(()=>new Ov))}())}expandSegment(t,e,n,i,r,s){return B(n).pipe(du(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(qf(t=>{if(t instanceof B_)return uu(null);throw t}))),Vv(t=>!!t),qf((t,n)=>{if(t instanceof Ov||"EmptyError"===t.name){if(H_(e,i,r))return uu(new Sy([],{}));throw new B_(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return N_(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):G_(e):G_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?j_(r):this.lineralizeSegments(n,r).pipe(z(n=>{const r=new Sy(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=R_(e,i,r);if(!o)return G_(e);const h=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?j_(h):this.lineralizeSegments(i,h).pipe(z(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(E(t=>(n._loadedConfig=t,new Sy(i,{})))):uu(new Sy(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=R_(e,n,i);if(!s)return G_(e);const c=i.slice(a);return this.getChildConfig(t,n,i).pipe(z(t=>{const i=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=D_(e,o,c,s),h=new Sy(a.segments,a.children);if(0===l.length&&h.hasChildren())return this.expandChildren(i,s,h).pipe(E(t=>new Sy(o,t)));if(0===s.length&&0===l.length)return uu(new Sy(o,{}));const u=A_(n)===r;return this.expandSegment(i,h,s,l,u?cy:r,!0).pipe(E(t=>new Sy(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?uu(new b_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?uu(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(E(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(uy(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):uu(new b_([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;return i&&0!==i.length?uu(i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&w_(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!w_(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return yy(s)})).pipe(S_(),Dm(t=>{if(!x_(t))return;const e=uy(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),E(t=>!0===t)):uu(!0)}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return uu(n);if(i.numberOfChildren>1||!i.children.primary)return z_(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new My(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return vy(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return vy(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new Sy(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function V_(t){const e={};for(const n of Object.keys(t.children)){const i=V_(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Sy(t.segments.concat(e.segments),e.children)}return t}(new Sy(t.segments,e))}class W_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class X_{constructor(t,e){this.component=t,this.route=e}}function q_(t,e,n){const i=t._root;return Z_(i,e?e._root:null,n,[i.value])}function Y_(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Z_(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=qy(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Cy(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cy(t.url,e.url)||!py(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!i_(t,e)||!py(t.queryParams,e.queryParams);case"paramsChange":default:return!i_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new W_(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Z_(t,e,s.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new X_(a.outlet.component,o))}else o&&K_(e,a,r),r.canActivateChecks.push(new W_(i)),Z_(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),vy(s,(t,e)=>K_(t,n.getContext(e),r)),r}function K_(t,e,n){const i=qy(t),r=t.value;vy(i,(t,i)=>{K_(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new X_(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Q_{}function J_(t){return new b(e=>e.error(t))}class $_{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=D_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,cy);if(null===e)return null;const n=new Jy([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},cy,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xy(n,e),r=new $y(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=Qy(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=I_(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=function(t){const e=[];for(const n of t){if(!tb(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return i.sort((t,e)=>t.value.outlet===cy?-1:e.value.outlet===cy?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return H_(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!N_(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?gy(n).parameters:{};r=new Jy(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ib(t),A_(t),t.component,t,eb(e),nb(e)+n.length,rb(t))}else{const i=R_(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new Jy(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ib(t),A_(t),t.component,t,eb(e),nb(e)+s.length,rb(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=D_(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Xy(r,t)]}if(0===a.length&&0===l.length)return[new Xy(r,[])];const h=A_(t)===i,u=this.processSegment(a,c,l,h?cy:i);return null===u?null:[new Xy(r,u)]}}function tb(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function eb(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nb(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ib(t){return t.data||{}}function rb(t){return t.resolve||{}}function sb(t){return Eg(e=>{const n=t(e);return n?B(n).pipe(E(()=>e)):uu(e)})}class ob extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ab=new Kn("ROUTES");class cb{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(E(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new b_(fy(i.injector.get(ab,void 0,wt.Self|wt.Optional)).map(O_),i)}))}loadModuleFactory(t){return"string"==typeof t?B(this.loader.load(t)):yy(t()).pipe(z(t=>t instanceof mc?uu(t):B(this.compiler.compileModuleAsync(t))))}}class lb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hb,this.attachRef=null}}class hb{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new lb,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ub{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function db(t){throw t}function pb(t,e,n){return e.parse("/")}function mb(t,e){return uu(null)}let fb=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=db,this.malformedUriErrorHandler=pb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mb,afterPreactivation:mb},this.urlHandlingStrategy=new ub,this.routeReuseStrategy=new ob,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=r.get(pc),this.console=r.get(cl);const c=r.get(wl);this.isNgZoneEnabled=c instanceof wl&&wl.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new My(new Sy([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cb(s,o,t=>this.triggerEvent(new ey(t)),t=>this.triggerEvent(new ny(t))),this.routerState=Zy(this.currentUrlTree,this.rootComponentType),this.transitions=new wv({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(pu(t=>0!==t.id),E(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Eg(t=>{let n=!1,i=!1;return uu(t).pipe(Dm(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Eg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return uu(t).pipe(Eg(t=>{const n=this.transitions.getValue();return e.next(new Xv(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Xm:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,Eg(t=>function(t,e,n,i,r){return new U_(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(E(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Dm(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return z(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const o=new $_(t,e,n,i,r,s).recognize();return null===o?J_(new Q_):uu(o)}catch(o){return J_(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(E(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Dm(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Kv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new Xv(n,this.serializeUrl(i),r,s);e.next(a);const c=Zy(i,this.rootComponentType).snapshot;return uu(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Xm}),sb(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Dm(t=>{const e=new Qv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),E(t=>Object.assign(Object.assign({},t),{guards:q_(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return z(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?uu(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return B(t).pipe(z(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?uu(s.map(s=>{const o=Y_(s,e,r);let a;if(function(t){return t&&w_(t.canDeactivate)}(o))a=yy(o.canDeactivate(t,e,n,i));else{if(!w_(o))throw new Error("Invalid CanDeactivate guard");a=yy(o(t,e,n,i))}return a.pipe(Vv())})).pipe(S_()):uu(!0)}(t.component,t.route,n,e,i)),Vv(t=>!0!==t,!0))}(o,i,r,t).pipe(z(n=>n&&"boolean"==typeof n?function(t,e,n,i){return B(e).pipe(du(e=>Pf(function(t,e){return null!==t&&e&&e(new iy(t)),uu(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new sy(t)),uu(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Av(()=>uu(e.guards.map(r=>{const s=Y_(r,e.node,n);let o;if(function(t){return t&&w_(t.canActivateChild)}(s))o=yy(s.canActivateChild(i,t));else{if(!w_(s))throw new Error("Invalid CanActivateChild guard");o=yy(s(i,t))}return o.pipe(Vv())})).pipe(S_())));return uu(r).pipe(S_())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?uu(i.map(i=>Av(()=>{const r=Y_(i,e,n);let s;if(function(t){return t&&w_(t.canActivate)}(r))s=yy(r.canActivate(e,t));else{if(!w_(r))throw new Error("Invalid CanActivate guard");s=yy(r(e,t))}return s.pipe(Vv())}))).pipe(S_()):uu(!0)}(t,e.route,n))),Vv(t=>!0!==t,!0))}(i,s,t,e):uu(n)),E(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Dm(t=>{if(x_(t.guardsResult)){const e=uy(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Jv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),pu(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Yv(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),sb(t=>{if(t.guards.canActivateChecks.length)return uu(t).pipe(Dm(t=>{const e=new $v(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Eg(t=>{let n=!1;return uu(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,z(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return uu(t);let s=0;return B(n).pipe(du(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return uu({});const s={};return B(r).pipe(z(r=>function(t,e,n,i){const r=Y_(t,e,i);return yy(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Dm(t=>{s[r]=t}))),Dv(1),z(()=>Object.keys(s).length===r.length?uu(s):Xm))}(t._resolve,t,e,i).pipe(E(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Qy(t,n).resolve),null)))}(t.route,e,i,r)),Dm(()=>s++),Dv(1),z(e=>s===n.length?uu(t):Xm))})),Dm({next:()=>n=!0,complete:()=>{if(!n){const n=new Yv(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Dm(t=>{const e=new ty(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),sb(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),E(t=>{const e=function(t,e,n){const i=r_(t,e._root,n?n._root:void 0);return new Yy(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Dm(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),E(t=>(new y_(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),Dm({next(){n=!0},complete(){n=!0}}),Kf(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Yv(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),qf(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=x_(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Yv(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Zv(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return Xm}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){C_(t),this.config=t.map(O_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:r;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,r){if(0===n.length)return c_(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new h_(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return vy(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new h_(n,e,i)}(n);if(s.toRoot())return c_(e.root,new Sy([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new u_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new u_(t,t===e.root,0)}const i=o_(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new u_(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?p_(o.segmentGroup,o.index,s.commands):d_(o.segmentGroup,o.index,s.commands);return c_(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=x_(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(x_(t))return _y(this.currentUrlTree,t,e);const n=this.parseUrl(t);return _y(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new qv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,l,h;r?(c=r.resolve,l=r.reject,h=r.promise):h=new Promise((t,e)=>{c=t,l=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(mi(Jn),mi(Py),mi(hb),mi(fh),mi(po),mi(Vl),mi(yl),mi(void 0))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),gb=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],this.onChanges=new T,null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:yb(this.skipLocationChange),replaceUrl:yb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:yb(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(fb),Ao(Ky),qn("tabindex"),Ao(ka),Ao(La))},t.\u0275dir=Zt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Bo("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[de]}),t})(),vb=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new T,this.subscription=t.events.subscribe(t=>{t instanceof qv&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:yb(this.skipLocationChange),replaceUrl:yb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:yb(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(fb),Ao(Ky),Ao(hh))},t.\u0275dir=Zt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Bo("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(ca("href",e.href,sr),Co("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[de]}),t})();function yb(t){return""===t||!!t}let _b=(()=>{class t{constructor(t,e,n,i,r,s){this.router=t,this.element=e,this.renderer=n,this.cdr=i,this.link=r,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof qv&&this.update()})}ngAfterContentInit(){uu(this.links.changes,this.linksWithHrefs.changes,uu(null)).pipe(W()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=B(e).pipe(W()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(fb),Ao(La),Ao(ka),Ao(rc),Ao(gb,8),Ao(vb,8))},t.\u0275dir=Zt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(Zc(n,gb,1),Zc(n,vb,1)),2&t){let t;qc(t=Kc())&&(e.links=t),qc(t=Kc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[de]}),t})(),bb=(()=>{class t{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new kc,this.deactivateEvents=new kc,this.name=i||cy,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new wb(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Ao(hb),Ao(gc),Ao(Ea),qn("name"),Ao(rc))},t.\u0275dir=Zt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class wb{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ky?this.route:t===hb?this.childContexts:this.parent.get(t,e)}}class xb{}class Mb{preload(t,e){return uu(null)}}let Sb=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new cb(e,n,e=>t.triggerEvent(new ey(e)),e=>t.triggerEvent(new ny(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(pu(t=>t instanceof qv),du(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(pc);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return B(n).pipe(W(),E(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(mi(fb),mi(Vl),mi(yl),mi(po),mi(xb))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Tb=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qv&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ay&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ay(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(mi(fb),mi(Lh),mi(void 0))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Cb=new Kn("ROUTER_CONFIGURATION"),Pb=new Kn("ROUTER_FORROOT_GUARD"),Eb=[fh,{provide:Py,useClass:Ey},{provide:fb,useFactory:function(t,e,n,i,r,s,o,a={},c,l){const h=new fb(null,t,e,n,i,r,s,fy(o));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=$l();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Py,hb,fh,po,Vl,yl,ab,Cb,[class{},new _i],[class{},new _i]]},hb,{provide:Ky,useFactory:function(t){return t.routerState.root},deps:[fb]},{provide:Vl,useClass:ql},Sb,Mb,class{preload(t,e){return e().pipe(qf(()=>uu(null)))}},{provide:Cb,useValue:{enableTracing:!1}}];function Ob(){return new Hl("Router",fb)}let Ab=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Eb,Db(e),{provide:Pb,useFactory:Rb,deps:[[fb,new _i,new bi]]},{provide:Cb,useValue:n||{}},{provide:hh,useFactory:Lb,deps:[eh,[new yi(dh),new _i],Cb]},{provide:Tb,useFactory:Ib,deps:[fb,Lh,Cb]},{provide:xb,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mb},{provide:Hl,multi:!0,useFactory:Ob},[kb,{provide:tl,multi:!0,useFactory:Nb,deps:[kb]},{provide:Bb,useFactory:Hb,deps:[kb]},{provide:al,multi:!0,useExisting:Bb}]]}}static forChild(e){return{ngModule:t,providers:[Db(e)]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(mi(Pb,8),mi(fb,8))}}),t})();function Ib(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Tb(t,e,n)}function Lb(t,e,n={}){return n.useHash?new mh(t,e):new ph(t,e)}function Rb(t){return"guarded"}function Db(t){return[{provide:Qn,multi:!0,useValue:t},{provide:ab,multi:!0,useValue:t}]}let kb=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(ih,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(fb),i=this.injector.get(Cb);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?uu(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Cb),n=this.injector.get(Sb),i=this.injector.get(Tb),r=this.injector.get(fb),s=this.injector.get(zl);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(mi(po))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function Nb(t){return t.appInitializer.bind(t)}function Hb(t){return t.bootstrapListener.bind(t)}const Bb=new Kn("Router Initializer");let Fb=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(Ao(fb))},t.\u0275cmp=Ut({type:t,selectors:[["app-home-projects"]],decls:27,vars:2,consts:[[1,"centeredContent"],[1,"video-background"],[1,"video-foreground"],["src","https://www.youtube.com/embed/3l0N_7o6a_U?controls=0&showinfo=0&rel=0&autoplay=1&loop=1&mute=1&playlist=3l0N_7o6a_U","frameborder","0","allowfullscreen",""],[1,"nav"],[1,"sitename"],["id","vidtop-content"],["src","assets/res/signature.svg",1,"logoMain"],[1,"centeredTop"],[1,"introduction"],[1,"options"],[1,"hvr-grow","big"],["routerLinkActive","active",3,"routerLink"],[1,"hvr-grow"]],template:function(t,e){1&t&&(Ro(0,"div",0),Ro(1,"div",1),Ro(2,"div",2),ko(3,"iframe",3),Do(),Do(),Ro(4,"div",4),Ro(5,"p",5),sa(6,"andrewpodrat.com"),Do(),Do(),Ro(7,"div",6),ko(8,"img",7),Ro(9,"div",8),Ro(10,"h1"),sa(11,"Hello!"),Do(),Ro(12,"h2"),sa(13,"I am Andew Podrat."),Do(),Ro(14,"p",9),sa(15,"Welcome to my portfolio! What kind of projects are you here to see?"),Do(),Do(),Ro(16,"ul",10),Ro(17,"li",11),Ro(18,"a",12),Ro(19,"mat-icon"),sa(20,"public"),Do(),sa(21," Websites & Apps "),Do(),Do(),Ro(22,"li",13),Ro(23,"a",12),Ro(24,"mat-icon"),sa(25,"games"),Do(),sa(26," Enthusiast Projects "),Do(),Do(),Do(),Do(),Do()),2&t&&(es(18),Io("routerLink","/apps"),es(5),Io("routerLink","/games"))},directives:[vb,_b,pg],styles:['@import url("https://fonts.googleapis.com/css2?family=Rajdhani&display=swap");@font-face{font-family:pixel5;src:url(pixel5.d9d11b3df42d741aaf14.ttf) format("truetype")}.accentHighlight[_ngcontent-%COMP%]{color:#009ab5;font-size:inherit;font-family:inherit}*[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(mat-icon){font-family:Rajdhani,sans-serif}.nav[_ngcontent-%COMP%]{background-color:rgba(48,56,65,.4);width:100%;text-align:right}.nav[_ngcontent-%COMP%]   .sitename[_ngcontent-%COMP%]{color:#fff;font-size:1.4em;margin:.6em 2em;letter-spacing:.175ch}mat-icon[_ngcontent-%COMP%]{margin-right:8px}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#eee}a[_ngcontent-%COMP%]:hover{color:#009ab5}a[_ngcontent-%COMP%]:active{color:#6f6f6f}.centeredContent[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;display:flex;flex-direction:column;align-items:center;background:#000;background:radial-gradient(circle,rgba(85,85,85,.8) 0,hsla(0,0%,100%,.6) 100%)}.centeredTop[_ngcontent-%COMP%]{color:#eee;margin-top:5vh}.centeredTop[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%], .centeredTop[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .centeredTop[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:1.5rem}.centeredTop[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;flex-grow:1}.centeredTop[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.centeredTop[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]{width:100%;font-size:2rem;margin-bottom:0}.options[_ngcontent-%COMP%]{text-align:center;width:100%;margin-top:5vh;display:flex;flex-direction:column;flex-wrap:wrap;align-items:center}.options[_ngcontent-%COMP%]   li.big[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:2rem;border:4px solid #fff;padding:.5em 2rem}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{max-width:350px;margin:24px}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;padding:.5em 1rem;border-radius:4px;align-items:center;justify-content:center;margin:0;height:100%;background-color:#009ab5;border:2px solid #fff;color:#fff;font-size:1.25em;text-decoration:none}.logoMain[_ngcontent-%COMP%]{margin-top:5vh;filter:invert(100%);height:15vh;max-height:150px}*[_ngcontent-%COMP%]{box-sizing:border-box}.video-background[_ngcontent-%COMP%]{background:#000;position:fixed;top:0;right:0;bottom:0;left:0;z-index:-99}.video-background[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%], .video-foreground[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;filter:blur(3px);-webkit-filter:blur(3px)}#vidtop-content[_ngcontent-%COMP%], .vid-info[_ngcontent-%COMP%]{top:0;color:#fff}.vid-info[_ngcontent-%COMP%]{position:absolute;right:0;width:33%;background:rgba(0,0,0,.3);padding:1rem;font-family:Avenir,Helvetica,sans-serif}.vid-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-top:0;line-height:1.2}.vid-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-decoration:none;background:rgba(0,0,0,.5);transition:background .6s;border-bottom:none;margin:1rem auto;text-align:center}@media (min-aspect-ratio:16/9){.video-foreground[_ngcontent-%COMP%]{height:300%;top:-100%}}@media (max-aspect-ratio:16/9){.video-foreground[_ngcontent-%COMP%]{width:300%;left:-100%}}@media (max-width:600px){.vid-info[_ngcontent-%COMP%]{width:50%;padding:.5rem}.vid-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:.2rem}}@media (max-width:500px){.vid-info[_ngcontent-%COMP%]   .acronym[_ngcontent-%COMP%]{display:none}}']}),t})();const Gb=[{id:3,name:"Ghost Game",link:"ghostgame",source:"",sourceText:"",linkTo:"",linkToText:"",date:"Since Jan 14 2021",aaOff:!1,style:"movie",imageOrMovieBGPath:"assets/res/projects/ghostgame/gg-bg.mp4",fallbackImage:"assets/res/projects/ghostgame/gg-bg.webp",customStyleData:"",description:"GhostGame is a cooperative, multiplayer game about hunting the supernatural across the world. Made with UE4, Blender, Mixamo and Quixel.",showcases:[{header:"Backstory and Demo",mediaHeader:"",textAbove:"GhostGame is my most recent project. I wanted to learn about making FP/TP animations and controllers, as well as AI systems and mod support in UE4. For only 2 weeks of work (as of 1/28/2021), there has been substantial progress and the idea is taking on a life of it's own! I have general mechanics implemented as well as basic coop and various lighting systems. Check out the video to see the progress!",textBelow:"",type:"youtube",media:["czVUCb_4Gkg"],extras:[]},{header:"2/27/2021: Main Menu & Light Culling Draft",mediaHeader:"",textAbove:"I have completed the first draft of the light culling system with great results: 70-120fps(capped). These results are enough for me to move on and return later if improvements are needed.<br/><br/>Below, you can see my progress on a Main Menu draft and a screenshot of the room-based light culling system. <br/><br/>For the main menu, the globe slowly spins and reveal different supernatural sightings that you will be able to pursue. The red dots are real life city locations that are loaded from a database, mapped onto a 3D globe that will soon allow a UI widget to snap to the city location in screen space and provide a glimpse of the mission before a player selects it to reveal more information.<br/><br/>For the culling system, the room analyzes its marked portals and examines the most likely viewing angles to determine what rooms are critical for any given player position in a room. You can also see a glimpse of my future modder-friendly Unreal Engine tool I made to assist with the creation of rooms!",textBelow:"[Click to expand]",type:"images",media:["assets/res/projects/ghostgame/mainmenu.png","assets/res/projects/ghostgame/roomvis.png"],extras:[]},{header:"3/23/2021: Gameplay draft, data-driven mod foundation",mediaHeader:"",textAbove:"Check out the quick video below to see the new show-off features! Code features are right below that.",textBelow:"Video notes: <br/><br/>1: Item pickup and control.<br/> 2: Breaking the mask spawns the Oni.<br/> 3: Picture show-off (notice the right HUD update). <br/>4: Video show off (notice video bars, [rec.] and left side HUD.<br/>5: Death demo.<br/>6: Inventory pickup/drop demo.",type:"youtube",media:["uege5QYtA-0"],extras:[]},{header:"3/23/2021: Code Changes",mediaHeader:"",textAbove:'There was a lot learned during this iteration. A BIG lesson was the unfornate realization of the necessity of big, wide doors and stairways. I always wondered why Naughty dog was so generous with their portals, now I know. <br/><br/> I also had a great chance to express my UE4 UMG knowledge, as show in the first few images below where I implemented a rudimentary gameplay HUD and a dynamic inventory widget that is dynamic by depending on whether or not the player has a bag or not. <br/><br/> Code wise, I rewrote some of the AI features for a better inhertance structure. I implemented a pretty simple scoring system too. <br/><br/> The largest change, however, was the implementation of a data-driven system. I have decided to stick to the idea of <strong>"If you can make edit a spreadsheet, you can make a mod."</strong> I want to make this game as data-driven as possible so that anyone who enjoys it can add more content easily. This is what I have always wanted as a modder and is what is exemplified in the Company of Heroes 2 Mod Tools.',textBelow:"First image shows all of the currently data-driven elements for the game. You can add in dynamically spawned props, inventory data and supernatural beings currently. <br/><br/> Image two shows how you would go about implementing a new variant of an existing creature. Note that there is a temporary hard class reference. In the future, I would like the be able to construct Supernaturals solely with data-driven code. More on that in future updates. <br/><br/> Image 3 shows my succesful, working implementation of an Event->Action listener system, adapted completely for data-driven gameplay through JSON parsing. In the future, this will allow modders to be able to make code changes, just by formulating JSON. This could end up being <em>too</em> powerful and could be removed. As a programming modder, I would want something like this, and frankly, I would want a strong game API to truly mod as well. I actually have created the aforementioned API but it is not implemented for modding yet. <br/><br/> In short, if you are familiar with Cascading Style Sheets, the modding system I have planned essentially loads modded DBs as layers and the layers cascade down to one composite sheet that the game and the server will interpret.",type:"images",media:["assets/res/projects/ghostgame/snddm1.png","assets/res/projects/ghostgame/snddm2.png","assets/res/projects/ghostgame/snddm3.png"],extras:[]}]},{id:4,name:"The Ultimate Zombie Game",link:"tuzg",source:"",sourceText:"",linkTo:"",linkToText:"",date:"Since Aug 2020",aaOff:!1,style:"movie",imageOrMovieBGPath:"assets/res/projects/tuzg/tuzg-bg.mp4",fallbackImage:"assets/res/projects/tuzg/tuzg-bg.webp",customStyleData:"",description:"The Ultimate Zombie Game (TUZG) is a game I created to test whether or not a multiplayer game could be created exclusively Blueprints in UE4; It mostly can. I ended up creating guns, ballistics systems and a world item interface to interact with objects.",showcases:[{header:"Backstory and Demo",mediaHeader:"",textAbove:"I have always wanted to make a zombie shooter. This project <em>was</em> in some way the start of that, but its true purpose was for me to learn multiplayer fundementals in UE4. I created a bunch of cool mechanics that will be helpful if I decide to pursue a shooter in the future. <br/><br/> Overall, the project went great! A month after I started it, the progress culminated with my Bare Multiplayer Fundamentals remote Guest Lecture at Southern New Hampshire University, where I gave a demonstration and complete walkthrough designed to help new students understand the ways that UE4 handles multiplayer without overhwhelming them. I also provided resources for students to learn, similar to how I did. <br/><br/>  In the video below, I narrate a detailed walkthrough of the project if you'd like to see it in action.",textBelow:'<p>The Ultimate Zombie Game is a proof of concept game designed with the following features:</p><ul><li>Data-driven game data; weapons and related are processed and loaded from spreadsheets</li><li>Simultaneous split screen and online Steam Multiplayer</li><li>Drop in, drop out split screen</li><li>Controller support</li><li>Different ballistic mechanics: Hitscan, Travel Time, Travel Time and Drop</li><li>Text chat (Not demonstrated in video, but is visible in bottom right corner)</li><li>Multimap, multi character selection (irrelevant to project, implemented identically from <a href="https://www.youtube.com/watch?v=abmzWUWxy1U&list=PLZlv_N0_O1gYqSlbGQVKsRg6fpxWndZqZ">Epic\'s 24 part web-series)</a></li></ul>',type:"youtube",media:["g1fEk56P0sA"],extras:[]}]},{id:2,name:"Game Jams",link:"gamejams",source:"",sourceText:"",linkTo:"",linkToText:"",date:"Since Oct 2020",aaOff:!1,style:"standard",fallbackImage:"assets/res/projects/gamejams/gameJamsCard.webp",imageOrMovieBGPath:"assets/res/projects/gamejams/gameJamsCard.jpg",customStyleData:"",description:"A showcase of the Game Jams I have completed.",showcases:[{header:"Halloween 2020 Pittsburgh BitBridge",mediaHeader:"assets/res/projects/gamejams/2020BitBridgeGameJam.png",textAbove:"This was my first game jam! I acted as co-designer and 3D modeler in a team of 9. <br/> <br/> My largest contribution to this game was the demon you can see below. I modeled, rigged, animated and created the material. Finally, I also added the animation state machine that controls it. There was a small amount of visual scripting, but this was mostly an art role. I elected to this art role because I felt it was a great experience to <em>not</em> code and to learn something new. <br/> <br/>Additionally, I co-drafted the game concept and the way the demon interacts with the player at the brain-storming stage. You can check out the <a href='https://github.com/peck2703/Halloween-GameJam'>source files here</a> and <a href='https://peck2703.itch.io/the-ritual'>the final result here.</a>",textBelow:"",type:"youtube",media:["MAGjUBtF2vw"],extras:[]}]},{id:5,name:"Not Enough Combat",link:"nec",source:"https://github.com/SubliminallySublime/-MCMOD-1.12.2-Not-Enough-Combat",sourceText:"Source Files (GitHub)",linkTo:"https://www.curseforge.com/minecraft/mc-mods/not-enough-combat",linkToText:"Link to Mod Page (CurseForge)",date:"Aug 2018 - Mar 2020",aaOff:!0,style:"customImageWrapper",fallbackImage:"assets/res/projects/nec/eo.gif",imageOrMovieBGPath:"assets/res/projects/nec/eo.gif",customStyleData:"nec",description:"Not Enough Combat is a mod for Minecraft (versions 1.7.10 - 1.12.2) that adds in armor for other mod added ores. Obsidian and Ender Obsidian armor and tools provide a unique vanilla end game experience.",showcases:[{header:"Background",mediaHeader:"",textAbove:"Written in Java on the back of the Minecraft Forge API, Not Enough Combat (NEC) was my first mod for any game. It was originally designed for my friend who wanted more weapons to craft to give him something else to do. While I was developing the basic tools and armor, I had another idea: a special type of armor that gave you powers like those of the Enderman. Thus, I designed and created Ender Obsidian armor and tools which are a great end-game reward. <br/> <br/> Below is a video walkthrough for the mod that I made for any users.",textBelow:"",type:"youtube",media:["M4dsktHFay4"],extras:[]}]},{id:6,name:"City Builder",link:"citybuilder",source:"",sourceText:"",linkTo:"",linkToText:"",date:"Since Dec 2020",aaOff:!1,style:"movie",imageOrMovieBGPath:"assets/res/projects/citybuilder/cb-bg.mp4",fallbackImage:"assets/res/projects/citybuilder/cb-bg.webp",customStyleData:"",description:"CityBuilder is a co-op, citybuilding economic sim with real time strategy elements. At the moment, the basic features of a city builder are in place: place, move, delete, rotate. Currently, I am working on a decal-based road system.",showcases:[{header:"Backstory and Demo",mediaHeader:"",textAbove:"I am a huge fan of city builders. CityBuilder is a side project I started to reinforce my understanding of multiplayer in UE4, as well as try out a new form of development. Various states and managers use UE4 replication to keep the game in sync. Like GhostGame, CityBuilder has taken on it's own idea, and I have detailed plans for it that would make it a unique city builder complete with elements from games I have enjoyed in the past.",textBelow:"",type:"youtube",media:["xU7SdGuVlNQ"],extras:[]}]},{id:1,name:"Ragnaraven",link:"ragnaraven",source:"",sourceText:"",linkTo:"",linkToText:"",date:"Since June 2018 ",aaOff:!1,style:"standard",imageOrMovieBGPath:"assets/res/projects/ragnaraven/unity4scene.jpg",fallbackImage:"assets/res/projects/ragnaraven/unity4scene.webp",customStyleData:"",description:"Work in progress, open world UE4 game. Set in an alternate, ecoistic world, humankind is threatened by an alien being that is invading the world. Story draft available on request.",showcases:[{header:"The Yin Yang Wyvern",mediaHeader:"",textAbove:"",textBelow:"A 3D model I created and rigged for the game. Click in the viewport to manipulate the preview.",type:"3dmodel",media:[],extras:[{name:"Yin Yang Wyvern",loadSrc:"assets/res/projects/ragnaraven/models/YinYangWyvernRig.gltf",source:"assets/res/projects/ragnaraven/models/YinYangWyvernRig.blend",sourceText:"",note:"Please be aware that the 3D preview may skew colors, shading or other contain other minor quirks.",cameraX:-10,cameraY:-5,cameraZ:-10,ambientLightPower:20,directionalLightPower:3},{name:"Yin Yang Wyvern Scene",loadSrc:"assets/res/projects/ragnaraven/models/YinYangWyvern.gltf",source:"assets/res/projects/ragnaraven/models/YinYangWyvern.blend",sourceText:"",note:"Please be aware that the 3D preview may skew colors, shading or other contain other minor quirks.",cameraX:10,cameraY:5,cameraZ:10,ambientLightPower:10,directionalLightPower:5}]},{header:"Scenery",mediaHeader:"",textAbove:"",textBelow:"",type:"images",media:["assets/res/projects/ragnaraven/unity4scene.png","assets/res/projects/ragnaraven/unity3snow.webp","assets/res/projects/ragnaraven/unity2temple.webp"],extras:[]},{header:"Shading and Graphics",mediaHeader:"",textAbove:"",textBelow:"",type:"singlemovie",media:["assets/res/projects/ragnaraven/moveShowcase.mp4"],extras:[]},{header:"Gameplay",mediaHeader:"",textAbove:"",textBelow:"",type:"moviegrid",media:["assets/res/projects/ragnaraven/earthProjectile2.mp4","assets/res/projects/ragnaraven/earthquake2.mp4","assets/res/projects/ragnaraven/earthrise2.mp4","assets/res/projects/ragnaraven/earthWhip2.mp4","assets/res/projects/ragnaraven/takingDamageAndHealing2.mp4","assets/res/projects/ragnaraven/healDemo2.mp4","assets/res/projects/ragnaraven/lightningDamage2.mp4","assets/res/projects/ragnaraven/lightningShowcase2.mp4"],extras:[]},{header:"Background",mediaHeader:"",textAbove:'My work on Ragnaraven is best described in two parts: Learning and writing. I learned as much of Unreal Engine as I could to start development. That process took about a year. The year after that, I began planning a world, a story and gameplay mechanics. While I am not ready to fully reveal the story, below, you can see the beginnings of my low poly art style and the some of the gameplay mechanics. <br/> <br/> I breifly paused development to create "The Ultimate Zombie Game" to take on the behometh of multiplayer development. When I finished that project, I realized that I care too much about the story to botch the execution of Ragnaraven. I have decided to continue my writing and design so that once I am well experienced I will be able to make Ragnaraven the game it deserves to be. Since then, I have decided to dabble with City Builder and Ghost Game to continue learning and gaining game development wisdom from these smaller scope projects.',textBelow:"",type:"html",media:[],extras:[]}]}],jb={UKNOWN:"Unknown"},zb={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:jb.UKNOWN},Ub={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Vb={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Wb={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:jb.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone"},Xb={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:jb.UKNOWN},qb={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",UNKNOWN:jb.UKNOWN.toLowerCase()},Yb=Object.assign(Object.assign(Object.assign({},Ub),Vb),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/}),Zb={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,iOS:/(iPhone OS\s*[0-9_]+)/},Kb={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},Qb=(t,e)=>(t[e]=Zb[e],t),Jb=Object.keys(Zb).reduce(Qb,{}),$b=(t,e)=>(t[zb[e]]=Kb[e],t),tw=Object.keys(Kb).reduce($b,{});var ew=Object.freeze({__proto__:null,GENERAL:jb,BROWSERS:zb,MOBILES_RE:Ub,TABLETS_RE:Vb,DEVICES:Wb,OS:Xb,OS_VERSIONS:qb,OS_RE:{WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:Yb,OS_VERSIONS_RE_MAP:Zb,BROWSER_VERSIONS_RE_MAP:Kb,OS_VERSIONS_RE:Jb,BROWSER_VERSIONS_RE:tw,"\u02750":Qb,"\u02751":$b});class nw{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(e=>this.test(t,e)):e&&Array.isArray(e.or)?e.or.some(e=>this.test(t,e)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((e,n)=>e||this.exec(t,n),null):null}}var iw=function(t){return t.Mobile="mobile",t.Tablet="tablet",t.Desktop="desktop",t.Unknown="unknown",t}({}),rw=function(t){return t.Portrait="portrait",t.Landscape="landscape",t}({});let sw=(()=>{class t{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new nw,this.deviceType="",this.orientation="",Ih(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const e=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(e.forEach(e=>{this[e.prop]=Object.keys(ew[e.const]).reduce((n,i)=>"device"===ew[e.const][i]&&Ih(this.platformId)&&(this.reTree.test(this.userAgent,Vb.iPad)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(n[ew[e.const][i]]="iPad",Object):(n[ew[e.const][i]]=this.reTree.test(t,ew[`${e.const}_RE`][i]),n),{})}),e.forEach(t=>{this[t.prop]=Object.keys(ew[t.const]).map(e=>ew[t.const][e]).reduce((e,n)=>"device"===t.prop&&e===ew[t.const].ANDROID?this[t.prop][n]?n:e:e===ew[t.const].UNKNOWN&&this[t.prop][n]?n:e,ew[t.const].UNKNOWN)}),this.browser_version="0",this.browser!==zb.UNKNOWN){const e=this.reTree.exec(t,tw[this.browser]);e&&(this.browser_version=e[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?rw.Landscape:rw.Portrait:jb.UKNOWN,this.deviceType=this.isTablet()?iw.Tablet:this.isMobile(this.userAgent)?iw.Mobile:this.isDesktop(this.userAgent)?iw.Desktop:iw.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(Ub).find(e=>this.reTree.test(t,Ub[e]))}isTablet(t=this.userAgent){return!(!Ih(this.platformId)||!(this.reTree.test(this.userAgent,Vb.iPad)||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Vb).find(e=>!!this.reTree.test(t,Vb[e]))}isDesktop(t=this.userAgent){const e=[Wb.PS4,Wb.CHROME_BOOK,Wb.UNKNOWN];return(this.device!==Wb.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&e.indexOf(this.device)>-1}}return t.\u0275fac=function(e){return new(e||t)(mi(ol))},t.\u0275prov=dt({factory:function(){return new t(mi(ol))},token:t,providedIn:"root"}),t})();const ow=new Kn("CdkAccordion");let aw=0,cw=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=u.EMPTY,this.closed=new kc,this.opened=new kc,this.destroyed=new kc,this.expandedChange=new kc,this.id="cdk-accordion-child-"+aw++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Qm(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Qm(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(ow,12),Ao(rc),Ao(Fg))},t.\u0275dir=Zt({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ta([{provide:ow,useValue:void 0}])]}),t})(),lw=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();class hw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class uw extends hw{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class dw extends hw{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class pw extends hw{constructor(t){super(),this.element=t instanceof La?t.nativeElement:t}}let mw=(()=>{class t extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof uw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof dw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof pw?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new kc,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Ao(Ea),Ao(gc),Ao(th))},t.\u0275dir=Zt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fo]}),t})(),fw=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();const gw=["body"];function vw(t,e){}const yw=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],_w=["mat-expansion-panel-header","*","mat-action-row"];function bw(t,e){1&t&&ko(0,"span",2),2&t&&Io("@indicatorRotate",Uo()._getExpandedState())}const ww=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],xw=["mat-panel-title","mat-panel-description","*"],Mw=new Kn("MAT_ACCORDION"),Sw="225ms cubic-bezier(0.4,0.0,0.2,1)",Tw={indicatorRotate:Ku("indicatorRotate",[td("collapsed, void",$u({transform:"rotate(0deg)"})),td("expanded",$u({transform:"rotate(180deg)"})),ed("expanded <=> collapsed, void => collapsed",Qu(Sw))]),bodyExpansion:Ku("bodyExpansion",[td("collapsed, void",$u({height:"0px",visibility:"hidden"})),td("expanded",$u({height:"*",visibility:"visible"})),ed("expanded <=> collapsed, void => collapsed",Qu(Sw))])};let Cw=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(lc))},t.\u0275dir=Zt({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),Pw=0;const Ew=new Kn("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Ow=(()=>{class t extends cw{constructor(t,e,n,i,r,s,o){super(t,e,n),this._viewContainerRef=i,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new kc,this.afterCollapse=new kc,this._inputChanges=new T,this._headerId="mat-expansion-panel-header-"+Pw++,this._bodyAnimationDone=new T,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe(vg((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),o&&(this.hideToggle=o.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Qm(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Ef(null),pu(()=>this.expanded&&!this._portal),Ym(1)).subscribe(()=>{this._portal=new dw(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(Ao(Mw,12),Ao(rc),Ao(Fg),Ao(gc),Ao(th),Ao(Om,8),Ao(Ew,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){if(1&t&&Zc(n,Cw,1),2&t){let t;qc(t=Kc())&&(e._lazyContent=t.first)}},viewQuery:function(t,e){if(1&t&&Yc(gw,1),2&t){let t;qc(t=Kc())&&(e._body=t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&$o("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ta([{provide:Mw,useValue:void 0}]),fo,de],ngContentSelectors:_w,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(Wo(yw),Xo(0),Ro(1,"div",0,1),Bo("@bodyExpansion.done",function(t){return e._bodyAnimationDone.next(t)}),Ro(3,"div",2),Xo(4,1),Eo(5,vw,0,0,"ng-template",3),Do(),Xo(6,2),Do()),2&t&&(es(1),Io("@bodyExpansion",e._getExpandedState())("id",e.id),Co("aria-labelledby",e._headerId),es(4),Io("cdkPortalOutlet",e._portal))},directives:[mw],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Tw.bodyExpansion]},changeDetection:0}),t})(),Aw=(()=>{class t{constructor(t,e,n,i,r,s){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._animationMode=s,this._parentChangeSubscription=u.EMPTY;const o=t.accordion?t.accordion._stateChanges.pipe(pu(t=>!(!t.hideToggle&&!t.togglePosition))):Xm;this._parentChangeSubscription=q(t.opened,t.closed,o,t._inputChanges.pipe(pu(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(pu(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Lm(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,e){t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Ow,1),Ao(La),Ao(vf),Ao(rc),Ao(Ew,8),Ao(Om,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&Bo("click",function(){return e._toggle()})("keydown",function(t){return e._keydown(t)}),2&t&&(Co("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),Jo("height",e._getHeaderHeight()),$o("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:xw,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(Wo(ww),Ro(0,"span",0),Xo(1),Xo(2,1),Xo(3,2),Do(),Eo(4,bw,1,1,"span",1)),2&t&&(es(4),Io("ngIf",e._showToggle()))},directives:[Ch],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[Tw.indicatorRotate]},changeDetection:0}),t})(),Iw=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ah,Lf,lw,fw]]}),t})();const Lw=["imageFirst"],Rw=["imageSecond"],Dw=["imageLast"],kw=["lightboxImage"],Nw=["prevImageElem"],Hw=["lightboxContainer"];function Bw(t,e){if(1&t&&(Ro(0,"div",11),sa(1),Do()),2&t){const t=Uo();es(1),oa(t.counter)}}function Fw(t,e){if(1&t){const t=No();Ro(0,"div",12),Bo("click",function(){return He(t),Uo().closeLightbox()}),sa(1),Do()}if(2&t){const t=Uo();es(1),oa(t.closeButtonText)}}function Gw(t,e){1&t&&ko(0,"div",13)}function jw(t,e){1&t&&(Ro(0,"div",14),ko(1,"div",13),Do())}function zw(t,e){1&t&&(Ro(0,"div",15),sa(1,"Failed to load image"),Do())}let Uw=(()=>{let t=class{constructor(){this.emitter=new Hg(1)}emitChangeEvent(t){this.emitter.next(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),Vw=(()=>{let t=class{constructor(t){this.eventService=t,this.currentImageIndex=0,this.indexCurrentSlide=1,this.containerStyles={transition:"",transform:"",width:"",height:"",opacity:""},this.currImageLoadingState="not-loaded",this.isMobile=class{static mobileCheck(){var t,e=!1;return t=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}}.mobileCheck()}get lightboxImage(){return this._lightboxImage}get lightboxImageElement(){if(this.lightboxImage)return this.lightboxImage.nativeElement}get lightboxImageNaturalHeight(){if(this.lightboxImageElement)return this.lightboxImageElement.naturalHeight}get lightboxImageNaturalWidth(){if(this.lightboxImageElement)return this.lightboxImageElement.naturalWidth}get index(){return this.currentImageIndex}get properties(){return this.lightboxData.properties}get images(){return this.lightboxData.images||[this.lightboxData.image]}get thumbnailImage(){return this.images[this.currentImageIndex].nativeElement}get thumbnailImagePosition(){return this.thumbnailImage.getBoundingClientRect()}get virtualImageDimension(){let t=this.lightboxImageNaturalHeight,e=t*this.imageAspectRatio;const n=document.body.clientWidth,i=window.innerHeight;return this.isImageLargerWindow?(t>i&&(t=i,e=t*this.imageAspectRatio),e>n&&(e=n,t=e/this.imageAspectRatio)):(e=this.lightboxImageNaturalWidth,t=this.lightboxImageNaturalHeight),0===e||0===Number.parseInt(t)?{width:200,height:200}:{width:e,height:t}}get containerInitialPosition(){const t="initial-thumbnail-image"===this.showState?1:this.containerScale;return"matrix("+t+", 0, 0, "+t+","+this.thumbnailImagePosition.left+","+this.thumbnailImagePosition.top+")"}get containerFullscreenPosition(){return"translate3d("+(document.body.clientWidth-this.virtualImageDimension.width)/2+"px, "+(window.innerHeight-this.virtualImageDimension.height)/2+"px, 0)"}get containerScale(){return this.thumbnailImagePosition.width/this.virtualImageDimension.width}get imageAspectRatio(){return this.thumbnailImage.naturalWidth/this.thumbnailImage.naturalHeight}get isImageLargerWindow(){const t=document.body.clientWidth,e=window.innerHeight;return this.lightboxImageNaturalWidth>t||this.lightboxImageNaturalHeight>e}get isFirstImage(){return!this.properties.loop&&0===this.index}get isLastImage(){return!this.properties.loop&&this.index===this.latestImageIndex}get latestImageIndex(){return this.images.length-1}get backgroundColor(){const t=this.properties.backgroundOpacity;return"black"===this.properties.backgroundColor?"rgba(0, 0, 0, "+t+")":"rgba(255, 255, 255, "+t+")"}get animationDuration(){const t=this.properties.animationDuration;return"string"==typeof t?Number.parseInt(t):t}get animationMode(){return"error"===this.currImageLoadingState?"default":this.properties.animationMode}get animationTimingFunction(){return this.properties.animationTimingFunction}get closeButtonText(){return this.properties.closeButtonText}get counterSeparator(){return this.properties.counterSeparator}get counter(){return this.currentImageIndex+1+this.counterSeparator+this.images.length}emitState(t,e){"initial-virtual-image"!==e&&"initial-styles"!==e&&("initial-default"!==e&&"initial-thumbnail-image"!==e||(e="initial"),this.eventService.emitChangeEvent({type:t+":"+e}))}setShowState(t){this.showState=t,this.emitState("show-state",t)}setClosingState(t){this.closingState=t,this.emitState("closing-state",t)}setAnimationDuration(){this.hostStyleTransition="background-color "+this.animationDuration+"ms",this.containerStyles.transition="all "+this.animationDuration+"ms "+this.animationTimingFunction}setBackgroundColor(){this.hostStyleBackgroundColor=this.backgroundColor}getContainerHeight(){return this.thumbnailImagePosition.height/this.containerScale+"px"}showThumbnailImage(){this.thumbnailImage.style.opacity=""}hideThumbnailImage(){this.thumbnailImage.style.opacity=0}updateThumbnailPosition(){this.containerStyles.transform=this.containerInitialPosition}};return t.\u0275fac=function(e){return new(e||t)(Ao(Uw))},t.\u0275cmp=Ut({type:t,selectors:[["lightbox-common"]],viewQuery:function(t,e){if(1&t&&(Yc(Lw,3),Yc(Rw,3),Yc(Dw,3),Yc(kw,3)),2&t){let t;qc(t=Kc())&&(e._imageFirst=t.first),qc(t=Kc())&&(e._imageSecond=t.first),qc(t=Kc())&&(e._imageLast=t.first),qc(t=Kc())&&(e._lightboxImage=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&Jo("transition",e.hostStyleTransition)("background-color",e.hostStyleBackgroundColor)},inputs:{lightboxData:"lightboxData"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),Ww=(()=>{let t=class extends Vw{constructor(t,e,n){super(n),this.elementRef=t,this.ref=e,this.eventService=n,this.spinnerHeight=30,this.minTimeout=30,this.preloaderTimeout=100,this.spinnerStyles={transform:""},this.configThumbnailPreloader=!0,this.events=new kc,this.hostShown=!1,this.hideControls=!1}get simpleMode(){return this.properties.simpleMode}get hostLightTheme(){return"white"===this.properties.backgroundColor}get currImagePath(){let t,e=this.images[this.index];return!!e&&(e.fullImage&&e.fullImage.path?t=e.fullImage.path:e.thumbnailImage&&e.thumbnailImage.path?t=e.thumbnailImage.path:e.path&&(t=e.path),t)}get prevImagePath(){return this.images[this.prevIndex]}set prevImagePath(t){this.images[this.prevIndex]=t}get isHiddenPrevArrow(){return this.isFirstImage&&!this.properties.loop||this.isZoomIn}get isHiddenNextArrow(){return this.isLastImage&&!this.properties.loop||this.isZoomIn}get isPreloader(){return"zoom-preloader"===this.animationMode&&"animation-end"!=this.showState&&"loading"===this.currImageLoadingState}get imageOrientation(){return this.thumbnailImage.naturalWidth>this.thumbnailImage.naturalHeight?"horizontal":"vertical"}scrolling(){"initial-thumbnail-image"!==this.showState&&"initial-virtual-image"!==this.showState&&"animation"!==this.closingState||this.updateThumbnailPosition()}onKeyDown(t){switch(t.key){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break;case"Escape":this.closeLightbox()}}onMouseEnter(t){this.hideControls=!1}transitionEnd(t){"transform"===t.propertyName&&this.hostAnimation&&(this.hostAnimation=!1)}ngOnInit(){this.currentImageIndex=this.properties.index,this.initialLightbox()}ngAfterViewInit(){setTimeout(()=>{"not-loaded"===this.currImageLoadingState&&(this.currImageLoadingState="loading")},this.preloaderTimeout),"default"===this.animationMode&&setTimeout(()=>{this.showLightboxAnimation()},this.minTimeout)}onImageLoaded(){"zoom-preloader"===this.animationMode&&"initial-thumbnail-image"===this.showState&&(this.initialLightboxVirtualImage(),setTimeout(()=>{this.currImageLoadingState="uploaded",this.showLightboxAnimation(),this.properties.hideThumbnail&&this.hideThumbnailImage()},this.minTimeout)),"animation-end"===this.showState&&(this.currImageLoadingState="uploaded",this.properties.hideThumbnail&&this.hideThumbnailImage()),this.ref.detectChanges()}onImageError(t){this.currImageLoadingState="error",this.initialLightboxDefault(),setTimeout(()=>{this.showLightboxAnimation()},this.minTimeout)}onContainerClick(t){(t.target===this.lightboxContainerElem.nativeElement||this.simpleMode)&&this.closeLightbox()}initialLightbox(){switch(this.setMaxDimensions(),this.setAnimationDuration(),this.animationMode){case"zoom-preloader":this.initialLightboxThumbnailImage();break;case"default":this.initialLightboxDefault()}}initialLightboxDefault(){this.showState="initial-default",this.containerStyles={transform:"translate3d(0, 0, 0)",height:"100%",width:"100%",opacity:"0"}}initialLightboxVirtualImage(){this.setShowState("initial-virtual-image"),this.containerStyles={transform:this.containerInitialPosition,height:this.virtualImageDimension.height+"px",width:this.virtualImageDimension.width+"px"}}initialLightboxThumbnailImage(){this.setShowState("initial-thumbnail-image"),this.containerStyles={transform:this.containerInitialPosition,height:this.thumbnailImagePosition.height+"px",width:this.thumbnailImagePosition.width+"px"}}showLightboxAnimation(){this.hostAnimation=!0,this.setShowState("animation"),this.hostShown=!0,this.setBackgroundColor(),this.setAnimationDuration(),"zoom-preloader"===this.animationMode&&"error"!==this.currImageLoadingState&&(this.containerStyles.transform=this.containerFullscreenPosition),"default"===this.animationMode&&(this.containerStyles.opacity="1")}showLightboxAnimationEnd(){this.setShowState("animation-end"),this.containerStyles={transform:"translate3d(0, 0, 0)",height:"100%",width:"100%"}}closeLightbox(){this.setClosingState("initial"),this.hostShown=!1,this.closeLightboxInitial()}closeLightboxInitial(){this.setClosingState("initial-styles"),"zoom-preloader"===this.animationMode&&(this.containerStyles={transform:this.containerFullscreenPosition,height:this.virtualImageDimension.height+"px",width:this.virtualImageDimension.width+"px"}),"default"===this.animationMode&&(this.containerStyles.opacity="1"),setTimeout(()=>{this.closeLightboxAnimation()},this.minTimeout)}closeLightboxAnimation(){this.setClosingState("animation"),"zoom-preloader"===this.animationMode&&(this.hostAnimation=!0,this.containerStyles={transform:this.containerInitialPosition,height:this.getContainerHeight(),width:this.getContainerWidth()},this.hostStyleBackgroundColor=""),"default"===this.animationMode&&(this.hostAnimation=!0,this.containerStyles.opacity="0",this.hostStyleBackgroundColor=""),this.setAnimationDuration(),0===this.animationDuration&&this.closeLightboxAnimationEnd()}closeLightboxAnimationEnd(){this.setClosingState("animation-end"),this.events.emit({type:"close"}),"zoom-preloader"===this.animationMode&&this.showThumbnailImage()}handleLightboxTransitionEnd(t){"animation"===this.showState&&this.showLightboxAnimationEnd(),"animation"===this.closingState&&this.closeLightboxAnimationEnd()}next(){if("zoom-preloader"===this.animationMode&&this.showThumbnailImage(),this.isLastImage){if(!this.properties.loop)return;this.currentImageIndex=0}else this.currentImageIndex++,this.currImageLoadingState="loading";setTimeout(()=>{"uploaded"!==this.currImageLoadingState&&(this.currImageLoadingState="loading")},this.preloaderTimeout)}prev(){if("zoom-preloader"===this.animationMode&&this.showThumbnailImage(),this.isFirstImage){if(!this.properties.loop)return;this.currentImageIndex=this.latestImageIndex}else this.currentImageIndex--,this.currImageLoadingState="loading";setTimeout(()=>{"uploaded"!==this.currImageLoadingState&&(this.currImageLoadingState="loading")},this.preloaderTimeout)}setMaxDimensions(){this.lightboxImage.nativeElement.style.maxHeight="calc("+this.properties.imageMaxHeight+")",this.lightboxImage.nativeElement.style.maxWidth=this.properties.imageMaxWidth}handlePinchZoomEvents(t){"zoom-in"===t.type&&(this.isZoomIn=!0),"zoom-out"===t.type&&(this.isZoomIn=!1)}getContainerWidth(){return this.thumbnailImagePosition.width/this.containerScale+"px"}};return t.\u0275fac=function(e){return new(e||t)(Ao(La),Ao(rc),Ao(Uw))},t.\u0275cmp=Ut({type:t,selectors:[["crystal-lightbox"]],viewQuery:function(t,e){if(1&t&&(Yc(Nw,3),Yc(Hw,3)),2&t){let t;qc(t=Kc())&&(e.prevImageElem=t.first),qc(t=Kc())&&(e.lightboxContainerElem=t.first)}},hostVars:12,hostBindings:function(t,e){1&t&&Bo("scroll",function(){return e.scrolling()},!1,pr)("keydown",function(t){return e.onKeyDown(t)},!1,pr)("mouseenter",function(t){return e.onMouseEnter(t)})("transitionend",function(t){return e.transitionEnd(t)}),2&t&&(Jo("background-color",e.hostStyleBackgroundColor),$o("lightbox-shown",e.hostShown)("lightbox-hide-controls",e.hideControls)("lightbox-simple-mode",e.simpleMode)("lightbox-light",e.hostLightTheme)("lightbox-animation",e.hostAnimation))},features:[fo],decls:11,vars:11,consts:[["class","lightbox-counter",4,"ngIf"],["class","lightbox-close",3,"click",4,"ngIf"],["class","lightbox-spinner",4,"ngIf"],[1,"lightbox-container",3,"ngStyle","transitionend","click"],["lightboxContainer",""],["class","lightbox-preloader",4,"ngIf"],["class","lightbox-error",4,"ngIf"],[1,"lightbox-curr-image",3,"src","load","error"],["lightboxImage",""],[1,"lightbox-prev",3,"hidden","click"],[1,"lightbox-next",3,"hidden","click"],[1,"lightbox-counter"],[1,"lightbox-close",3,"click"],[1,"lightbox-spinner"],[1,"lightbox-preloader"],[1,"lightbox-error"]],template:function(t,e){1&t&&(Eo(0,Bw,2,1,"div",0),Eo(1,Fw,2,1,"div",1),Eo(2,Gw,1,0,"div",2),Ro(3,"div",3,4),Bo("transitionend",function(t){return e.handleLightboxTransitionEnd(t)})("click",function(t){return e.onContainerClick(t)}),Eo(5,jw,2,0,"div",5),Eo(6,zw,2,0,"div",6),Ro(7,"img",7,8),Bo("load",function(){return e.onImageLoaded()})("error",function(t){return e.onImageError(t)}),Do(),Do(),Ro(9,"div",9),Bo("click",function(){return e.prev()}),Do(),Ro(10,"div",10),Bo("click",function(){return e.next()}),Do()),2&t&&(Io("ngIf",e.properties.counter&&e.images.length>1),es(1),Io("ngIf",!e.simpleMode),es(1),Io("ngIf","loading"===e.currImageLoadingState&&"animation-end"===e.showState),es(1),Io("ngStyle",e.containerStyles),es(2),Io("ngIf",e.isPreloader),es(1),Io("ngIf","error"===e.currImageLoadingState&&!e.closingState),es(1),$o("lightbox-show","uploaded"===e.currImageLoadingState),Io("src",e.currImagePath,sr),es(2),Io("hidden",e.isHiddenPrevArrow),es(1),Io("hidden",e.isHiddenNextArrow))},directives:[Ch,Oh],styles:['.lightbox-spinner[_ngcontent-%COMP%], .lightbox-spinner[_ngcontent-%COMP%]:after, .lightbox-spinner[_ngcontent-%COMP%]:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite lightbox-load;animation:1.5s ease-in-out infinite lightbox-load}.lightbox-spinner[_ngcontent-%COMP%]{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.lightbox-spinner[_ngcontent-%COMP%]:after, .lightbox-spinner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0}.lightbox-spinner[_ngcontent-%COMP%]:before{left:-32px;-webkit-animation-delay:-.32s;animation-delay:-.32s}.lightbox-spinner[_ngcontent-%COMP%]:after{left:32px}@-webkit-keyframes lightbox-load{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes lightbox-load{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}.lightbox-shown[_nghost-%COMP%]{opacity:1}.lightbox-shown[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], .lightbox-shown[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], .lightbox-shown[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:.5;transition-delay:.1s}.lightbox-shown[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%]:hover, .lightbox-shown[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%]:hover, .lightbox-shown[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]:hover{opacity:1;transition-delay:0}.lightbox-shown[_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%]{opacity:1}.lightbox-hide-controls[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], .lightbox-hide-controls[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], .lightbox-hide-controls[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:0}.lightbox-simple-mode[_nghost-%COMP%]   .lightbox-container[_ngcontent-%COMP%]{cursor:zoom-out}[_nghost-%COMP%]:not(.lightbox-animation)   .lightbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0;left:0;height:100%}.lightbox-light[_nghost-%COMP%]{color:#000;text-shadow:none}[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;text-shadow:0 0 1px rgba(0,0,0,.65);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10000}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{opacity:1;max-width:100%;max-height:100%}[_nghost-%COMP%]   img.lightbox-curr-image.lightbox-show[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   img.lightbox-curr-image[_ngcontent-%COMP%]{opacity:0;z-index:10}[_nghost-%COMP%]   .lightbox-container.lightbox-hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .lightbox-container[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transform-origin:top left}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:absolute}[_nghost-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]{position:absolute;top:51%;left:50%;margin-top:-15px;margin-left:-5px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]{margin-top:-9px;margin-left:-3px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:before{width:6px;height:6px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:before{left:-21px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:after{left:21px}[_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%]{text-align:left;position:absolute;left:22px;top:13px;font-size:14px;z-index:30}[_nghost-%COMP%]   .lightbox-description[_ngcontent-%COMP%]{text-align:center;max-width:calc(100% - 200px);margin:0 auto;font-size:14px;line-height:43px;position:relative;z-index:50}[_nghost-%COMP%]   .lightbox-error[_ngcontent-%COMP%]{color:rgba(255,255,255,.75);font-size:19px}[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:13px 22px;font-size:13px;text-transform:uppercase;cursor:pointer;opacity:.5;z-index:30;transition:opacity .1s ease-in-out}[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{width:100px;height:100%;position:absolute;top:0;cursor:pointer;opacity:.5;z-index:20;transition:opacity .1s ease-in-out;-webkit-tap-highlight-color:rgba(255,255,255,0)}[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMTZCQzFERDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMTZCQzFFRDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMxNkJDMUJEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMxNkJDMUNEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VrwZKAAAClElEQVR42qzWSY8SQRgGYLoVHPeTXlwCiIwMArJGtiABNep4IGZi4oEfMJooLjePrnFGf5yJS0hYmq2b/aBxiQ6+lRRJdaUZq5vp5E2TLnioVFd9VZLN+iUxIdeMiW2fRVCmvz2DpJBVCk6X6SVBHQRLpVKb7Xb782g0Usrl8jM8W0P20+9YQn3JZPIhwN6MXoPBoI3nG8iKGZhF14A+AqrOmKtWq31F213kkOgQ69B0Ol0BqrFot9vV/H7/c7RfEoVZ1G+EdjqdvtfrfYn2K8gJkaHQodlstjIej/ssihdH0Ddov4acQo7QlycJo5PJhEc1j8fzmqJk2h1D7Lv1lkUv5nK5xzzaarWMUIcwms/nCTrgUbfbTdCrVtAAQafTqQ5VFEVdCi0UCk/Q0yGLNptN1el0vqLoaRHUxqPoKY/2KFo0g0r0ba4Wi8WnQEcs2mg0VAPULrJsZTqpNzDZ6yxar9dVl8tFVtR10SnFohJdgnZYuh9IkjSTZfknPn5DviO/kL/IjkgtIOhhJJ7JZF5gdU24hdDG6qqg/QJywEzlmg/FSTLhE4nE9nA4nHJFRvH5fJto94gOBfvyjtJxXI/H4x+A63re6/UUVDCCnzeDz6fbceQscjsWi703wFsM7hDBJQN8PRqNbmNn0OGapu0JfoviYx4PBAL30e5dCg+Hw0Z4e8/wfr/P451QKPRgaRzIFjDdksefsbjdKn5zER6JRMiwuP+3Ne2KB4PBLVVVR1xd+YK2O2bOFYvwd8CHbK/x/J6Zc8Ui/AZmxdtqtdrAwlFLpRLZrS/PYcnkEUuiY7hCS+g5sovT55+Qj7QS/jYD8zjp/UF6t9GS+oPed8zCLC5zJ0tSo//Q+8wKLHTw/ifAAMQVS4vHZR2VAAAAAElFTkSuQmCC) center left 22px no-repeat}[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%]{right:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNDE3MDE1RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyNDE3MDE2RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI0MTcwMTNEODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTI0MTcwMTREODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7zv5BKAAACl0lEQVR42rTW224SQRwGcHZb8FT1Sm88BJCiFAE5JpyCBNRE8coYEy94AGqi9XDXS0+JVh/CB/EhiFET5LjAclgWjaa1aazfJDM6u6LuLjrJl2124cd0duY/I9h+NoELabtcTLcFCon0bw+SRE4h28hn2xyNoIvISrlcfqAoSluSpLepVKqCe6cRB/2MYAXei1wfjUbSLm34gX4ymbyN+z6rOBmC/ciNer3+fpdrwGXgd8h/YwVn8Dm/37/e6/UGOnyQTqfXrOBsKI4g571e76Nutzv8De43gwv05S0hx5CLwJ/iBWrwyWQyzGazpnHyITtyCDlBcI/H8wS4ZlhUVbWMO/R4p9P5Bc/lcnfx/Ow8+AW32z0LH+Xz+X+Dt9ttmcen0ynDA1bx4wR3Op2PW62WrOv5uFAo3JsXL1K8r+v5LNxmZrb8wJvNpn5YlGKxeJ/WFruZBcRPxUsul2u90WhocCyqBqk3dLGJiwbgb/T6FflCSqkoiluCIGjqNGzWgQUz9YR8aQ9yBqtyDQtH0q1KNZPJPMTzOHKA4oaHwuPz+SooUm0eHY/H00QisUEWFHKUDYVRdBmVr9Lv9/WoGo/HX+J5iY7/QSMvj003hnb0aCwWe4HnV5GTyGEj002DDgYDDYqdRo1Goxu0p3pU+BvqDQQCqzPQCUWvzINKejQcDltHQ6HQLaBdHh0Oh5ZRO0OBaFD8iIL7z82ibGtyRyKR1T+gl82g/GZ6Dev/HY/KsqwEg0FLKL/93+R7C3QM9Nk8KDtiOWq12jb2s2XS01Kp9Kparb7G/TfIR2QT2TF6UBS42bBEi/UK/SIBPyCfkC0zKA+z6rWPXm30tLlJr6ZQ/ZmYDYnI1eEdejV9Thb+18H7uwADAOG/Wcm4x+knAAAAAElFTkSuQmCC) center right 22px no-repeat}[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:0;transition:opacity 150ms cubic-bezier(.475,.105,.445,.945)}']}),t})();const Xw={loop:!1,index:0,counter:!1,imageMaxHeight:"100%",imageMaxWidth:"100%",animationDuration:350,animationMode:"zoom-preloader",animationTimingFunction:"cubic-bezier(0.475, 0.105, 0.445, 0.945)",closeButtonText:"Close",counterSeparator:"/",disable:!1,simpleMode:!1,backgroundColor:"black",backgroundOpacity:1,hideThumbnail:!0,gestureEnable:!1};let qw=(()=>{let t=class{constructor(t,e,n){this.componentFactoryResolver=t,this.appRef=e,this.injector=n}appendComponentToBody(t,e){const n=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector);n.instance.lightboxData=e,this.appRef.attachView(n.hostView),document.body.appendChild(n.hostView.rootNodes[0]),n.instance.events.subscribe(t=>{"close"===t.type&&(this.appRef.detachView(n.hostView),n.destroy())})}open(t){t.properties=this.applyPropertieDefaults(Xw,t.properties);let e=this.getLightboxComponent();this.appendComponentToBody(e,t)}getLightboxComponent(){return Ww}applyPropertieDefaults(t,e){return e||(e={}),e.index||(e.index=0),this._defaultProperties=Object.assign({},t),Object.assign(this._defaultProperties,e)}};return t.\u0275fac=function(e){return new(e||t)(mi(Ea),mi(zl),mi(po))},t.\u0275prov=dt({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),Yw=(()=>{let t=class{constructor(t,e,n){this.lightbox=t,this.eventService=e,this.elementRef=n,this.properties={},this.events=new kc,this.hostLightboxGroup=!0,this.globalEventsSubscription=this.eventService.emitter.subscribe(t=>{this.handleGlobalEvents(t)})}get hostSimpleMode(){return this.simpleMode}get isGroupImage(){return this.elementRef.nativeElement.closest(".lightbox-group")}onClick(t){this.disable||(this.isGroupImage?this.eventService.emitChangeEvent({type:"thumbnail:click",elementRef:this.elementRef,properties:this.properties}):(this.image=this.getImage(),this.lightbox.open({images:[this.image],properties:this.properties,index:0})))}ngOnChanges(t){this.properties=Object.assign({},this.properties,this.getProperties(t))}handleGlobalEvents(t){this.events.emit(t)}getImage(){let t={};const e=this.elementRef.nativeElement;return this.fullImage&&(t.fullImage=this.fullImage),t.thumbnailImage={path:e.src,height:e.naturalHeight,width:e.naturalWidth},t.nativeElement=e,t}getProperties(t){let e={};for(var n in t)"fullImage"!==n&&(e[n]=t[n].currentValue);return e}};return t.\u0275fac=function(e){return new(e||t)(Ao(qw),Ao(Uw),Ao(La))},t.\u0275dir=Zt({type:t,selectors:[["","lightbox",""]],hostVars:4,hostBindings:function(t,e){1&t&&Bo("click",function(t){return e.onClick(t)}),2&t&&$o("lightbox-single",e.hostLightboxGroup)("lightbox-simple-mode",e.hostSimpleMode)},inputs:{properties:"properties",fullImage:"fullImage",loop:"loop",backgroundOpacity:"backgroundOpacity",counter:"counter",imageMaxHeight:"imageMaxHeight",imageMaxWidth:"imageMaxWidth",animationDuration:"animationDuration",animationMode:"animationMode",animationTimingFunction:"animationTimingFunction",closeButtonText:"closeButtonText",counterSeparator:"counterSeparator",disable:"disable",simpleMode:"simpleMode",backgroundColor:"backgroundColor",hideThumbnail:"hideThumbnail",gestureEnable:"gestureEnable"},outputs:{events:"events"},features:[de]}),t})(),Zw=(()=>{let t=class{constructor(t,e){this.eventService=t,this.lightbox=e,this.thumbnailImages=[],this.images=[],this.properties={},this.hostLightboxGroup=!0,this.globalEventsSubscription=this.eventService.emitter.subscribe(t=>{this.handleGlobalEvents(t)})}get lightboxDirectiveList(){return this._lightboxDirectiveList?this._lightboxDirectiveList.toArray():[]}handleGlobalEvents(t){if("thumbnail:click"===t.type){if(this.thumbnailImageElement=t.elementRef.nativeElement,this.thumbnailImages=this.getThumbnailImages(),this.thumbnailImageIndex=this.getThumbnailImageIndex(this.thumbnailImageElement),null==this.thumbnailImageIndex)return;this.thumbnailLightboxDirective=this.getThumbnailLightboxDirective(this.thumbnailImageIndex),this.images=this.getImages(),this.properties=t.properties,this.properties.index=this.thumbnailImageIndex,this.lightbox.open({images:this.images,properties:this.properties})}}getThumbnailImageIndex(t){const e=this.thumbnailImages;for(var n=0;n<e.length;n++)if(t===e[n])return n}getThumbnailLightboxDirective(t){return this.lightboxDirectiveList[t]}getThumbnailImages(){let t=[];return this.lightboxDirectiveList.forEach(e=>{t.push(e.elementRef.nativeElement)}),t}getImages(){let t=[];return this.lightboxDirectiveList.forEach(e=>{let n={};const i=e.elementRef.nativeElement;e.fullImage&&(n.fullImage=e.fullImage),n.thumbnailImage={path:i.src,height:i.naturalHeight,width:i.naturalWidth},n.nativeElement=i,t.push(n)}),t}};return t.\u0275fac=function(e){return new(e||t)(Ao(Uw),Ao(qw))},t.\u0275dir=Zt({type:t,selectors:[["","lightbox-group",""]],contentQueries:function(t,e,n){if(1&t&&Zc(n,Yw,1),2&t){let t;qc(t=Kc())&&(e._lightboxDirectiveList=t)}},hostVars:2,hostBindings:function(t,e){2&t&&$o("lightbox-group",e.hostLightboxGroup)}}),t})(),Kw=(()=>{let t=class{};return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[qw,Uw],imports:[[Ah]]}),t})();function Qw(t,e,n){return n?Qw(t,e).pipe(E(t=>c(t)?n(...t):n(t))):new b(n=>{const r=(...t)=>n.next(1===t.length?t[0]:t);let s;try{s=t(r)}catch(o){return void n.error(o)}if(i(e))return()=>e(r,s)})}function Jw(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new $w(t,n))}}class $w{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new tx(t,this.observables,this.project))}}class tx extends xv{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++)this.add(Sv(this,e[r],void 0,r))}notifyNext(t,e,n){this.values[n]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class ex{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new nx(t,this.predicate))}}class nx extends m{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}const ix=["youtubeContainer"];let rx=(()=>{class t{constructor(t,e){this._ngZone=t,this._youtubeContainer=new T,this._destroyed=new T,this._playerChanges=new wv(void 0),this._videoId=new wv(void 0),this._height=new wv(390),this._width=new wv(640),this._startSeconds=new wv(void 0),this._endSeconds=new wv(void 0),this._suggestedQuality=new wv(void 0),this._playerVars=new wv(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=Ih(e)}get videoId(){return this._videoId.value}set videoId(t){this._videoId.next(t)}get height(){return this._height.value}set height(t){this._height.next(t||390)}get width(){return this._width.value}set width(t){this._width.next(t||640)}set startSeconds(t){this._startSeconds.next(t)}set endSeconds(t){this._endSeconds.next(t)}set suggestedQuality(t){this._suggestedQuality.next(t)}get playerVars(){return this._playerVars.value}set playerVars(t){this._playerVars.next(t)}ngOnInit(){if(!this._isBrowser)return;let t=uu(!0);if(!window.YT||!window.YT.Player){const e=new T;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>e.next(!0))},t=e.pipe(Ym(1),Ef(!1))}const e=function(t,e,n,i,r,s,o){const a=Cv([e,s]).pipe(Jw(Cv([i,r])),E(([t,e])=>{const[n,i]=t,[r,s]=e;return n?{videoId:n,playerVars:i,width:r,height:s}:void 0}));return Cv([t,a,uu(o)]).pipe(y(function(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0].slice()),n=>n.lift.call(B([n,...t]),new Pv(e))}(n),(l=([t,e])=>!e,t=>t.lift(new ex(l))),E(([t])=>t)),Iv(sx,void 0),vg());var l}(this._youtubeContainer,this._videoId,t,this._width,this._height,this._playerVars,this._ngZone).pipe(Dm(t=>{this._playerChanges.next(t)}),(n=t=>{ox(t)||t.destroy()},z(t=>t?ox(t)?uu(t):new b(e=>{let i=!1,r=!1;const s=t=>{r=!0,i||(t.target.removeEventListener("onReady",s),e.next(t.target))};return t.addEventListener("onReady",s),()=>{i=!0,r||n(t)}}).pipe(Ym(1),Ef(void 0)):uu(void 0))),Tg(this._destroyed),tt(new T));var n;e.subscribe(t=>{this._player=t,t&&this._pendingPlayerState&&this._initializePlayer(t,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(t,e,n){Cv([t,e,n]).subscribe(([t,e,n])=>t&&t.setSize(e,n))}(e,this._width,this._height),function(t,e){Cv([t,e]).subscribe(([t,e])=>t&&e&&t.setPlaybackQuality(e))}(e,this._suggestedQuality),function(t,e,n,i,r,s){const o=Cv([n,i]).pipe(E(([t,e])=>({startSeconds:t,endSeconds:e}))),a=o.pipe(ax(t,t=>!!t&&!function(t){const e=t.getPlayerState();return-1!==e&&5!==e}(t))),c=e.pipe(ax(t,(t,e)=>!!t&&t.videoId!==e));q(t.pipe(ax(Cv([e,o]),([t,e],n)=>!(!n||t==n.videoId&&!e.startSeconds&&!e.endSeconds))),c,a).pipe(Jw(Cv([t,e,o,r])),E(([t,e])=>e),Tg(s)).subscribe(([t,e,n,i])=>{e&&t&&(t.videoId=e,t.cueVideoById(Object.assign({videoId:e,suggestedQuality:i},n)))})}(e,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),e.connect()}createEventsBoundInZone(){return{}}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=1}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=2}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=5}seekTo(t,e){this._player?this._player.seekTo(t,e):this._getPendingState().seek={seconds:t,allowSeekAhead:e}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:-1}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(t,e){const{playbackState:n,playbackRate:i,volume:r,muted:s,seek:o}=e;switch(n){case 1:t.playVideo();break;case 2:t.pauseVideo();break;case 5:t.stopVideo()}null!=i&&t.setPlaybackRate(i),null!=r&&t.setVolume(r),null!=s&&(s?t.mute():t.unMute()),null!=o&&t.seekTo(o.seconds,o.allowSeekAhead)}_getLazyEmitter(t){return this._playerChanges.pipe(Eg(e=>e?Qw(n=>{e.addEventListener(t,n)},n=>{try{e.removeEventListener&&e.removeEventListener(t,n)}catch(VL){}}):uu()),t=>new b(e=>t.subscribe({next:t=>this._ngZone.run(()=>e.next(t)),error:t=>e.error(t),complete:()=>e.complete()})),Tg(this._destroyed))}}return t.\u0275fac=function(e){return new(e||t)(Ao(wl),Ao(ol))},t.\u0275cmp=Ut({type:t,selectors:[["youtube-player"]],viewQuery:function(t,e){if(1&t&&Yc(ix,1),2&t){let t;qc(t=Kc())&&(e.youtubeContainer=t.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(t,e){1&t&&ko(0,"div",null,0)},encapsulation:2,changeDetection:0}),t})();function sx(t,[e,n,i]){if(t&&n&&t.playerVars!==n.playerVars)t.destroy();else{if(!n)return void(t&&t.destroy());if(t)return t}const r=i.runOutsideAngular(()=>new YT.Player(e,n));return r.videoId=n.videoId,r.playerVars=n.playerVars,r}function ox(t){return"getPlayerStatus"in t}function ax(t,e){return y(Jw(t),pu(([t,n])=>e(n,t)),E(([t])=>t))}let cx=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();const lx=100,hx=1e3,ux=1001,dx=1002,px=1003,mx=1004,fx=1005,gx=1006,vx=1008,yx=1012,_x=1014,bx=1015,wx=1016,xx=1020,Mx=1022,Sx=1023,Tx=1026,Cx=1027,Px=2300,Ex=2301,Ox=2302,Ax=2400,Ix=2401,Lx=2402,Rx=3e3,Dx=3001,kx=7680,Nx=35044,Hx=35048,Bx="300 es";function Fx(){}Object.assign(Fx.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t)}}});const Gx=[];for(let YT=0;YT<256;YT++)Gx[YT]=(YT<16?"0":"")+YT.toString(16);let jx=1234567;const zx={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Gx[255&t]+Gx[t>>8&255]+Gx[t>>16&255]+Gx[t>>24&255]+"-"+Gx[255&e]+Gx[e>>8&255]+"-"+Gx[e>>16&15|64]+Gx[e>>24&255]+"-"+Gx[63&n|128]+Gx[n>>8&255]+"-"+Gx[n>>16&255]+Gx[n>>24&255]+Gx[255&i]+Gx[i>>8&255]+Gx[i>>16&255]+Gx[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},damp:function(t,e,n,i){return zx.lerp(t,e,1-Math.exp(-n*i))},pingpong:function(t,e=1){return e-Math.abs(zx.euclideanModulo(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(jx=t%2147483647),jx=16807*jx%2147483647,(jx-1)/2147483646},degToRad:function(t){return t*zx.DEG2RAD},radToDeg:function(t){return t*zx.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),c=o(n/2),l=s((e+i)/2),h=o((e+i)/2),u=s((e-i)/2),d=o((e-i)/2),p=s((i-e)/2),m=o((i-e)/2);switch(r){case"XYX":t.set(a*h,c*u,c*d,a*l);break;case"YZY":t.set(c*d,a*h,c*u,a*l);break;case"ZXZ":t.set(c*u,c*d,a*h,a*l);break;case"XZX":t.set(a*h,c*m,c*p,a*l);break;case"YXY":t.set(c*p,a*h,c*m,a*l);break;case"ZYZ":t.set(c*m,c*p,a*h,a*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class Ux{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,s=this.y-t.y;return this.x=r*n-s*i+t.x,this.y=r*i+s*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Vx{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,s,o,a,c){const l=this.elements;return l[0]=t,l[1]=i,l[2]=o,l[3]=e,l[4]=r,l[5]=a,l[6]=n,l[7]=s,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,s=n[0],o=n[3],a=n[6],c=n[1],l=n[4],h=n[7],u=n[2],d=n[5],p=n[8],m=i[0],f=i[3],g=i[6],v=i[1],y=i[4],_=i[7],b=i[2],w=i[5],x=i[8];return r[0]=s*m+o*v+a*b,r[3]=s*f+o*y+a*w,r[6]=s*g+o*_+a*x,r[1]=c*m+l*v+h*b,r[4]=c*f+l*y+h*w,r[7]=c*g+l*_+h*x,r[2]=u*m+d*v+p*b,r[5]=u*f+d*y+p*w,r[8]=u*g+d*_+p*x,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8];return e*s*l-e*o*c-n*r*l+n*o*a+i*r*c-i*s*a}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],h=l*s-o*c,u=o*a-l*r,d=c*r-s*a,p=e*h+n*u+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return t[0]=h*m,t[1]=(i*c-l*n)*m,t[2]=(o*n-i*s)*m,t[3]=u*m,t[4]=(l*e-i*a)*m,t[5]=(i*r-o*e)*m,t[6]=d*m,t[7]=(n*a-c*e)*m,t[8]=(s*e-n*r)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,s,o){const a=Math.cos(r),c=Math.sin(r);return this.set(n*a,n*c,-n*(a*s+c*o)+s+t,-i*c,i*a,-i*(-c*s+a*o)+o+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],s=i[3],o=i[6],a=i[1],c=i[4],l=i[7];return i[0]=e*r+n*a,i[3]=e*s+n*c,i[6]=e*o+n*l,i[1]=-n*r+e*a,i[4]=-n*s+e*c,i[7]=-n*o+e*l,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}let Wx;const Xx={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Wx&&(Wx=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Wx.width=t.width,Wx.height=t.height;const n=Wx.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Wx}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let qx=0;function Yx(t=Yx.DEFAULT_IMAGE,e=Yx.DEFAULT_MAPPING,n=1001,i=1001,r=1006,s=1008,o=1023,a=1009,c=1,l=3e3){Object.defineProperty(this,"id",{value:qx++}),this.uuid=zx.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=a,this.offset=new Ux(0,0),this.repeat=new Ux(1,1),this.center=new Ux(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Vx,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.version=0,this.onUpdate=null}function Zx(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?Xx.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Yx.DEFAULT_IMAGE=void 0,Yx.DEFAULT_MAPPING=300,Yx.prototype=Object.assign(Object.create(Fx.prototype),{constructor:Yx,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=zx.generateUUID()),!e&&void 0===t.images[i.uuid]){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)e.push(Zx(i[t].isDataTexture?i[t].image:i[t]))}else e=Zx(i);t.images[i.uuid]={uuid:i.uuid,url:e}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case hx:t.x=t.x-Math.floor(t.x);break;case ux:t.x=t.x<0?0:1;break;case dx:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case hx:t.y=t.y-Math.floor(t.y);break;case ux:t.y=t.y<0?0:1;break;case dx:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Yx.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});class Kx{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*e+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*e+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*e+s[7]*n+s[11]*i+s[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const s=.01,o=.1,a=t.elements,c=a[0],l=a[4],h=a[8],u=a[1],d=a[5],p=a[9],m=a[2],f=a[6],g=a[10];if(Math.abs(l-u)<s&&Math.abs(h-m)<s&&Math.abs(p-f)<s){if(Math.abs(l+u)<o&&Math.abs(h+m)<o&&Math.abs(p+f)<o&&Math.abs(c+d+g-3)<o)return this.set(1,0,0,0),this;e=Math.PI;const t=(c+1)/2,a=(d+1)/2,v=(g+1)/2,y=(l+u)/4,_=(h+m)/4,b=(p+f)/4;return t>a&&t>v?t<s?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=y/n,r=_/n):a>v?a<s?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=y/i,r=b/i):v<s?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=_/r,i=b/r),this.set(n,i,r,e),this}let v=Math.sqrt((f-p)*(f-p)+(h-m)*(h-m)+(u-l)*(u-l));return Math.abs(v)<.001&&(v=1),this.x=(f-p)/v,this.y=(h-m)/v,this.z=(u-l)/v,this.w=Math.acos((c+d+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}class Qx extends Fx{constructor(t,e,n){super(),Object.defineProperty(this,"isWebGLRenderTarget",{value:!0}),this.width=t,this.height=e,this.scissor=new Kx(0,0,t,e),this.scissorTest=!1,this.viewport=new Kx(0,0,t,e),this.texture=new Yx(void 0,(n=n||{}).mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:gx,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setSize(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Jx{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=n,this._w=i}static slerp(t,e,n,i){return n.copy(t).slerp(e,i)}static slerpFlat(t,e,n,i,r,s,o){let a=n[i+0],c=n[i+1],l=n[i+2],h=n[i+3];const u=r[s+0],d=r[s+1],p=r[s+2],m=r[s+3];if(h!==m||a!==u||c!==d||l!==p){let t=1-o;const e=a*u+c*d+l*p+h*m,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),s=Math.atan2(r,e*n);t=Math.sin(t*s)/r,o=Math.sin(o*s)/r}const r=o*n;if(a=a*t+u*r,c=c*t+d*r,l=l*t+p*r,h=h*t+m*r,t===1-o){const t=1/Math.sqrt(a*a+c*c+l*l+h*h);a*=t,c*=t,l*=t,h*=t}}t[e]=a,t[e+1]=c,t[e+2]=l,t[e+3]=h}static multiplyQuaternionsFlat(t,e,n,i,r,s){const o=n[i],a=n[i+1],c=n[i+2],l=n[i+3],h=r[s],u=r[s+1],d=r[s+2],p=r[s+3];return t[e]=o*p+l*h+a*d-c*u,t[e+1]=a*p+l*u+c*h-o*d,t[e+2]=c*p+l*d+o*u-a*h,t[e+3]=l*p-o*h-a*u-c*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,i=t._y,r=t._z,s=t._order,o=Math.cos,a=Math.sin,c=o(n/2),l=o(i/2),h=o(r/2),u=a(n/2),d=a(i/2),p=a(r/2);switch(s){case"XYZ":this._x=u*l*h+c*d*p,this._y=c*d*h-u*l*p,this._z=c*l*p+u*d*h,this._w=c*l*h-u*d*p;break;case"YXZ":this._x=u*l*h+c*d*p,this._y=c*d*h-u*l*p,this._z=c*l*p-u*d*h,this._w=c*l*h+u*d*p;break;case"ZXY":this._x=u*l*h-c*d*p,this._y=c*d*h+u*l*p,this._z=c*l*p+u*d*h,this._w=c*l*h-u*d*p;break;case"ZYX":this._x=u*l*h-c*d*p,this._y=c*d*h+u*l*p,this._z=c*l*p-u*d*h,this._w=c*l*h+u*d*p;break;case"YZX":this._x=u*l*h+c*d*p,this._y=c*d*h+u*l*p,this._z=c*l*p-u*d*h,this._w=c*l*h-u*d*p;break;case"XZY":this._x=u*l*h-c*d*p,this._y=c*d*h-u*l*p,this._z=c*l*p+u*d*h,this._w=c*l*h+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],s=e[1],o=e[5],a=e[9],c=e[2],l=e[6],h=e[10],u=n+o+h;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(l-a)*t,this._y=(r-c)*t,this._z=(s-i)*t}else if(n>o&&n>h){const t=2*Math.sqrt(1+n-o-h);this._w=(l-a)/t,this._x=.25*t,this._y=(i+s)/t,this._z=(r+c)/t}else if(o>h){const t=2*Math.sqrt(1+o-n-h);this._w=(r-c)/t,this._x=(i+s)/t,this._y=.25*t,this._z=(a+l)/t}else{const t=2*Math.sqrt(1+h-n-o);this._w=(s-i)/t,this._x=(r+c)/t,this._y=(a+l)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(zx.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,s=t._w,o=e._x,a=e._y,c=e._z,l=e._w;return this._x=n*l+s*o+i*c-r*a,this._y=i*l+s*a+r*o-n*c,this._z=r*l+s*c+n*a-i*o,this._w=s*l-n*o-i*a-r*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,s=this._w;let o=s*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const a=1-o*o;if(a<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(a),l=Math.atan2(c,o),h=Math.sin((1-e)*l)/c,u=Math.sin(e*l)/c;return this._w=s*h+this._w*u,this._x=n*h+this._x*u,this._y=i*h+this._y*u,this._z=r*h+this._z*u,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class $x{constructor(t=0,e=0,n=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(eM.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(eM.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,s=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*s,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,s=t.y,o=t.z,a=t.w,c=a*e+s*i-o*n,l=a*n+o*e-r*i,h=a*i+r*n-s*e,u=-r*e-s*n-o*i;return this.x=c*a+u*-r+l*-o-h*-s,this.y=l*a+u*-s+h*-r-c*-o,this.z=h*a+u*-o+c*-s-l*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,s=e.x,o=e.y,a=e.z;return this.x=i*a-r*o,this.y=r*s-n*a,this.z=n*o-i*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return tM.copy(this).projectOnVector(t),this.sub(tM)}reflect(t){return this.sub(tM.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(zx.clamp(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const tM=new $x,eM=new Jx;class nM{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new $x(1/0,1/0,1/0),this.max=void 0!==e?e:new $x(-1/0,-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0;for(let a=0,c=t.length;a<c;a+=3){const c=t[a],l=t[a+1],h=t[a+2];c<e&&(e=c),l<n&&(n=l),h<i&&(i=h),c>r&&(r=c),l>s&&(s=l),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,s,o),this}setFromBufferAttribute(t){let e=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,o=-1/0;for(let a=0,c=t.count;a<c;a++){const c=t.getX(a),l=t.getY(a),h=t.getZ(a);c<e&&(e=c),l<n&&(n=l),h<i&&(i=h),c>r&&(r=c),l>s&&(s=l),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,s,o),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=sM.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new $x),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new $x),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),oM.copy(e.boundingBox),oM.applyMatrix4(t.matrixWorld),this.union(oM));const n=t.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new $x),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,sM),sM.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(pM),mM.subVectors(this.max,pM),aM.subVectors(t.a,pM),cM.subVectors(t.b,pM),lM.subVectors(t.c,pM),hM.subVectors(cM,aM),uM.subVectors(lM,cM),dM.subVectors(aM,lM);let e=[0,-hM.z,hM.y,0,-uM.z,uM.y,0,-dM.z,dM.y,hM.z,0,-hM.x,uM.z,0,-uM.x,dM.z,0,-dM.x,-hM.y,hM.x,0,-uM.y,uM.x,0,-dM.y,dM.x,0];return!!iM(e,aM,cM,lM,mM)&&(e=[1,0,0,0,1,0,0,0,1],!!iM(e,aM,cM,lM,mM)&&(fM.crossVectors(hM,uM),e=[fM.x,fM.y,fM.z],iM(e,aM,cM,lM,mM)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new $x),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return sM.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(sM).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(rM[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),rM[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),rM[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),rM[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),rM[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),rM[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),rM[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),rM[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(rM)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function iM(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){gM.fromArray(t,s);const o=r.x*Math.abs(gM.x)+r.y*Math.abs(gM.y)+r.z*Math.abs(gM.z),a=e.dot(gM),c=n.dot(gM),l=i.dot(gM);if(Math.max(-Math.max(a,c,l),Math.min(a,c,l))>o)return!1}return!0}const rM=[new $x,new $x,new $x,new $x,new $x,new $x,new $x,new $x],sM=new $x,oM=new nM,aM=new $x,cM=new $x,lM=new $x,hM=new $x,uM=new $x,dM=new $x,pM=new $x,mM=new $x,fM=new $x,gM=new $x,vM=new nM;class yM{constructor(t,e){this.center=void 0!==t?t:new $x,this.radius=void 0!==e?e:-1}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):vM.setFromPoints(t).getCenter(n);let i=0;for(let r=0,s=t.length;r<s;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new $x),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new nM),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const _M=new $x,bM=new $x,wM=new $x,xM=new $x,MM=new $x,SM=new $x,TM=new $x;class CM{constructor(t,e){this.origin=void 0!==t?t:new $x,this.direction=void 0!==e?e:new $x(0,0,-1)}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new $x),e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,_M)),this}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new $x),e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=_M.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(_M.copy(this.direction).multiplyScalar(e).add(this.origin),_M.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){bM.copy(t).add(e).multiplyScalar(.5),wM.copy(e).sub(t).normalize(),xM.copy(this.origin).sub(bM);const r=.5*t.distanceTo(e),s=-this.direction.dot(wM),o=xM.dot(this.direction),a=-xM.dot(wM),c=xM.lengthSq(),l=Math.abs(1-s*s);let h,u,d,p;if(l>0)if(h=s*a-o,u=s*o-a,p=r*l,h>=0)if(u>=-p)if(u<=p){const t=1/l;h*=t,u*=t,d=h*(h+s*u+2*o)+u*(s*h+u+2*a)+c}else u=r,h=Math.max(0,-(s*u+o)),d=-h*h+u*(u+2*a)+c;else u=-r,h=Math.max(0,-(s*u+o)),d=-h*h+u*(u+2*a)+c;else u<=-p?(h=Math.max(0,-(-s*r+o)),u=h>0?-r:Math.min(Math.max(-r,-a),r),d=-h*h+u*(u+2*a)+c):u<=p?(h=0,u=Math.min(Math.max(-r,-a),r),d=u*(u+2*a)+c):(h=Math.max(0,-(s*r+o)),u=h>0?r:Math.min(Math.max(-r,-a),r),d=-h*h+u*(u+2*a)+c);else u=s>0?-r:r,h=Math.max(0,-(s*u+o)),d=-h*h+u*(u+2*a)+c;return n&&n.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(wM).multiplyScalar(u).add(bM),d}intersectSphere(t,e){_M.subVectors(t.center,this.origin);const n=_M.dot(this.direction),i=_M.dot(_M)-n*n,r=t.radius*t.radius;if(i>r)return null;const s=Math.sqrt(r-i),o=n-s,a=n+s;return o<0&&a<0?null:this.at(o<0?a:o,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,s,o,a;const c=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,u=this.origin;return c>=0?(n=(t.min.x-u.x)*c,i=(t.max.x-u.x)*c):(n=(t.max.x-u.x)*c,i=(t.min.x-u.x)*c),l>=0?(r=(t.min.y-u.y)*l,s=(t.max.y-u.y)*l):(r=(t.max.y-u.y)*l,s=(t.min.y-u.y)*l),n>s||r>i?null:((r>n||n!=n)&&(n=r),(s<i||i!=i)&&(i=s),h>=0?(o=(t.min.z-u.z)*h,a=(t.max.z-u.z)*h):(o=(t.max.z-u.z)*h,a=(t.min.z-u.z)*h),n>a||o>i?null:((o>n||n!=n)&&(n=o),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,_M)}intersectTriangle(t,e,n,i,r){MM.subVectors(e,t),SM.subVectors(n,t),TM.crossVectors(MM,SM);let s,o=this.direction.dot(TM);if(o>0){if(i)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}xM.subVectors(this.origin,t);const a=s*this.direction.dot(SM.crossVectors(xM,SM));if(a<0)return null;const c=s*this.direction.dot(MM.cross(xM));if(c<0)return null;if(a+c>o)return null;const l=-s*xM.dot(TM);return l<0?null:this.at(l/o,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class PM{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,s,o,a,c,l,h,u,d,p,m,f){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=o,g[13]=a,g[2]=c,g[6]=l,g[10]=h,g[14]=u,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new PM).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/EM.setFromMatrixColumn(t,0).length(),r=1/EM.setFromMatrixColumn(t,1).length(),s=1/EM.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,i=t.y,r=t.z,s=Math.cos(n),o=Math.sin(n),a=Math.cos(i),c=Math.sin(i),l=Math.cos(r),h=Math.sin(r);if("XYZ"===t.order){const t=s*l,n=s*h,i=o*l,r=o*h;e[0]=a*l,e[4]=-a*h,e[8]=c,e[1]=n+i*c,e[5]=t-r*c,e[9]=-o*a,e[2]=r-t*c,e[6]=i+n*c,e[10]=s*a}else if("YXZ"===t.order){const t=a*l,n=a*h,i=c*l,r=c*h;e[0]=t+r*o,e[4]=i*o-n,e[8]=s*c,e[1]=s*h,e[5]=s*l,e[9]=-o,e[2]=n*o-i,e[6]=r+t*o,e[10]=s*a}else if("ZXY"===t.order){const t=a*l,n=a*h,i=c*l,r=c*h;e[0]=t-r*o,e[4]=-s*h,e[8]=i+n*o,e[1]=n+i*o,e[5]=s*l,e[9]=r-t*o,e[2]=-s*c,e[6]=o,e[10]=s*a}else if("ZYX"===t.order){const t=s*l,n=s*h,i=o*l,r=o*h;e[0]=a*l,e[4]=i*c-n,e[8]=t*c+r,e[1]=a*h,e[5]=r*c+t,e[9]=n*c-i,e[2]=-c,e[6]=o*a,e[10]=s*a}else if("YZX"===t.order){const t=s*a,n=s*c,i=o*a,r=o*c;e[0]=a*l,e[4]=r-t*h,e[8]=i*h+n,e[1]=h,e[5]=s*l,e[9]=-o*l,e[2]=-c*l,e[6]=n*h+i,e[10]=t-r*h}else if("XZY"===t.order){const t=s*a,n=s*c,i=o*a,r=o*c;e[0]=a*l,e[4]=-h,e[8]=c*l,e[1]=t*h+r,e[5]=s*l,e[9]=n*h-i,e[2]=i*h-n,e[6]=o*l,e[10]=r*h+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(AM,t,IM)}lookAt(t,e,n){const i=this.elements;return DM.subVectors(t,e),0===DM.lengthSq()&&(DM.z=1),DM.normalize(),LM.crossVectors(n,DM),0===LM.lengthSq()&&(1===Math.abs(n.z)?DM.x+=1e-4:DM.z+=1e-4,DM.normalize(),LM.crossVectors(n,DM)),LM.normalize(),RM.crossVectors(DM,LM),i[0]=LM.x,i[4]=RM.x,i[8]=DM.x,i[1]=LM.y,i[5]=RM.y,i[9]=DM.y,i[2]=LM.z,i[6]=RM.z,i[10]=DM.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,s=n[0],o=n[4],a=n[8],c=n[12],l=n[1],h=n[5],u=n[9],d=n[13],p=n[2],m=n[6],f=n[10],g=n[14],v=n[3],y=n[7],_=n[11],b=n[15],w=i[0],x=i[4],M=i[8],S=i[12],T=i[1],C=i[5],P=i[9],E=i[13],O=i[2],A=i[6],I=i[10],L=i[14],R=i[3],D=i[7],k=i[11],N=i[15];return r[0]=s*w+o*T+a*O+c*R,r[4]=s*x+o*C+a*A+c*D,r[8]=s*M+o*P+a*I+c*k,r[12]=s*S+o*E+a*L+c*N,r[1]=l*w+h*T+u*O+d*R,r[5]=l*x+h*C+u*A+d*D,r[9]=l*M+h*P+u*I+d*k,r[13]=l*S+h*E+u*L+d*N,r[2]=p*w+m*T+f*O+g*R,r[6]=p*x+m*C+f*A+g*D,r[10]=p*M+m*P+f*I+g*k,r[14]=p*S+m*E+f*L+g*N,r[3]=v*w+y*T+_*O+b*R,r[7]=v*x+y*C+_*A+b*D,r[11]=v*M+y*P+_*I+b*k,r[15]=v*S+y*E+_*L+b*N,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],s=t[1],o=t[5],a=t[9],c=t[13],l=t[2],h=t[6],u=t[10],d=t[14];return t[3]*(+r*a*h-i*c*h-r*o*u+n*c*u+i*o*d-n*a*d)+t[7]*(+e*a*d-e*c*u+r*s*u-i*s*d+i*c*l-r*a*l)+t[11]*(+e*c*h-e*o*d-r*s*h+n*s*d+r*o*l-n*c*l)+t[15]*(-i*o*l-e*a*h+e*o*u+i*s*h-n*s*u+n*a*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],h=t[9],u=t[10],d=t[11],p=t[12],m=t[13],f=t[14],g=t[15],v=h*f*c-m*u*c+m*a*d-o*f*d-h*a*g+o*u*g,y=p*u*c-l*f*c-p*a*d+s*f*d+l*a*g-s*u*g,_=l*m*c-p*h*c+p*o*d-s*m*d-l*o*g+s*h*g,b=p*h*a-l*m*a-p*o*u+s*m*u+l*o*f-s*h*f,w=e*v+n*y+i*_+r*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/w;return t[0]=v*x,t[1]=(m*u*r-h*f*r-m*i*d+n*f*d+h*i*g-n*u*g)*x,t[2]=(o*f*r-m*a*r+m*i*c-n*f*c-o*i*g+n*a*g)*x,t[3]=(h*a*r-o*u*r-h*i*c+n*u*c+o*i*d-n*a*d)*x,t[4]=y*x,t[5]=(l*f*r-p*u*r+p*i*d-e*f*d-l*i*g+e*u*g)*x,t[6]=(p*a*r-s*f*r-p*i*c+e*f*c+s*i*g-e*a*g)*x,t[7]=(s*u*r-l*a*r+l*i*c-e*u*c-s*i*d+e*a*d)*x,t[8]=_*x,t[9]=(p*h*r-l*m*r-p*n*d+e*m*d+l*n*g-e*h*g)*x,t[10]=(s*m*r-p*o*r+p*n*c-e*m*c-s*n*g+e*o*g)*x,t[11]=(l*o*r-s*h*r-l*n*c+e*h*c+s*n*d-e*o*d)*x,t[12]=b*x,t[13]=(l*m*i-p*h*i+p*n*u-e*m*u-l*n*f+e*h*f)*x,t[14]=(p*o*i-s*m*i-p*n*a+e*m*a+s*n*f-e*o*f)*x,t[15]=(s*h*i-l*o*i+l*n*a-e*h*a-s*n*u+e*o*u)*x,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,s=t.x,o=t.y,a=t.z,c=r*s,l=r*o;return this.set(c*s+n,c*o-i*a,c*a+i*o,0,c*o+i*a,l*o+n,l*a-i*s,0,c*a-i*o,l*a+i*s,r*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,s=e._y,o=e._z,a=e._w,c=r+r,l=s+s,h=o+o,u=r*c,d=r*l,p=r*h,m=s*l,f=s*h,g=o*h,v=a*c,y=a*l,_=a*h,b=n.x,w=n.y,x=n.z;return i[0]=(1-(m+g))*b,i[1]=(d+_)*b,i[2]=(p-y)*b,i[3]=0,i[4]=(d-_)*w,i[5]=(1-(u+g))*w,i[6]=(f+v)*w,i[7]=0,i[8]=(p+y)*x,i[9]=(f-v)*x,i[10]=(1-(u+m))*x,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=EM.set(i[0],i[1],i[2]).length();const s=EM.set(i[4],i[5],i[6]).length(),o=EM.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],OM.copy(this);const a=1/r,c=1/s,l=1/o;return OM.elements[0]*=a,OM.elements[1]*=a,OM.elements[2]*=a,OM.elements[4]*=c,OM.elements[5]*=c,OM.elements[6]*=c,OM.elements[8]*=l,OM.elements[9]*=l,OM.elements[10]*=l,e.setFromRotationMatrix(OM),n.x=r,n.y=s,n.z=o,this}makePerspective(t,e,n,i,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*r/(n-i),c=(e+t)/(e-t),l=(n+i)/(n-i),h=-(s+r)/(s-r),u=-2*s*r/(s-r);return o[0]=2*r/(e-t),o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=a,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=u,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,n,i,r,s){const o=this.elements,a=1/(e-t),c=1/(n-i),l=1/(s-r),h=(e+t)*a,u=(n+i)*c,d=(s+r)*l;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const EM=new $x,OM=new PM,AM=new $x(0,0,0),IM=new $x(1,1,1),LM=new $x,RM=new $x,DM=new $x;class kM{constructor(t=0,e=0,n=0,i=kM.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,n){const i=zx.clamp,r=t.elements,s=r[0],o=r[4],a=r[8],c=r[1],l=r[5],h=r[9],u=r[2],d=r[6],p=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return NM.makeRotationFromQuaternion(t),this.setFromRotationMatrix(NM,e,n)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return HM.setFromEuler(this),this.setFromQuaternion(HM,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new $x(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}kM.DefaultOrder="XYZ",kM.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const NM=new PM,HM=new Jx;class BM{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let FM=0;const GM=new $x,jM=new Jx,zM=new PM,UM=new $x,VM=new $x,WM=new $x,XM=new Jx,qM=new $x(1,0,0),YM=new $x(0,1,0),ZM=new $x(0,0,1),KM={type:"added"},QM={type:"removed"};function JM(){Object.defineProperty(this,"id",{value:FM++}),this.uuid=zx.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=JM.DefaultUp.clone();const t=new $x,e=new kM,n=new Jx,i=new $x(1,1,1);e._onChange(function(){n.setFromEuler(e,!1)}),n._onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new PM},normalMatrix:{value:new Vx}}),this.matrix=new PM,this.matrixWorld=new PM,this.matrixAutoUpdate=JM.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new BM,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}JM.DefaultUp=new $x(0,1,0),JM.DefaultMatrixAutoUpdate=!0,JM.prototype=Object.assign(Object.create(Fx.prototype),{constructor:JM,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return jM.setFromAxisAngle(t,e),this.quaternion.multiply(jM),this},rotateOnWorldAxis:function(t,e){return jM.setFromAxisAngle(t,e),this.quaternion.premultiply(jM),this},rotateX:function(t){return this.rotateOnAxis(qM,t)},rotateY:function(t){return this.rotateOnAxis(YM,t)},rotateZ:function(t){return this.rotateOnAxis(ZM,t)},translateOnAxis:function(t,e){return GM.copy(t).applyQuaternion(this.quaternion),this.position.add(GM.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(qM,t)},translateY:function(t){return this.translateOnAxis(YM,t)},translateZ:function(t){return this.translateOnAxis(ZM,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(zM.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?UM.copy(t):UM.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),VM.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zM.lookAt(VM,UM,this.up):zM.lookAt(UM,VM,this.up),this.quaternion.setFromRotationMatrix(zM),i&&(zM.extractRotation(i.matrixWorld),jM.setFromRotationMatrix(zM),this.quaternion.premultiply(jM.invert()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(KM)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(QM)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(QM)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),zM.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),zM.multiply(t.parent.matrixWorld)),t.applyMatrix4(zM),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new $x),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Jx),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(VM,t,WM),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new $x),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(VM,XM,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new $x),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++)r(t.shapes,n[e]);else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++)i.animations.push(r(t.animations,this.animations[e]))}if(e){const e=s(t.geometries),i=s(t.materials),r=s(t.textures),o=s(t.images),a=s(t.shapes),c=s(t.skeletons),l=s(t.animations);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),o.length>0&&(n.images=o),a.length>0&&(n.shapes=a),c.length>0&&(n.skeletons=c),l.length>0&&(n.animations=l)}return n.object=i,n;function s(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}});const $M=new $x,tS=new $x,eS=new Vx;class nS{constructor(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new $x(1,0,0),this.constant=void 0!==e?e:0}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=$M.subVectors(n,e).cross(tS.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new $x),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new $x);const n=t.delta($M),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new $x),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||eS.getNormalMatrix(t),i=this.coplanarPoint($M).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const iS=new $x,rS=new $x,sS=new $x,oS=new $x,aS=new $x,cS=new $x,lS=new $x,hS=new $x,uS=new $x,dS=new $x;class pS{constructor(t,e,n){this.a=void 0!==t?t:new $x,this.b=void 0!==e?e:new $x,this.c=void 0!==n?n:new $x}static getNormal(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new $x),i.subVectors(n,e),iS.subVectors(t,e),i.cross(iS);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){iS.subVectors(i,e),rS.subVectors(n,e),sS.subVectors(t,e);const s=iS.dot(iS),o=iS.dot(rS),a=iS.dot(sS),c=rS.dot(rS),l=rS.dot(sS),h=s*c-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new $x),0===h)return r.set(-2,-1,-1);const u=1/h,d=(c*a-o*l)*u,p=(s*l-o*a)*u;return r.set(1-d-p,p,d)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,oS),oS.x>=0&&oS.y>=0&&oS.x+oS.y<=1}static getUV(t,e,n,i,r,s,o,a){return this.getBarycoord(t,e,n,i,oS),a.set(0,0),a.addScaledVector(r,oS.x),a.addScaledVector(s,oS.y),a.addScaledVector(o,oS.z),a}static isFrontFacing(t,e,n,i){return iS.subVectors(n,e),rS.subVectors(t,e),iS.cross(rS).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return iS.subVectors(this.c,this.b),rS.subVectors(this.a,this.b),.5*iS.cross(rS).length()}getMidpoint(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new $x),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return pS.getNormal(this.a,this.b,this.c,t)}getPlane(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new nS),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return pS.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,i,r){return pS.getUV(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return pS.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return pS.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new $x);const n=this.a,i=this.b,r=this.c;let s,o;aS.subVectors(i,n),cS.subVectors(r,n),hS.subVectors(t,n);const a=aS.dot(hS),c=cS.dot(hS);if(a<=0&&c<=0)return e.copy(n);uS.subVectors(t,i);const l=aS.dot(uS),h=cS.dot(uS);if(l>=0&&h<=l)return e.copy(i);const u=a*h-l*c;if(u<=0&&a>=0&&l<=0)return s=a/(a-l),e.copy(n).addScaledVector(aS,s);dS.subVectors(t,r);const d=aS.dot(dS),p=cS.dot(dS);if(p>=0&&d<=p)return e.copy(r);const m=d*c-a*p;if(m<=0&&c>=0&&p<=0)return o=c/(c-p),e.copy(n).addScaledVector(cS,o);const f=l*p-d*h;if(f<=0&&h-l>=0&&d-p>=0)return lS.subVectors(r,i),o=(h-l)/(h-l+(d-p)),e.copy(i).addScaledVector(lS,o);const g=1/(f+m+u);return s=m*g,o=u*g,e.copy(n).addScaledVector(aS,s).addScaledVector(cS,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const mS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fS={h:0,s:0,l:0},gS={h:0,s:0,l:0};function vS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function yS(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function _S(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class bS{constructor(t,e,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=zx.euclideanModulo(t,1),e=zx.clamp(e,0,1),n=zx.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=vS(r,i,t+1/3),this.g=vS(r,i,t),this.b=vS(r,i,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const i=n[2];switch(n[1]){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const n=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=mS[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=yS(t.r),this.g=yS(t.g),this.b=yS(t.b),this}copyLinearToSRGB(t){return this.r=_S(t.r),this.g=_S(t.g),this.b=_S(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,n=this.g,i=this.b,r=Math.max(e,n,i),s=Math.min(e,n,i);let o,a;const c=(s+r)/2;if(s===r)o=0,a=0;else{const t=r-s;switch(a=c<=.5?t/(r+s):t/(2-r-s),r){case e:o=(n-i)/t+(n<i?6:0);break;case n:o=(i-e)/t+2;break;case i:o=(e-n)/t+4}o/=6}return t.h=o,t.s=a,t.l=c,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL(fS),fS.h+=t,fS.s+=e,fS.l+=n,this.setHSL(fS.h,fS.s,fS.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(fS),t.getHSL(gS);const n=zx.lerp(fS.h,gS.h,e),i=zx.lerp(fS.s,gS.s,e),r=zx.lerp(fS.l,gS.l,e);return this.setHSL(n,i,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}bS.NAMES=mS,bS.prototype.r=1,bS.prototype.g=1,bS.prototype.b=1;class wS{constructor(t,e,n,i,r,s=0){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new $x,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new bS,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=s}clone(){return(new this.constructor).copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}let xS=0;function MS(){Object.defineProperty(this,"id",{value:xS++}),this.uuid=zx.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=lx,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=kx,this.stencilZFail=kx,this.stencilZPass=kx,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function SS(t){MS.call(this),this.type="MeshBasicMaterial",this.color=new bS(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}MS.prototype=Object.assign(Object.create(Fx.prototype),{constructor:MS,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(MS.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(SS.prototype=Object.create(MS.prototype)).constructor=SS,SS.prototype.isMeshBasicMaterial=!0,SS.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const TS=new $x,CS=new Ux;function PS(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=Nx,this.updateRange={offset:0,count:-1},this.version=0}function ES(t,e,n){PS.call(this,new Int8Array(t),e,n)}function OS(t,e,n){PS.call(this,new Uint8Array(t),e,n)}function AS(t,e,n){PS.call(this,new Uint8ClampedArray(t),e,n)}function IS(t,e,n){PS.call(this,new Int16Array(t),e,n)}function LS(t,e,n){PS.call(this,new Uint16Array(t),e,n)}function RS(t,e,n){PS.call(this,new Int32Array(t),e,n)}function DS(t,e,n){PS.call(this,new Uint32Array(t),e,n)}function kS(t,e,n){PS.call(this,new Uint16Array(t),e,n)}function NS(t,e,n){PS.call(this,new Float32Array(t),e,n)}function HS(t,e,n){PS.call(this,new Float64Array(t),e,n)}function BS(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}Object.defineProperty(PS.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(PS.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new bS),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Ux),e[n++]=r.x,e[n++]=r.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new $x),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new Kx),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)CS.fromBufferAttribute(this,e),CS.applyMatrix3(t),this.setXY(e,CS.x,CS.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)TS.fromBufferAttribute(this,e),TS.applyMatrix3(t),this.setXYZ(e,TS.x,TS.y,TS.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)TS.x=this.getX(e),TS.y=this.getY(e),TS.z=this.getZ(e),TS.applyMatrix4(t),this.setXYZ(e,TS.x,TS.y,TS.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)TS.x=this.getX(e),TS.y=this.getY(e),TS.z=this.getZ(e),TS.applyNormalMatrix(t),this.setXYZ(e,TS.x,TS.y,TS.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)TS.x=this.getX(e),TS.y=this.getY(e),TS.z=this.getZ(e),TS.transformDirection(t),this.setXYZ(e,TS.x,TS.y,TS.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(ES.prototype=Object.create(PS.prototype)).constructor=ES,(OS.prototype=Object.create(PS.prototype)).constructor=OS,(AS.prototype=Object.create(PS.prototype)).constructor=AS,(IS.prototype=Object.create(PS.prototype)).constructor=IS,(LS.prototype=Object.create(PS.prototype)).constructor=LS,(RS.prototype=Object.create(PS.prototype)).constructor=RS,(DS.prototype=Object.create(PS.prototype)).constructor=DS,(kS.prototype=Object.create(PS.prototype)).constructor=kS,kS.prototype.isFloat16BufferAttribute=!0,(NS.prototype=Object.create(PS.prototype)).constructor=NS,(HS.prototype=Object.create(PS.prototype)).constructor=HS;const FS={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function GS(t,e){return new FS[t](e)}let jS=0;const zS=new PM,US=new JM,VS=new $x,WS=new nM,XS=new nM,qS=new $x;function YS(){Object.defineProperty(this,"id",{value:jS++}),this.uuid=zx.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}YS.prototype=Object.assign(Object.create(Fx.prototype),{constructor:YS,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return this.index=Array.isArray(t)?new(BS(t)>65535?DS:LS)(t,1):t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new Vx).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return zS.makeRotationX(t),this.applyMatrix4(zS),this},rotateY:function(t){return zS.makeRotationY(t),this.applyMatrix4(zS),this},rotateZ:function(t){return zS.makeRotationZ(t),this.applyMatrix4(zS),this},translate:function(t,e,n){return zS.makeTranslation(t,e,n),this.applyMatrix4(zS),this},scale:function(t,e,n){return zS.makeScale(t,e,n),this.applyMatrix4(zS),this},lookAt:function(t){return US.lookAt(t),US.updateMatrix(),this.applyMatrix4(US.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(VS).negate(),this.translate(VS.x,VS.y,VS.z),this},setFromPoints:function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new NS(e,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new nM);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new $x(-1/0,-1/0,-1/0),new $x(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,i=e.length;n<i;n++)WS.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(qS.addVectors(this.boundingBox.min,WS.min),this.boundingBox.expandByPoint(qS),qS.addVectors(this.boundingBox.max,WS.max),this.boundingBox.expandByPoint(qS)):(this.boundingBox.expandByPoint(WS.min),this.boundingBox.expandByPoint(WS.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new yM);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new $x,1/0);if(t){const n=this.boundingSphere.center;if(WS.setFromBufferAttribute(t),e)for(let t=0,r=e.length;t<r;t++)XS.setFromBufferAttribute(e[t]),this.morphTargetsRelative?(qS.addVectors(WS.min,XS.min),WS.expandByPoint(qS),qS.addVectors(WS.max,XS.max),WS.expandByPoint(qS)):(WS.expandByPoint(XS.min),WS.expandByPoint(XS.max));WS.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)qS.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(qS));if(e)for(let r=0,s=e.length;r<s;r++){const s=e[r],o=this.morphTargetsRelative;for(let e=0,r=s.count;e<r;e++)qS.fromBufferAttribute(s,e),o&&(VS.fromBufferAttribute(t,e),qS.add(VS)),i=Math.max(i,n.distanceToSquared(qS))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,i=e.position.array,r=e.normal.array,s=e.uv.array,o=i.length/3;void 0===e.tangent&&this.setAttribute("tangent",new PS(new Float32Array(4*o),4));const a=e.tangent.array,c=[],l=[];for(let T=0;T<o;T++)c[T]=new $x,l[T]=new $x;const h=new $x,u=new $x,d=new $x,p=new Ux,m=new Ux,f=new Ux,g=new $x,v=new $x;function y(t,e,n){h.fromArray(i,3*t),u.fromArray(i,3*e),d.fromArray(i,3*n),p.fromArray(s,2*t),m.fromArray(s,2*e),f.fromArray(s,2*n),u.sub(h),d.sub(h),m.sub(p),f.sub(p);const r=1/(m.x*f.y-f.x*m.y);isFinite(r)&&(g.copy(u).multiplyScalar(f.y).addScaledVector(d,-m.y).multiplyScalar(r),v.copy(d).multiplyScalar(m.x).addScaledVector(u,-f.x).multiplyScalar(r),c[t].add(g),c[e].add(g),c[n].add(g),l[t].add(v),l[e].add(v),l[n].add(v))}let _=this.groups;0===_.length&&(_=[{start:0,count:n.length}]);for(let T=0,C=_.length;T<C;++T){const t=_[T],e=t.start;for(let i=e,r=e+t.count;i<r;i+=3)y(n[i+0],n[i+1],n[i+2])}const b=new $x,w=new $x,x=new $x,M=new $x;function S(t){x.fromArray(r,3*t),M.copy(x);const e=c[t];b.copy(e),b.sub(x.multiplyScalar(x.dot(e))).normalize(),w.crossVectors(M,e);const n=w.dot(l[t])<0?-1:1;a[4*t]=b.x,a[4*t+1]=b.y,a[4*t+2]=b.z,a[4*t+3]=n}for(let T=0,C=_.length;T<C;++T){const t=_[T],e=t.start;for(let i=e,r=e+t.count;i<r;i+=3)S(n[i+0]),S(n[i+1]),S(n[i+2])}},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new PS(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new $x,r=new $x,s=new $x,o=new $x,a=new $x,c=new $x,l=new $x,h=new $x;if(t)for(let u=0,d=t.count;u<d;u+=3){const d=t.getX(u+0),p=t.getX(u+1),m=t.getX(u+2);i.fromBufferAttribute(e,d),r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,m),l.subVectors(s,r),h.subVectors(i,r),l.cross(h),o.fromBufferAttribute(n,d),a.fromBufferAttribute(n,p),c.fromBufferAttribute(n,m),o.add(l),a.add(l),c.add(l),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(m,c.x,c.y,c.z)}else for(let t=0,u=e.count;t<u;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),s.fromBufferAttribute(e,t+2),l.subVectors(s,r),h.subVectors(i,r),l.cross(h),n.setXYZ(t+0,l.x,l.y,l.z),n.setXYZ(t+1,l.x,l.y,l.z),n.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(void 0===t.attributes[i])continue;const r=n[i].array,s=t.attributes[i],o=s.array,a=s.itemSize*e,c=Math.min(o.length,r.length-a);for(let t=0,e=a;t<c;t++,e++)r[e]=o[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)qS.fromBufferAttribute(t,e),qS.normalize(),t.setXYZ(e,qS.x,qS.y,qS.z)},toNonIndexed:function(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,s=new n.constructor(e.length*i);let o=0,a=0;for(let c=0,l=e.length;c<l;c++){o=e[c]*i;for(let t=0;t<i;t++)s[a++]=n[o++]}return new PS(s,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new YS,n=this.index.array,i=this.attributes;for(const o in i){const r=t(i[o],n);e.setAttribute(o,r)}const r=this.morphAttributes;for(const o in r){const i=[],s=r[o];for(let e=0,r=s.length;e<r;e++){const r=t(s[e],n);i.push(r)}e.morphAttributes[o]=i}e.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,a=s.length;o<a;o++){const t=s[o];e.addGroup(t.start,t.count,t.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const a in n){const e=n[a],i=e.toJSON(t.data);""!==e.name&&(i.name=e.name),t.data.attributes[a]=i}const i={};let r=!1;for(const a in this.morphAttributes){const e=this.morphAttributes[a],n=[];for(let i=0,r=e.length;i<r;i++){const r=e[i],s=r.toJSON(t.data);""!==r.name&&(s.name=r.name),n.push(s)}n.length>0&&(i[a]=n,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return null!==o&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t},clone:function(){return(new YS).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const c in i)this.setAttribute(c,i[c].clone(e));const r=t.morphAttributes;for(const c in r){const t=[],n=r[c];for(let i=0,r=n.length;i<r;i++)t.push(n[i].clone(e));this.morphAttributes[c]=t}this.morphTargetsRelative=t.morphTargetsRelative;const s=t.groups;for(let c=0,l=s.length;c<l;c++){const t=s[c];this.addGroup(t.start,t.count,t.materialIndex)}const o=t.boundingBox;null!==o&&(this.boundingBox=o.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const ZS=new PM,KS=new CM,QS=new yM,JS=new $x,$S=new $x,tT=new $x,eT=new $x,nT=new $x,iT=new $x,rT=new $x,sT=new $x,oT=new $x,aT=new Ux,cT=new Ux,lT=new Ux,hT=new $x,uT=new $x;function dT(t=new YS,e=new SS){JM.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function pT(t,e,n,i,r,s,o,a,c,l,h,u){JS.fromBufferAttribute(r,l),$S.fromBufferAttribute(r,h),tT.fromBufferAttribute(r,u);const d=t.morphTargetInfluences;if(e.morphTargets&&s&&d){rT.set(0,0,0),sT.set(0,0,0),oT.set(0,0,0);for(let t=0,e=s.length;t<e;t++){const e=d[t],n=s[t];0!==e&&(eT.fromBufferAttribute(n,l),nT.fromBufferAttribute(n,h),iT.fromBufferAttribute(n,u),o?(rT.addScaledVector(eT,e),sT.addScaledVector(nT,e),oT.addScaledVector(iT,e)):(rT.addScaledVector(eT.sub(JS),e),sT.addScaledVector(nT.sub($S),e),oT.addScaledVector(iT.sub(tT),e)))}JS.add(rT),$S.add(sT),tT.add(oT)}t.isSkinnedMesh&&(t.boneTransform(l,JS),t.boneTransform(h,$S),t.boneTransform(u,tT));const p=function(t,e,n,i,r,s,o,a){let c;if(c=1===e.side?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,2!==e.side,a),null===c)return null;uT.copy(a),uT.applyMatrix4(t.matrixWorld);const l=n.ray.origin.distanceTo(uT);return l<n.near||l>n.far?null:{distance:l,point:uT.clone(),object:t}}(t,e,n,i,JS,$S,tT,hT);if(p){a&&(aT.fromBufferAttribute(a,l),cT.fromBufferAttribute(a,h),lT.fromBufferAttribute(a,u),p.uv=pS.getUV(hT,JS,$S,tT,aT,cT,lT,new Ux)),c&&(aT.fromBufferAttribute(c,l),cT.fromBufferAttribute(c,h),lT.fromBufferAttribute(c,u),p.uv2=pS.getUV(hT,JS,$S,tT,aT,cT,lT,new Ux));const t=new wS(l,h,u);pS.getNormal(JS,$S,tT,t.normal),p.face=t}return p}dT.prototype=Object.assign(Object.create(JM.prototype),{constructor:dT,isMesh:!0,copy:function(t){return JM.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),QS.copy(n.boundingSphere),QS.applyMatrix4(r),!1===t.ray.intersectsSphere(QS))return;if(ZS.copy(r).invert(),KS.copy(t.ray).applyMatrix4(ZS),null!==n.boundingBox&&!1===KS.intersectsBox(n.boundingBox))return;let s;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position,a=n.morphAttributes.position,c=n.morphTargetsRelative,l=n.attributes.uv,h=n.attributes.uv2,u=n.groups,d=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,p=u.length;n<p;n++){const p=u[n],m=i[p.materialIndex];for(let n=Math.max(p.start,d.start),i=Math.min(p.start+p.count,d.start+d.count);n<i;n+=3){const i=r.getX(n),u=r.getX(n+1),d=r.getX(n+2);s=pT(this,m,t,KS,o,a,c,l,h,i,u,d),s&&(s.faceIndex=Math.floor(n/3),s.face.materialIndex=p.materialIndex,e.push(s))}}else for(let n=Math.max(0,d.start),p=Math.min(r.count,d.start+d.count);n<p;n+=3){const u=r.getX(n),d=r.getX(n+1),p=r.getX(n+2);s=pT(this,i,t,KS,o,a,c,l,h,u,d,p),s&&(s.faceIndex=Math.floor(n/3),e.push(s))}else if(void 0!==o)if(Array.isArray(i))for(let n=0,p=u.length;n<p;n++){const r=u[n],p=i[r.materialIndex];for(let n=Math.max(r.start,d.start),i=Math.min(r.start+r.count,d.start+d.count);n<i;n+=3)s=pT(this,p,t,KS,o,a,c,l,h,n,n+1,n+2),s&&(s.faceIndex=Math.floor(n/3),s.face.materialIndex=r.materialIndex,e.push(s))}else for(let n=Math.max(0,d.start),p=Math.min(o.count,d.start+d.count);n<p;n+=3)s=pT(this,i,t,KS,o,a,c,l,h,n,n+1,n+2),s&&(s.faceIndex=Math.floor(n/3),e.push(s))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class mT extends YS{constructor(t=1,e=1,n=1,i=1,r=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};const o=this;i=Math.floor(i),r=Math.floor(r),s=Math.floor(s);const a=[],c=[],l=[],h=[];let u=0,d=0;function p(t,e,n,i,r,s,p,m,f,g,v){const y=s/f,_=p/g,b=s/2,w=p/2,x=m/2,M=f+1,S=g+1;let T=0,C=0;const P=new $x;for(let o=0;o<S;o++){const s=o*_-w;for(let a=0;a<M;a++)P[t]=(a*y-b)*i,P[e]=s*r,P[n]=x,c.push(P.x,P.y,P.z),P[t]=0,P[e]=0,P[n]=m>0?1:-1,l.push(P.x,P.y,P.z),h.push(a/f),h.push(1-o/g),T+=1}for(let o=0;o<g;o++)for(let t=0;t<f;t++){const e=u+t+M*(o+1),n=u+(t+1)+M*(o+1),i=u+(t+1)+M*o;a.push(u+t+M*o,e,i),a.push(e,n,i),C+=6}o.addGroup(d,C,v),d+=C,u+=T}p("z","y","x",-1,-1,n,e,t,s,r,0),p("z","y","x",1,-1,n,e,-t,s,r,1),p("x","z","y",1,1,t,n,e,i,s,2),p("x","z","y",1,-1,t,n,-e,i,s,3),p("x","y","z",1,-1,t,e,n,i,r,4),p("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new NS(c,3)),this.setAttribute("normal",new NS(l,3)),this.setAttribute("uv",new NS(h,2))}}function fT(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];e[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?r.clone():Array.isArray(r)?r.slice():r}}return e}function gT(t){const e={};for(let n=0;n<t.length;n++){const i=fT(t[n]);for(const t in i)e[t]=i[t]}return e}const vT={clone:fT,merge:gT};function yT(t){MS.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function _T(){JM.call(this),this.type="Camera",this.matrixWorldInverse=new PM,this.projectionMatrix=new PM,this.projectionMatrixInverse=new PM}function bT(t=50,e=1,n=.1,i=2e3){_T.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}(yT.prototype=Object.create(MS.prototype)).constructor=yT,yT.prototype.isShaderMaterial=!0,yT.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=fT(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},yT.prototype.toJSON=function(t){const e=MS.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;e.uniforms[i]=n&&n.isTexture?{type:"t",value:n.toJSON(t).uuid}:n&&n.isColor?{type:"c",value:n.getHex()}:n&&n.isVector2?{type:"v2",value:n.toArray()}:n&&n.isVector3?{type:"v3",value:n.toArray()}:n&&n.isVector4?{type:"v4",value:n.toArray()}:n&&n.isMatrix3?{type:"m3",value:n.toArray()}:n&&n.isMatrix4?{type:"m4",value:n.toArray()}:{value:n}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(e.extensions=n),e},_T.prototype=Object.assign(Object.create(JM.prototype),{constructor:_T,isCamera:!0,copy:function(t,e){return JM.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new $x),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){JM.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){JM.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),bT.prototype=Object.assign(Object.create(_T.prototype),{constructor:bT,isPerspectiveCamera:!0,copy:function(t,e){return _T.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*zx.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*zx.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*zx.RAD2DEG*Math.atan(Math.tan(.5*zx.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,s){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*zx.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const t=s.fullWidth,o=s.fullHeight;r+=s.offsetX*i/t,e-=s.offsetY*n/o,i*=s.width/t,n*=s.height/o}const o=this.filmOffset;0!==o&&(r+=t*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=JM.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});const wT=90;function xT(t,e,n){if(JM.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new bT(wT,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new $x(1,0,0)),this.add(i);const r=new bT(wT,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new $x(-1,0,0)),this.add(r);const s=new bT(wT,1,t,e);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new $x(0,1,0)),this.add(s);const o=new bT(wT,1,t,e);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new $x(0,-1,0)),this.add(o);const a=new bT(wT,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new $x(0,0,1)),this.add(a);const c=new bT(wT,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new $x(0,0,-1)),this.add(c),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const l=t.xr.enabled,h=t.getRenderTarget();t.xr.enabled=!1;const u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,s),t.setRenderTarget(n,3),t.render(e,o),t.setRenderTarget(n,4),t.render(e,a),n.texture.generateMipmaps=u,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(h),t.xr.enabled=l}}function MT(t,e,n,i,r,s,o,a,c,l){Yx.call(this,t=void 0!==t?t:[],e=void 0!==e?e:301,n,i,r,s,o=void 0!==o?o:Mx,a,c,l),this.flipY=!1,this._needsFlipEnvMap=!0}(xT.prototype=Object.create(JM.prototype)).constructor=xT,(MT.prototype=Object.create(Yx.prototype)).constructor=MT,MT.prototype.isCubeTexture=!0,Object.defineProperty(MT.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});class ST extends Qx{constructor(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),super(t,t,e),Object.defineProperty(this,"isWebGLCubeRenderTarget",{value:!0}),this.texture=new MT(void 0,(e=e||{}).mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.format=Sx,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n=new mT(5,5,5),i=new yT({name:"CubemapFromEquirect",uniforms:fT({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});i.uniforms.tEquirect.value=e;const r=new dT(n,i),s=e.minFilter;return e.minFilter===vx&&(e.minFilter=gx),new xT(1,10,this).update(t,r),e.minFilter=s,r.geometry.dispose(),r.material.dispose(),this}clear(t,e,n,i){const r=t.getRenderTarget();for(let s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(e,n,i);t.setRenderTarget(r)}}function TT(t,e,n,i,r,s,o,a,c,l,h,u){Yx.call(this,null,s,o,a,c,l,i,r,h,u),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==c?c:px,this.minFilter=void 0!==l?l:px,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}(TT.prototype=Object.create(Yx.prototype)).constructor=TT,TT.prototype.isDataTexture=!0;const CT=new yM,PT=new $x;class ET{constructor(t,e,n,i,r,s){this.planes=[void 0!==t?t:new nS,void 0!==e?e:new nS,void 0!==n?n:new nS,void 0!==i?i:new nS,void 0!==r?r:new nS,void 0!==s?s:new nS]}set(t,e,n,i,r,s){const o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(s),this}clone(){return(new this.constructor).copy(this)}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],c=n[5],l=n[6],h=n[7],u=n[8],d=n[9],p=n[10],m=n[11],f=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(o-i,h-a,m-u,y-f).normalize(),e[1].setComponents(o+i,h+a,m+u,y+f).normalize(),e[2].setComponents(o+r,h+c,m+d,y+g).normalize(),e[3].setComponents(o-r,h-c,m-d,y-g).normalize(),e[4].setComponents(o-s,h-l,m-p,y-v).normalize(),e[5].setComponents(o+s,h+l,m+p,y+v).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),CT.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(CT)}intersectsSprite(t){return CT.center.set(0,0,0),CT.radius=.7071067811865476,CT.applyMatrix4(t.matrixWorld),this.intersectsSphere(CT)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(PT.x=i.normal.x>0?t.max.x:t.min.x,PT.y=i.normal.y>0?t.max.y:t.min.y,PT.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(PT)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}function OT(){let t=null,e=!1,n=null,i=null;function r(e,s){n(e,s),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function AT(t,e){const n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const s=i.get(e);void 0===s?i.set(e,function(e,i){const r=e.array,s=e.usage,o=t.createBuffer();t.bindBuffer(i,o),t.bufferData(i,r,s),e.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):s.version<e.version&&(function(e,i,r){const s=i.array,o=i.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,s):(n?t.bufferSubData(r,o.offset*s.BYTES_PER_ELEMENT,s,o.offset,o.count):t.bufferSubData(r,o.offset*s.BYTES_PER_ELEMENT,s.subarray(o.offset,o.offset+o.count)),o.count=-1)}(s.buffer,e,r),s.version=e.version)}}}class IT extends YS{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,s=e/2,o=Math.floor(n),a=Math.floor(i),c=o+1,l=a+1,h=t/o,u=e/a,d=[],p=[],m=[],f=[];for(let g=0;g<l;g++){const t=g*u-s;for(let e=0;e<c;e++)p.push(e*h-r,-t,0),m.push(0,0,1),f.push(e/o),f.push(1-g/a)}for(let g=0;g<a;g++)for(let t=0;t<o;t++){const e=t+c*(g+1),n=t+1+c*(g+1),i=t+1+c*g;d.push(t+c*g,e,i),d.push(e,n,i)}this.setIndex(d),this.setAttribute("position",new NS(p,3)),this.setAttribute("normal",new NS(m,3)),this.setAttribute("uv",new NS(f,2))}}const LT={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},RT={common:{diffuse:{value:new bS(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Vx},uv2Transform:{value:new Vx},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ux(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bS(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bS(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vx}},sprite:{diffuse:{value:new bS(15658734)},opacity:{value:1},center:{value:new Ux(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vx}}},DT={basic:{uniforms:gT([RT.common,RT.specularmap,RT.envmap,RT.aomap,RT.lightmap,RT.fog]),vertexShader:LT.meshbasic_vert,fragmentShader:LT.meshbasic_frag},lambert:{uniforms:gT([RT.common,RT.specularmap,RT.envmap,RT.aomap,RT.lightmap,RT.emissivemap,RT.fog,RT.lights,{emissive:{value:new bS(0)}}]),vertexShader:LT.meshlambert_vert,fragmentShader:LT.meshlambert_frag},phong:{uniforms:gT([RT.common,RT.specularmap,RT.envmap,RT.aomap,RT.lightmap,RT.emissivemap,RT.bumpmap,RT.normalmap,RT.displacementmap,RT.fog,RT.lights,{emissive:{value:new bS(0)},specular:{value:new bS(1118481)},shininess:{value:30}}]),vertexShader:LT.meshphong_vert,fragmentShader:LT.meshphong_frag},standard:{uniforms:gT([RT.common,RT.envmap,RT.aomap,RT.lightmap,RT.emissivemap,RT.bumpmap,RT.normalmap,RT.displacementmap,RT.roughnessmap,RT.metalnessmap,RT.fog,RT.lights,{emissive:{value:new bS(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:LT.meshphysical_vert,fragmentShader:LT.meshphysical_frag},toon:{uniforms:gT([RT.common,RT.aomap,RT.lightmap,RT.emissivemap,RT.bumpmap,RT.normalmap,RT.displacementmap,RT.gradientmap,RT.fog,RT.lights,{emissive:{value:new bS(0)}}]),vertexShader:LT.meshtoon_vert,fragmentShader:LT.meshtoon_frag},matcap:{uniforms:gT([RT.common,RT.bumpmap,RT.normalmap,RT.displacementmap,RT.fog,{matcap:{value:null}}]),vertexShader:LT.meshmatcap_vert,fragmentShader:LT.meshmatcap_frag},points:{uniforms:gT([RT.points,RT.fog]),vertexShader:LT.points_vert,fragmentShader:LT.points_frag},dashed:{uniforms:gT([RT.common,RT.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:LT.linedashed_vert,fragmentShader:LT.linedashed_frag},depth:{uniforms:gT([RT.common,RT.displacementmap]),vertexShader:LT.depth_vert,fragmentShader:LT.depth_frag},normal:{uniforms:gT([RT.common,RT.bumpmap,RT.normalmap,RT.displacementmap,{opacity:{value:1}}]),vertexShader:LT.normal_vert,fragmentShader:LT.normal_frag},sprite:{uniforms:gT([RT.sprite,RT.fog]),vertexShader:LT.sprite_vert,fragmentShader:LT.sprite_frag},background:{uniforms:{uvTransform:{value:new Vx},t2D:{value:null}},vertexShader:LT.background_vert,fragmentShader:LT.background_frag},cube:{uniforms:gT([RT.envmap,{opacity:{value:1}}]),vertexShader:LT.cube_vert,fragmentShader:LT.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:LT.equirect_vert,fragmentShader:LT.equirect_frag},distanceRGBA:{uniforms:gT([RT.common,RT.displacementmap,{referencePosition:{value:new $x},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:LT.distanceRGBA_vert,fragmentShader:LT.distanceRGBA_frag},shadow:{uniforms:gT([RT.lights,RT.fog,{color:{value:new bS(0)},opacity:{value:1}}]),vertexShader:LT.shadow_vert,fragmentShader:LT.shadow_frag}};function kT(t,e,n,i,r){const s=new bS(0);let o,a,c=0,l=null,h=0,u=null;function d(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return s},setClearColor:function(t,e=1){s.set(t),c=e,d(s,c)},getClearAlpha:function(){return c},setClearAlpha:function(t){c=t,d(s,c)},render:function(n,r,p,m){let f=!0===r.isScene?r.background:null;f&&f.isTexture&&(f=e.get(f));const g=t.xr,v=g.getSession&&g.getSession();v&&"additive"===v.environmentBlendMode&&(f=null),null===f?d(s,c):f&&f.isColor&&(d(f,1),m=!0),(t.autoClear||m)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),f&&(f.isCubeTexture||f.isWebGLCubeRenderTarget||306===f.mapping)?(void 0===a&&(a=new dT(new mT(1,1,1),new yT({name:"BackgroundCubeMaterial",uniforms:fT(DT.cube.uniforms),vertexShader:DT.cube.vertexShader,fragmentShader:DT.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(a)),f.isWebGLCubeRenderTarget&&(f=f.texture),a.material.uniforms.envMap.value=f,a.material.uniforms.flipEnvMap.value=f.isCubeTexture&&f._needsFlipEnvMap?-1:1,l===f&&h===f.version&&u===t.toneMapping||(a.material.needsUpdate=!0,l=f,h=f.version,u=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):f&&f.isTexture&&(void 0===o&&(o=new dT(new IT(2,2),new yT({name:"BackgroundMaterial",uniforms:fT(DT.background.uniforms),vertexShader:DT.background.vertexShader,fragmentShader:DT.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(o)),o.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),o.material.uniforms.uvTransform.value.copy(f.matrix),l===f&&h===f.version&&u===t.toneMapping||(o.material.needsUpdate=!0,l=f,h=f.version,u=t.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null))}}}function NT(t,e,n,i){const r=t.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},c=d(null);let l=c;function h(e){return i.isWebGL2?t.bindVertexArray(e):s.bindVertexArrayOES(e)}function u(e){return i.isWebGL2?t.deleteVertexArray(e):s.deleteVertexArrayOES(e)}function d(t){const e=[],n=[],i=[];for(let s=0;s<r;s++)e[s]=0,n[s]=0,i[s]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function p(){const t=l.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function m(t){f(t,0)}function f(n,r){const s=l.enabledAttributes,o=l.attributeDivisors;l.newAttributes[n]=1,0===s[n]&&(t.enableVertexAttribArray(n),s[n]=1),o[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),o[n]=r)}function g(){const e=l.newAttributes,n=l.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function v(e,n,r,s,o,a){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,s,o,a):t.vertexAttribIPointer(e,n,r,o,a)}function y(){_(),l!==c&&(l=c,h(l.object))}function _(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(r,c,u,y,_){let b=!1;if(o){const e=function(e,n,r){const o=!0===r.wireframe;let c=a[e.id];void 0===c&&(c={},a[e.id]=c);let l=c[n.id];void 0===l&&(l={},c[n.id]=l);let h=l[o];return void 0===h&&(h=d(i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()),l[o]=h),h}(y,u,c);l!==e&&(l=e,h(l.object)),b=function(t,e){const n=l.attributes,i=t.attributes;let r=0;for(const s in i){const t=n[s],e=i[s];if(void 0===t)return!0;if(t.attribute!==e)return!0;if(t.data!==e.data)return!0;r++}return l.attributesNum!==r||l.index!==e}(y,_),b&&function(t,e){const n={},i=t.attributes;let r=0;for(const s in i){const t=i[s],e={};e.attribute=t,t.data&&(e.data=t.data),n[s]=e,r++}l.attributes=n,l.attributesNum=r,l.index=e}(y,_)}else{const t=!0===c.wireframe;l.geometry===y.id&&l.program===u.id&&l.wireframe===t||(l.geometry=y.id,l.program=u.id,l.wireframe=t,b=!0)}!0===r.isInstancedMesh&&(b=!0),null!==_&&n.update(_,34963),b&&(function(r,s,o,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;p();const c=a.attributes,l=o.getAttributes(),h=s.defaultAttributeValues;for(const e in l){const i=l[e];if(i>=0){const s=c[e];if(void 0!==s){const e=s.normalized,r=s.itemSize,o=n.get(s);if(void 0===o)continue;const c=o.buffer,l=o.type,h=o.bytesPerElement;if(s.isInterleavedBufferAttribute){const n=s.data,o=n.stride,u=s.offset;n&&n.isInstancedInterleavedBuffer?(f(i,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):m(i),t.bindBuffer(34962,c),v(i,r,l,e,o*h,u*h)}else s.isInstancedBufferAttribute?(f(i,s.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=s.meshPerAttribute*s.count)):m(i),t.bindBuffer(34962,c),v(i,r,l,e,0,0)}else if("instanceMatrix"===e){const e=n.get(r.instanceMatrix);if(void 0===e)continue;const s=e.buffer,o=e.type;f(i+0,1),f(i+1,1),f(i+2,1),f(i+3,1),t.bindBuffer(34962,s),t.vertexAttribPointer(i+0,4,o,!1,64,0),t.vertexAttribPointer(i+1,4,o,!1,64,16),t.vertexAttribPointer(i+2,4,o,!1,64,32),t.vertexAttribPointer(i+3,4,o,!1,64,48)}else if("instanceColor"===e){const e=n.get(r.instanceColor);if(void 0===e)continue;const s=e.buffer,o=e.type;f(i,1),t.bindBuffer(34962,s),t.vertexAttribPointer(i,3,o,!1,12,0)}else if(void 0!==h){const n=h[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(i,n);break;case 3:t.vertexAttrib3fv(i,n);break;case 4:t.vertexAttrib4fv(i,n);break;default:t.vertexAttrib1fv(i,n)}}}}g()}(r,c,u,y),null!==_&&t.bindBuffer(34963,n.get(_).buffer))},reset:y,resetDefaultState:_,dispose:function(){y();for(const t in a){const e=a[t];for(const t in e){const n=e[t];for(const t in n)u(n[t].object),delete n[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const n in e){const t=e[n];for(const e in t)u(t[e].object),delete t[e];delete e[n]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const n=a[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)u(i[t].object),delete i[t];delete n[t.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:g}}function HT(t,e,n,i){const r=i.isWebGL2;let s;this.setMode=function(t){s=t},this.render=function(e,i){t.drawArrays(s,e,i),n.update(i,s,1)},this.renderInstances=function(i,o,a){if(0===a)return;let c,l;if(r)c=t,l="drawArraysInstanced";else if(c=e.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===c)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[l](s,i,o,a),n.update(o,s,a)}}function BT(t,e,n){let i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let o=void 0!==n.precision?n.precision:"highp";const a=r(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);const c=!0===n.logarithmicDepthBuffer,l=t.getParameter(34930),h=t.getParameter(35660),u=t.getParameter(3379),d=t.getParameter(34076),p=t.getParameter(34921),m=t.getParameter(36347),f=t.getParameter(36348),g=t.getParameter(36349),v=h>0,y=s||!!e.get("OES_texture_float");return{isWebGL2:s,getMaxAnisotropy:function(){if(void 0!==i)return i;const n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:h,maxTextureSize:u,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:m,maxVaryings:f,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:s?t.getParameter(36183):0}}function FT(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new nS,a=new Vx,c={value:null,needsUpdate:!1};function l(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(t,n,i,r){const s=null!==t?t.length:0;let l=null;if(0!==s){if(l=c.value,!0!==r||null===l){const e=i+4*s,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===l||l.length<e)&&(l=new Float32Array(e));for(let n=0,c=i;n!==s;++n,c+=4)o.copy(t[n]).applyMatrix4(r,a),o.normal.toArray(l,c),l[c+3]=o.constant}c.value=l,c.needsUpdate=!0}return e.numPlanes=s,e.numIntersection=0,l}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,s){const o=0!==t.length||e||0!==i||r;return r=e,n=h(t,s,0),i=t.length,o},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,l()},this.setState=function(e,o,a){const u=e.clippingPlanes,d=e.clipIntersection,p=e.clipShadows,m=t.get(e);if(!r||null===u||0===u.length||s&&!p)s?h(null):l();else{const t=s?0:i,e=4*t;let r=m.clippingState||null;c.value=r,r=h(u,o,e,a);for(let i=0;i!==e;++i)r[i]=n[i];m.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=t}}}function GT(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const s=r.mapping;if(303===s||304===s){if(e.has(r))return n(e.get(r).texture,r.mapping);{const s=r.image;if(s&&s.height>0){const o=t.getRenderList(),a=t.getRenderTarget(),c=new ST(s.height/2);return c.fromEquirectangularTexture(t,r),e.set(r,c),t.setRenderTarget(a),t.setRenderList(o),r.addEventListener("dispose",i),n(c.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}function jT(t){const e={};function n(n){if(void 0!==e[n])return e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(t){const e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function zT(t,e,n,i){const r={},s=new WeakMap;function o(t){const a=t.target;null!==a.index&&e.remove(a.index);for(const n in a.attributes)e.remove(a.attributes[n]);a.removeEventListener("dispose",o),delete r[a.id];const c=s.get(a);c&&(e.remove(c),s.delete(a)),i.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(t){const n=[],i=t.index,r=t.attributes.position;let o=0;if(null!==i){const t=i.array;o=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],s=t[e+2];n.push(i,r,r,s,s,i)}}else{o=r.version;for(let t=0,e=r.array.length/3-1;t<e;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}const a=new(BS(n)>65535?DS:LS)(n,1);a.version=o;const c=s.get(t);c&&e.remove(c),s.set(t,a)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",o),r[e.id]=!0,n.memory.geometries++),e},update:function(t){const n=t.attributes;for(const r in n)e.update(n[r],34962);const i=t.morphAttributes;for(const r in i){const t=i[r];for(let n=0,i=t.length;n<i;n++)e.update(t[n],34962)}},getWireframeAttribute:function(t){const e=s.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return s.get(t)}}}function UT(t,e,n,i){const r=i.isWebGL2;let s,o,a;this.setMode=function(t){s=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=function(e,i){t.drawElements(s,i,o,e*a),n.update(i,s,1)},this.renderInstances=function(i,c,l){if(0===l)return;let h,u;if(r)h=t,u="drawElementsInstanced";else if(h=e.get("ANGLE_instanced_arrays"),u="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[u](s,c,o,i*a,l),n.update(c,s,l)}}function VT(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function WT(t,e){return t[0]-e[0]}function XT(t,e){return Math.abs(e[1])-Math.abs(t[1])}function qT(t){const e={},n=new Float32Array(8),i=[];for(let r=0;r<8;r++)i[r]=[r,0];return{update:function(r,s,o,a){const c=r.morphTargetInfluences,l=void 0===c?0:c.length;let h=e[s.id];if(void 0===h){h=[];for(let t=0;t<l;t++)h[t]=[t,0];e[s.id]=h}for(let t=0;t<l;t++){const e=h[t];e[0]=t,e[1]=c[t]}h.sort(XT);for(let t=0;t<8;t++)t<l&&h[t][1]?(i[t][0]=h[t][0],i[t][1]=h[t][1]):(i[t][0]=Number.MAX_SAFE_INTEGER,i[t][1]=0);i.sort(WT);const u=o.morphTargets&&s.morphAttributes.position,d=o.morphNormals&&s.morphAttributes.normal;let p=0;for(let t=0;t<8;t++){const e=i[t],r=e[0],o=e[1];r!==Number.MAX_SAFE_INTEGER&&o?(u&&s.getAttribute("morphTarget"+t)!==u[r]&&s.setAttribute("morphTarget"+t,u[r]),d&&s.getAttribute("morphNormal"+t)!==d[r]&&s.setAttribute("morphNormal"+t,d[r]),n[t]=o,p+=o):(u&&!0===s.hasAttribute("morphTarget"+t)&&s.deleteAttribute("morphTarget"+t),d&&!0===s.hasAttribute("morphNormal"+t)&&s.deleteAttribute("morphNormal"+t),n[t]=0)}const m=s.morphTargetsRelative?1:1-p;a.getUniforms().setValue(t,"morphTargetBaseInfluence",m),a.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function ZT(t,e,n,i){let r=new WeakMap;function s(t){const e=t.target;e.removeEventListener("dispose",s),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){const o=i.render.frame,a=e.get(t,t.geometry);return r.get(a)!==o&&(e.update(a),r.set(a,o)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",s)&&t.addEventListener("dispose",s),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),a},dispose:function(){r=new WeakMap}}}function KT(t=null,e=1,n=1,i=1){Yx.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=px,this.minFilter=px,this.wrapR=ux,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function QT(t=null,e=1,n=1,i=1){Yx.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=px,this.minFilter=px,this.wrapR=ux,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}DT.physical={uniforms:gT([DT.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ux(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new bS(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:LT.meshphysical_vert,fragmentShader:LT.meshphysical_frag},(KT.prototype=Object.create(Yx.prototype)).constructor=KT,KT.prototype.isDataTexture2DArray=!0,(QT.prototype=Object.create(Yx.prototype)).constructor=QT,QT.prototype.isDataTexture3D=!0;const JT=new Yx,$T=new KT,tC=new QT,eC=new MT,nC=[],iC=[],rC=new Float32Array(16),sC=new Float32Array(9),oC=new Float32Array(4);function aC(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=nC[r];if(void 0===s&&(s=new Float32Array(r),nC[r]=s),0!==e){i.toArray(s,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(s,r)}return s}function cC(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function lC(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function hC(t,e){let n=iC[e];void 0===n&&(n=new Int32Array(e),iC[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function uC(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function dC(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(cC(n,e))return;t.uniform2fv(this.addr,e),lC(n,e)}}function pC(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(cC(n,e))return;t.uniform3fv(this.addr,e),lC(n,e)}}function mC(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(cC(n,e))return;t.uniform4fv(this.addr,e),lC(n,e)}}function fC(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(cC(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),lC(n,e)}else{if(cC(n,i))return;oC.set(i),t.uniformMatrix2fv(this.addr,!1,oC),lC(n,i)}}function gC(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(cC(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),lC(n,e)}else{if(cC(n,i))return;sC.set(i),t.uniformMatrix3fv(this.addr,!1,sC),lC(n,i)}}function vC(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(cC(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),lC(n,e)}else{if(cC(n,i))return;rC.set(i),t.uniformMatrix4fv(this.addr,!1,rC),lC(n,i)}}function yC(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||JT,r)}function _C(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||$T,r)}function bC(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||tC,r)}function wC(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||eC,r)}function xC(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function MC(t,e){const n=this.cache;cC(n,e)||(t.uniform2iv(this.addr,e),lC(n,e))}function SC(t,e){const n=this.cache;cC(n,e)||(t.uniform3iv(this.addr,e),lC(n,e))}function TC(t,e){const n=this.cache;cC(n,e)||(t.uniform4iv(this.addr,e),lC(n,e))}function CC(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function PC(t,e){t.uniform1fv(this.addr,e)}function EC(t,e){t.uniform1iv(this.addr,e)}function OC(t,e){t.uniform2iv(this.addr,e)}function AC(t,e){t.uniform3iv(this.addr,e)}function IC(t,e){t.uniform4iv(this.addr,e)}function LC(t,e){const n=aC(e,this.size,2);t.uniform2fv(this.addr,n)}function RC(t,e){const n=aC(e,this.size,3);t.uniform3fv(this.addr,n)}function DC(t,e){const n=aC(e,this.size,4);t.uniform4fv(this.addr,n)}function kC(t,e){const n=aC(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function NC(t,e){const n=aC(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function HC(t,e){const n=aC(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function BC(t,e,n){const i=e.length,r=hC(n,i);t.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTexture2D(e[s]||JT,r[s])}function FC(t,e,n){const i=e.length,r=hC(n,i);t.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTextureCube(e[s]||eC,r[s])}function GC(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return uC;case 35664:return dC;case 35665:return pC;case 35666:return mC;case 35674:return fC;case 35675:return gC;case 35676:return vC;case 5124:case 35670:return xC;case 35667:case 35671:return MC;case 35668:case 35672:return SC;case 35669:case 35673:return TC;case 5125:return CC;case 35678:case 36198:case 36298:case 36306:case 35682:return yC;case 35679:case 36299:case 36307:return bC;case 35680:case 36300:case 36308:case 36293:return wC;case 36289:case 36303:case 36311:case 36292:return _C}}(e.type)}function jC(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return PC;case 35664:return LC;case 35665:return RC;case 35666:return DC;case 35674:return kC;case 35675:return NC;case 35676:return HC;case 5124:case 35670:return EC;case 35667:case 35671:return OC;case 35668:case 35672:return AC;case 35669:case 35673:return IC;case 35678:case 36198:case 36298:case 36306:case 35682:return BC;case 35680:case 36300:case 36308:case 36293:return FC}}(e.type)}function zC(t){this.id=t,this.seq=[],this.map={}}jC.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),lC(e,t)},zC.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const s=i[r];s.setValue(t,e[s.id],n)}};const UC=/(\w+)(\])?(\[|\.)?/g;function VC(t,e){t.seq.push(e),t.map[e.id]=e}function WC(t,e,n){const i=t.name,r=i.length;for(UC.lastIndex=0;;){const s=UC.exec(i),o=UC.lastIndex;let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&o+2===r){VC(n,void 0===c?new GC(a,t,e):new jC(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new zC(a),VC(n,t)),n=t}}}function XC(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);WC(n,t.getUniformLocation(e,n.name),this)}}function qC(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}XC.prototype.setValue=function(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)},XC.prototype.setOptional=function(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)},XC.upload=function(t,e,n,i){for(let r=0,s=e.length;r!==s;++r){const s=e[r],o=n[s.id];!1!==o.needsUpdate&&s.setValue(t,o.value,i)}},XC.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n};let YC=0;function ZC(t){switch(t){case Rx:return["Linear","( value )"];case Dx:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function KC(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){const e=t.split("\n");for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function QC(t,e){const n=ZC(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function JC(t,e){const n=ZC(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function $C(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function tP(t){return""!==t}function eP(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function nP(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const iP=/^[ \t]*#include +<([\w\d./]+)>/gm;function rP(t){return t.replace(iP,sP)}function sP(t,e){const n=LT[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return rP(n)}const oP=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,aP=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cP(t){return t.replace(aP,hP).replace(oP,lP)}function lP(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),hP(0,e,n,i)}function hP(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function uP(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function dP(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const c=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),l=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),h=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),u=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),d=t.gammaFactor>0?t.gammaFactor:1,p=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(tP).join("\n")}(n),m=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(s),f=r.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[m].filter(tP).join("\n"),g.length>0&&(g+="\n"),v=[p,m].filter(tP).join("\n"),v.length>0&&(v+="\n")):(g=[uP(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(tP).join("\n"),v=[p,uP(n),"#define SHADER_NAME "+n.shaderName,m,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.envMap?"#define "+h:"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?LT.tonemapping_pars_fragment:"",0!==n.toneMapping?$C("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",LT.encodings_pars_fragment,n.map?QC("mapTexelToLinear",n.mapEncoding):"",n.matcap?QC("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?QC("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?QC("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?QC("lightMapTexelToLinear",n.lightMapEncoding):"",JC("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(tP).join("\n")),o=rP(o),o=eP(o,n),o=nP(o,n),a=rP(a),a=eP(a,n),a=nP(a,n),o=cP(o),a=cP(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Bx?"":"out highp vec4 pc_fragColor;",n.glslVersion===Bx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const _=y+v+a,b=qC(r,35633,y+g+o),w=qC(r,35632,_);if(r.attachShader(f,b),r.attachShader(f,w),void 0!==n.index0AttributeName?r.bindAttribLocation(f,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(f,0,"position"),r.linkProgram(f),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(f).trim(),e=r.getShaderInfoLog(b).trim(),n=r.getShaderInfoLog(w).trim();let i=!0,s=!0;if(!1===r.getProgramParameter(f,35714)){i=!1;const e=KC(r,b,"vertex"),n=KC(r,w,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(f,35715),"gl.getProgramInfoLog",t,e,n)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==n||(s=!1);s&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:g},fragmentShader:{log:n,prefix:v}})}let x,M;return r.deleteShader(b),r.deleteShader(w),this.getUniforms=function(){return void 0===x&&(x=new XC(r,f)),x},this.getAttributes=function(){return void 0===M&&(M=function(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r).name;n[i]=t.getAttribLocation(e,i)}return n}(r,f)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(f),this.program=void 0},this.name=n.shaderName,this.id=YC++,this.cacheKey=e,this.usedTimes=1,this.program=f,this.vertexShader=b,this.fragmentShader=w,this}function pP(t,e,n,i,r,s){const o=[],a=i.isWebGL2,c=i.logarithmicDepthBuffer,l=i.floatVertexTextures,h=i.maxVertexUniforms,u=i.vertexTextures;let d=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function f(t){let e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=Rx,e}return{getParameters:function(r,o,m,g,v){const y=g.fog,_=e.get(r.envMap||(r.isMeshStandardMaterial?g.environment:null)),b=p[r.type],w=v.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(l)return 1024;{const t=Math.floor((h-20)/4),n=Math.min(t,e.length);return n<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+n+"."),0):n}}(v):0;let x,M;if(null!==r.precision&&(d=i.getMaxPrecision(r.precision),d!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead.")),b){const t=DT[b];x=t.vertexShader,M=t.fragmentShader}else x=r.vertexShader,M=r.fragmentShader;const S=t.getRenderTarget();return{isWebGL2:a,shaderID:b,shaderName:r.type,vertexShader:x,fragmentShader:M,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:u,outputEncoding:null!==S?f(S.texture):t.outputEncoding,map:!!r.map,mapEncoding:f(r.map),matcap:!!r.matcap,matcapEncoding:f(r.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:f(_),envMapCubeUV:!!_&&(306===_.mapping||307===_.mapping),lightMap:!!r.lightMap,lightMapEncoding:f(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:f(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!y,useFog:r.fog,fogExp2:y&&y.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:c,skinning:r.skinning&&w>0,maxBones:w,useVertexTexture:l,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&m.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<m.length;t++)n.push(e[m[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=p[t.type];let n;return n=e?vT.clone(DT[e].uniforms):t.uniforms,n},acquireProgram:function(e,n){let i;for(let t=0,r=o.length;t<r;t++){const e=o[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new dP(t,n,e,r),o.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=o.indexOf(t);o[e]=o[o.length-1],o.pop(),t.destroy()}},programs:o}}function mP(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function fP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function gP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function vP(t){const e=[];let n=0;const i=[],r=[],s={id:-1};function o(i,r,o,a,c,l){let h=e[n];const u=t.get(o);return void 0===h?(h={id:i.id,object:i,geometry:r,material:o,program:u.program||s,groupOrder:a,renderOrder:i.renderOrder,z:c,group:l},e[n]=h):(h.id=i.id,h.object=i,h.geometry=r,h.material=o,h.program=u.program||s,h.groupOrder=a,h.renderOrder=i.renderOrder,h.z=c,h.group=l),n++,h}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,s,a,c){const l=o(t,e,n,s,a,c);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,s,a,c){const l=o(t,e,n,s,a,c);(!0===n.transparent?r:i).unshift(l)},finish:function(){for(let t=n,i=e.length;t<i;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||fP),r.length>1&&r.sort(e||gP)}}}function yP(t){let e=new WeakMap;return{get:function(n,i){const r=e.get(n);let s;return void 0===r?(s=new vP(t),e.set(n,new WeakMap),e.get(n).set(i,s)):(s=r.get(i),void 0===s&&(s=new vP(t),r.set(i,s))),s},dispose:function(){e=new WeakMap}}}function _P(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new $x,color:new bS};break;case"SpotLight":n={position:new $x,direction:new $x,color:new bS,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new $x,color:new bS,distance:0,decay:0};break;case"HemisphereLight":n={direction:new $x,skyColor:new bS,groundColor:new bS};break;case"RectAreaLight":n={color:new bS,position:new $x,halfWidth:new $x,halfHeight:new $x}}return t[e.id]=n,n}}}let bP=0;function wP(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function xP(t,e){const n=new _P,i=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ux};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ux,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)r.probe.push(new $x);const s=new $x,o=new PM,a=new PM;return{setup:function(s){let o=0,a=0,c=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let l=0,h=0,u=0,d=0,p=0,m=0,f=0,g=0;s.sort(wP);for(let t=0,e=s.length;t<e;t++){const e=s[t],v=e.color,y=e.intensity,_=e.distance,b=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)o+=v.r*y,a+=v.g*y,c+=v.b*y;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],y);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.directionalShadow[l]=n,r.directionalShadowMap[l]=b,r.directionalShadowMatrix[l]=e.shadow.matrix,m++}r.directional[l]=t,l++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(v).multiplyScalar(y),t.distance=_,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.spotShadow[u]=n,r.spotShadowMap[u]=b,r.spotShadowMatrix[u]=e.shadow.matrix,g++}r.spot[u]=t,u++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(v).multiplyScalar(y),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),r.rectArea[d]=t,d++}else if(e.isPointLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,r.pointShadow[h]=n,r.pointShadowMap[h]=b,r.pointShadowMatrix[h]=e.shadow.matrix,f++}r.point[h]=t,h++}else if(e.isHemisphereLight){const t=n.get(e);t.skyColor.copy(e.color).multiplyScalar(y),t.groundColor.copy(e.groundColor).multiplyScalar(y),r.hemi[p]=t,p++}}d>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=RT.LTC_FLOAT_1,r.rectAreaLTC2=RT.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=RT.LTC_HALF_1,r.rectAreaLTC2=RT.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=o,r.ambient[1]=a,r.ambient[2]=c;const v=r.hash;v.directionalLength===l&&v.pointLength===h&&v.spotLength===u&&v.rectAreaLength===d&&v.hemiLength===p&&v.numDirectionalShadows===m&&v.numPointShadows===f&&v.numSpotShadows===g||(r.directional.length=l,r.spot.length=u,r.rectArea.length=d,r.point.length=h,r.hemi.length=p,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=f,r.pointShadowMap.length=f,r.spotShadow.length=g,r.spotShadowMap.length=g,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=f,r.spotShadowMatrix.length=g,v.directionalLength=l,v.pointLength=h,v.spotLength=u,v.rectAreaLength=d,v.hemiLength=p,v.numDirectionalShadows=m,v.numPointShadows=f,v.numSpotShadows=g,r.version=bP++)},setupView:function(t,e){let n=0,i=0,c=0,l=0,h=0;const u=e.matrixWorldInverse;for(let d=0,p=t.length;d<p;d++){const e=t[d];if(e.isDirectionalLight){const t=r.directional[n];t.direction.setFromMatrixPosition(e.matrixWorld),s.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(s),t.direction.transformDirection(u),n++}else if(e.isSpotLight){const t=r.spot[c];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),t.direction.setFromMatrixPosition(e.matrixWorld),s.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(s),t.direction.transformDirection(u),c++}else if(e.isRectAreaLight){const t=r.rectArea[l];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),a.identity(),o.copy(e.matrixWorld),o.premultiply(u),a.extractRotation(o),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(a),t.halfHeight.applyMatrix4(a),l++}else if(e.isPointLight){const t=r.point[i];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),i++}else if(e.isHemisphereLight){const t=r.hemi[h];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(u),t.direction.normalize(),h++}}},state:r}}function MP(t,e){const n=new xP(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function SP(t,e){let n=new WeakMap;return{get:function(i,r=0){let s;return!1===n.has(i)?(s=new MP(t,e),n.set(i,[]),n.get(i).push(s)):r>=n.get(i).length?(s=new MP(t,e),n.get(i).push(s)):s=n.get(i)[r],s},dispose:function(){n=new WeakMap}}}function TP(t){MS.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function CP(t){MS.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new $x,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function PP(t,e,n){let i=new ET;const r=new Ux,s=new Ux,o=new Kx,a=[],c=[],l={},h={0:1,1:0,2:2},u=new yT({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ux},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=u.clone();d.defines.HORIZONTAL_PASS=1;const p=new YS;p.setAttribute("position",new PS(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new dT(p,u),f=this;function g(n,i){const r=e.update(m);u.uniforms.shadow_pass.value=n.map.texture,u.uniforms.resolution.value=n.mapSize,u.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,u,m,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,d,m,null)}function v(t,e,n){const i=t<<0|e<<1|n<<2;let r=a[i];return void 0===r&&(r=new TP({depthPacking:3201,morphTargets:t,skinning:e}),a[i]=r),r}function y(t,e,n){const i=t<<0|e<<1|n<<2;let r=c[i];return void 0===r&&(r=new CP({morphTargets:t,skinning:e}),c[i]=r),r}function _(e,n,i,r,s,o,a){let c=null,u=v,d=e.customDepthMaterial;if(!0===r.isPointLight&&(u=y,d=e.customDistanceMaterial),void 0===d){let t=!1;!0===i.morphTargets&&(t=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let r=!1;!0===e.isSkinnedMesh&&(!0===i.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),c=u(t,r,!0===e.isInstancedMesh)}else c=d;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const t=c.uuid,e=i.uuid;let n=l[t];void 0===n&&(n={},l[t]=n);let r=n[e];void 0===r&&(r=c.clone(),n[e]=r),c=r}return c.visible=i.visible,c.wireframe=i.wireframe,c.side=3===a?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:h[i.side],c.clipShadows=i.clipShadows,c.clippingPlanes=i.clippingPlanes,c.clipIntersection=i.clipIntersection,c.wireframeLinewidth=i.wireframeLinewidth,c.linewidth=i.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=s,c.farDistance=o),c}function b(n,r,s,o,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);const i=e.update(n),r=n.material;if(Array.isArray(r)){const e=i.groups;for(let c=0,l=e.length;c<l;c++){const l=e[c],h=r[l.materialIndex];if(h&&h.visible){const e=_(n,i,h,o,s.near,s.far,a);t.renderBufferDirect(s,null,i,e,n,l)}}}else if(r.visible){const e=_(n,i,r,o,s.near,s.far,a);t.renderBufferDirect(s,null,i,e,n,null)}}const c=n.children;for(let t=0,e=c.length;t<e;t++)b(c[t],r,s,o,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,a,c){if(!1===f.enabled)return;if(!1===f.autoUpdate&&!1===f.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),h=t.getActiveCubeFace(),u=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let p=0,m=e.length;p<m;p++){const l=e[p],h=l.shadow;if(void 0===h){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;r.copy(h.mapSize);const u=h.getFrameExtents();if(r.multiply(u),s.copy(h.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(s.x=Math.floor(n/u.x),r.x=s.x*u.x,h.mapSize.x=s.x),r.y>n&&(s.y=Math.floor(n/u.y),r.y=s.y*u.y,h.mapSize.y=s.y)),null===h.map&&!h.isPointLightShadow&&3===this.type){const t={minFilter:gx,magFilter:gx,format:Sx};h.map=new Qx(r.x,r.y,t),h.map.texture.name=l.name+".shadowMap",h.mapPass=new Qx(r.x,r.y,t),h.camera.updateProjectionMatrix()}null===h.map&&(h.map=new Qx(r.x,r.y,{minFilter:px,magFilter:px,format:Sx}),h.map.texture.name=l.name+".shadowMap",h.camera.updateProjectionMatrix()),t.setRenderTarget(h.map),t.clear();const m=h.getViewportCount();for(let t=0;t<m;t++){const e=h.getViewport(t);o.set(s.x*e.x,s.y*e.y,s.x*e.z,s.y*e.w),d.viewport(o),h.updateMatrices(l,t),i=h.getFrustum(),b(a,c,h.camera,l,this.type)}h.isPointLightShadow||3!==this.type||g(h,c),h.needsUpdate=!1}f.needsUpdate=!1,t.setRenderTarget(l,h,u)}}function EP(t,e,n){const i=n.isWebGL2,r=new function(){let e=!1;const n=new Kx;let i=null;const r=new Kx(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,s,o,a){!0===a&&(e*=o,i*=o,s*=o),n.set(e,i,s,o),!1===r.equals(n)&&(t.clearColor(e,i,s,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},s=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(t){t?R(2929):D(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},o=new function(){let e=!1,n=null,i=null,r=null,s=null,o=null,a=null,c=null,l=null;return{setTest:function(t){e||(t?R(2960):D(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,o){i===e&&r===n&&s===o||(t.stencilFunc(e,n,o),i=e,r=n,s=o)},setOp:function(e,n,i){o===e&&a===n&&c===i||(t.stencilOp(e,n,i),o=e,a=n,c=i)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,i=null,r=null,s=null,o=null,a=null,c=null,l=null}}};let a={},c=null,l=null,h=null,u=null,d=null,p=null,m=null,f=null,g=null,v=!1,y=null,_=null,b=null,w=null,x=null;const M=t.getParameter(35661);let S=!1,T=0;const C=t.getParameter(7938);-1!==C.indexOf("WebGL")?(T=parseFloat(/^WebGL (\d)/.exec(C)[1]),S=T>=1):-1!==C.indexOf("OpenGL ES")&&(T=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),S=T>=2);let P=null,E={};const O=new Kx,A=new Kx;function I(e,n,i){const r=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return s}const L={};function R(e){!0!==a[e]&&(t.enable(e),a[e]=!0)}function D(e){!1!==a[e]&&(t.disable(e),a[e]=!1)}L[3553]=I(3553,3553,1),L[34067]=I(34067,34069,6),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),R(2929),s.setFunc(3),B(!1),F(1),R(2884),H(0);const k={[lx]:32774,101:32778,102:32779};if(i)k[103]=32775,k[104]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(k[103]=t.MIN_EXT,k[104]=t.MAX_EXT)}const N={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function H(e,n,i,r,s,o,a,c){if(0!==e){if(l||(R(3042),l=!0),5===e)s=s||n,o=o||i,a=a||r,n===u&&s===m||(t.blendEquationSeparate(k[n],k[s]),u=n,m=s),i===d&&r===p&&o===f&&a===g||(t.blendFuncSeparate(N[i],N[r],N[o],N[a]),d=i,p=r,f=o,g=a),h=e,v=null;else if(e!==h||c!==v){if(u===lx&&m===lx||(t.blendEquation(32774),u=lx,m=lx),c)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}d=null,p=null,f=null,g=null,h=e,v=c}}else l&&(D(3042),l=!1)}function B(e){y!==e&&(t.frontFace(e?2304:2305),y=e)}function F(e){0!==e?(R(2884),e!==_&&t.cullFace(1===e?1029:2===e?1028:1032)):D(2884),_=e}function G(e,n,i){e?(R(32823),w===n&&x===i||(t.polygonOffset(n,i),w=n,x=i)):D(32823)}function j(e){void 0===e&&(e=33984+M-1),P!==e&&(t.activeTexture(e),P=e)}return{buffers:{color:r,depth:s,stencil:o},enable:R,disable:D,useProgram:function(e){return c!==e&&(t.useProgram(e),c=e,!0)},setBlending:H,setMaterial:function(t,e){2===t.side?D(2884):R(2884);let n=1===t.side;e&&(n=!n),B(n),1===t.blending&&!1===t.transparent?H(0):H(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),r.setMask(t.colorWrite);const i=t.stencilWrite;o.setTest(i),i&&(o.setMask(t.stencilWriteMask),o.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),G(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:B,setCullFace:F,setLineWidth:function(e){e!==b&&(S&&t.lineWidth(e),b=e)},setPolygonOffset:G,setScissorTest:function(t){t?R(3089):D(3089)},activeTexture:j,bindTexture:function(e,n){null===P&&j();let i=E[P];void 0===i&&(i={type:void 0,texture:void 0},E[P]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||L[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=E[P];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===O.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),O.copy(e))},viewport:function(e){!1===A.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),A.copy(e))},reset:function(){a={},P=null,E={},c=null,l=null,h=null,u=null,d=null,p=null,m=null,f=null,g=null,v=!1,y=null,_=null,b=null,w=null,x=null,r.reset(),s.reset(),o.reset()}}}function OP(t,e,n,i,r,s,o){const a=r.isWebGL2,c=r.maxTextures,l=r.maxCubemapSize,h=r.maxTextureSize,u=r.maxSamples,d=new WeakMap;let p,m=!1;try{m="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(H){}function f(t,e){return m?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(t,e,n,i){let r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?zx.floorPowerOfTwo:Math.floor,s=i(r*t.width),o=i(r*t.height);void 0===p&&(p=f(s,o));const a=n?f(s,o):p;return a.width=s,a.height=o,a.getContext("2d").drawImage(t,0,0,s,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+s+"x"+o+")."),a}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function v(t){return zx.isPowerOfTwo(t.width)&&zx.isPowerOfTwo(t.height)}function y(t,e){return t.generateMipmaps&&e&&t.minFilter!==px&&t.minFilter!==gx}function _(e,n,r,s){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,s))*Math.LOG2E}function b(n,i,r){if(!1===a)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=i;return 6403===i&&(5126===r&&(s=33326),5131===r&&(s=33325),5121===r&&(s=33321)),6407===i&&(5126===r&&(s=34837),5131===r&&(s=34843),5121===r&&(s=32849)),6408===i&&(5126===r&&(s=34836),5131===r&&(s=34842),5121===r&&(s=32856)),33325!==s&&33326!==s&&34842!==s&&34836!==s||e.get("EXT_color_buffer_float"),s}function w(t){return t===px||t===mx||t===fx?9728:9729}function x(e){const n=e.target;n.removeEventListener("dispose",x),function(e){const n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&d.delete(n),o.memory.textures--}function M(e){const n=e.target;n.removeEventListener("dispose",M),function(e){const n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(e.texture),i.remove(e)}}(n),o.memory.textures--}let S=0;function T(t,e){const r=i.get(t);if(t.isVideoTexture&&function(t){const e=o.render.frame;d.get(t)!==e&&(d.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){const n=t.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void I(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function C(e,r){const o=i.get(e);e.version>0&&o.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;A(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);const o=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),c=i.image[0]&&i.image[0].isDataTexture,h=[];for(let t=0;t<6;t++)h[t]=o||c?c?i.image[t].image:i.image[t]:g(i.image[t],!1,!0,l);const u=h[0],d=v(u)||a,p=s.convert(i.format),m=s.convert(i.type),f=b(i.internalFormat,p,m);let w;if(O(34067,i,d),o){for(let t=0;t<6;t++){w=h[t].mipmaps;for(let e=0;e<w.length;e++){const r=w[e];i.format!==Sx&&i.format!==Mx?null!==p?n.compressedTexImage2D(34069+t,e,f,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+t,e,f,r.width,r.height,0,p,m,r.data)}}e.__maxMipLevel=w.length-1}else{w=i.mipmaps;for(let t=0;t<6;t++)if(c){n.texImage2D(34069+t,0,f,h[t].width,h[t].height,0,p,m,h[t].data);for(let e=0;e<w.length;e++){const i=w[e].image[t].image;n.texImage2D(34069+t,e+1,f,i.width,i.height,0,p,m,i.data)}}else{n.texImage2D(34069+t,0,f,p,m,h[t]);for(let e=0;e<w.length;e++)n.texImage2D(34069+t,e+1,f,p,m,w[e].image[t])}e.__maxMipLevel=w.length}y(i,d)&&_(34067,i,u.width,u.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(o,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture))}const P={[hx]:10497,[ux]:33071,[dx]:33648},E={[px]:9728,[mx]:9984,[fx]:9986,[gx]:9729,1007:9985,[vx]:9987};function O(n,s,o){o?(t.texParameteri(n,10242,P[s.wrapS]),t.texParameteri(n,10243,P[s.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,P[s.wrapR]),t.texParameteri(n,10240,E[s.magFilter]),t.texParameteri(n,10241,E[s.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),s.wrapS===ux&&s.wrapT===ux||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,w(s.magFilter)),t.texParameteri(n,10241,w(s.minFilter)),s.minFilter!==px&&s.minFilter!==gx&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const c=e.get("EXT_texture_filter_anisotropic");if(c){if(s.type===bx&&null===e.get("OES_texture_float_linear"))return;if(s.type===wx&&null===(a||e.get("OES_texture_half_float_linear")))return;(s.anisotropy>1||i.get(s).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,r.getMaxAnisotropy())),i.get(s).__currentAnisotropy=s.anisotropy)}}function A(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",x),e.__webglTexture=t.createTexture(),o.memory.textures++)}function I(e,i,r){let o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),A(e,i),n.activeTexture(33984+r),n.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);const c=function(t){return!a&&(t.wrapS!==ux||t.wrapT!==ux||t.minFilter!==px&&t.minFilter!==gx)}(i)&&!1===v(i.image),l=g(i.image,c,!1,h),u=v(l)||a,d=s.convert(i.format);let p,m=s.convert(i.type),f=b(i.internalFormat,d,m);O(o,i,u);const w=i.mipmaps;if(i.isDepthTexture)f=6402,a?f=i.type===bx?36012:i.type===_x?33190:i.type===xx?35056:33189:i.type===bx&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Tx&&6402===f&&i.type!==yx&&i.type!==_x&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=yx,m=s.convert(i.type)),i.format===Cx&&6402===f&&(f=34041,i.type!==xx&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=xx,m=s.convert(i.type))),n.texImage2D(3553,0,f,l.width,l.height,0,d,m,null);else if(i.isDataTexture)if(w.length>0&&u){for(let t=0,e=w.length;t<e;t++)p=w[t],n.texImage2D(3553,t,f,p.width,p.height,0,d,m,p.data);i.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,f,l.width,l.height,0,d,m,l.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(let t=0,e=w.length;t<e;t++)p=w[t],i.format!==Sx&&i.format!==Mx?null!==d?n.compressedTexImage2D(3553,t,f,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,t,f,p.width,p.height,0,d,m,p.data);e.__maxMipLevel=w.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,f,l.width,l.height,l.depth,0,d,m,l.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,f,l.width,l.height,l.depth,0,d,m,l.data),e.__maxMipLevel=0;else if(w.length>0&&u){for(let t=0,e=w.length;t<e;t++)p=w[t],n.texImage2D(3553,t,f,d,m,p);i.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,f,d,m,l),e.__maxMipLevel=0;y(i,u)&&_(o,i,l.width,l.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function L(e,r,o,a){const c=s.convert(r.texture.format),l=s.convert(r.texture.type),h=b(r.texture.internalFormat,c,l);n.texImage2D(a,0,h,r.width,r.height,0,c,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,a,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function R(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===bx?r=36012:e.type===_x&&(r=33190));const i=D(n);t.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const e=D(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=s.convert(n.texture.format),r=s.convert(n.texture.type),o=b(n.texture.internalFormat,e,r);if(i){const e=D(n);t.renderbufferStorageMultisample(36161,e,o,n.width,n.height)}else t.renderbufferStorage(36161,o,n.width,n.height)}t.bindRenderbuffer(36161,null)}function D(t){return a&&t.isWebGLMultisampleRenderTarget?Math.min(u,t.samples):0}let k=!1,N=!1;this.allocateTextureUnit=function(){const t=S;return t>=c&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+c),S+=1,t},this.resetTextureUnits=function(){S=0},this.setTexture2D=T,this.setTexture2DArray=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?I(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?I(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=C,this.setupRenderTarget=function(e){const r=i.get(e),c=i.get(e.texture);e.addEventListener("dispose",M),c.__webglTexture=t.createTexture(),o.memory.textures++;const l=!0===e.isWebGLCubeRenderTarget,h=!0===e.isWebGLMultisampleRenderTarget,u=v(e)||a;if(!a||e.texture.format!==Mx||e.texture.type!==bx&&e.texture.type!==wx||(e.texture.format=Sx,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){r.__webglFramebuffer=[];for(let e=0;e<6;e++)r.__webglFramebuffer[e]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),h)if(a){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);const n=s.convert(e.texture.format),i=s.convert(e.texture.type),o=b(e.texture.internalFormat,n,i),a=D(e);t.renderbufferStorageMultisample(36161,a,o,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),R(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,c.__webglTexture),O(34067,e.texture,u);for(let t=0;t<6;t++)L(r.__webglFramebuffer[t],e,36064,34069+t);y(e.texture,u)&&_(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,c.__webglTexture),O(3553,e.texture,u),L(r.__webglFramebuffer,e,36064,3553),y(e.texture,u)&&_(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&function(e){const n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),T(n.depthTexture,0);const r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Tx)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==Cx)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)t.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=t.createRenderbuffer(),R(n.__webglDepthbuffer[i],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),R(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){const e=t.texture;if(y(e,v(t)||a)){const r=t.isWebGLCubeRenderTarget?34067:3553,s=i.get(e).__webglTexture;n.bindTexture(r,s),_(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(a){const n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);const r=e.width,s=e.height;let o=16384;e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024),t.blitFramebuffer(0,0,r,s,0,0,r,s,o,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===k&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),k=!0),t=t.texture),T(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),N=!0),t=t.texture),C(t,e)}}function AP(t,e,n){const i=n.isWebGL2;return{convert:function(t){let n;if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===yx)return 5123;if(1013===t)return 5124;if(t===_x)return 5125;if(t===bx)return 5126;if(t===wx)return i?5131:(n=e.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(1021===t)return 6406;if(t===Mx)return 6407;if(t===Sx)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===Tx)return 6402;if(t===Cx)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(n=e.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(n=e.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return n=e.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&(n=e.get("WEBGL_compressed_texture_etc"),null!==n)){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?(n=e.get("WEBGL_compressed_texture_astc"),null!==n?t:null):36492===t?(n=e.get("EXT_texture_compression_bptc"),null!==n?t:null):t===xx?i?34042:(n=e.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function IP(t=[]){bT.call(this),this.cameras=t}function LP(){JM.call(this),this.type="Group"}function RP(){this._targetRay=null,this._grip=null,this._hand=null}function DP(t,e){const n=this;let i=null,r=1,s=null,o="local-floor",a=null;const c=[],l=new Map,h=new bT;h.layers.enable(1),h.viewport=new Kx;const u=new bT;u.layers.enable(2),u.viewport=new Kx;const d=[h,u],p=new IP;p.layers.enable(1),p.layers.enable(2);let m=null,f=null;function g(t){const e=l.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function v(){l.forEach(function(t,e){t.disconnect(e)}),l.clear(),m=null,f=null,t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),M.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(t){const e=i.inputSources;for(let n=0;n<c.length;n++)l.set(e[n],c[n]);for(let n=0;n<t.removed.length;n++){const e=t.removed[n],i=l.get(e);i&&(i.dispatchEvent({type:"disconnected",data:e}),l.delete(e))}for(let n=0;n<t.added.length;n++){const e=t.added[n],i=l.get(e);i&&i.dispatchEvent({type:"connected",data:e})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=c[t];return void 0===e&&(e=new RP,c[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=c[t];return void 0===e&&(e=new RP,c[t]=e),e.getGripSpace()},this.getHand=function(t){let e=c[t];return void 0===e&&(e=new RP,c[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){o=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getSession=function(){return i},this.setSession=async function(t){if(i=t,null!==i){i.addEventListener("select",g),i.addEventListener("selectstart",g),i.addEventListener("selectend",g),i.addEventListener("squeeze",g),i.addEventListener("squeezestart",g),i.addEventListener("squeezeend",g),i.addEventListener("end",v),i.addEventListener("inputsourceschange",y);const t=e.getContextAttributes();!0!==t.xrCompatible&&await e.makeXRCompatible();const a=new XRWebGLLayer(i,e,{antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:r});i.updateRenderState({baseLayer:a}),s=await i.requestReferenceSpace(o),M.setContext(i),M.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const _=new $x,b=new $x;function w(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){p.near=u.near=h.near=t.near,p.far=u.far=h.far=t.far,m===p.near&&f===p.far||(i.updateRenderState({depthNear:p.near,depthFar:p.far}),m=p.near,f=p.far);const e=t.parent,n=p.cameras;w(p,e);for(let i=0;i<n.length;i++)w(n[i],e);t.matrixWorld.copy(p.matrixWorld),t.matrix.copy(p.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale);const r=t.children;for(let i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){_.setFromMatrixPosition(e.matrixWorld),b.setFromMatrixPosition(n.matrixWorld);const i=_.distanceTo(b),r=e.projectionMatrix.elements,s=n.projectionMatrix.elements,o=r[14]/(r[10]-1),a=r[14]/(r[10]+1),c=(r[9]+1)/r[5],l=(r[9]-1)/r[5],h=(r[8]-1)/r[0],u=(s[8]+1)/s[0],d=o*h,p=o*u,m=i/(-h+u),f=m*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(f),t.translateZ(m),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=o+m,v=a+m;t.projectionMatrix.makePerspective(d-f,p+(i-f),c*a/v*g,l*a/v*g,g,v)}(p,h,u):p.projectionMatrix.copy(h.projectionMatrix),p};let x=null;const M=new OT;M.setAnimationLoop(function(e,n){if(a=n.getViewerPose(s),null!==a){const e=a.views,n=i.renderState.baseLayer;t.setFramebuffer(n.framebuffer);let r=!1;e.length!==p.cameras.length&&(p.cameras.length=0,r=!0);for(let t=0;t<e.length;t++){const i=e[t],s=n.getViewport(i),o=d[t];o.matrix.fromArray(i.transform.matrix),o.projectionMatrix.fromArray(i.projectionMatrix),o.viewport.set(s.x,s.y,s.width,s.height),0===t&&p.matrix.copy(o.matrix),!0===r&&p.cameras.push(o)}}const r=i.inputSources;for(let t=0;t<c.length;t++)c[t].update(r[t],n,s);x&&x(e,n)}),this.setAnimationLoop=function(t){x=t},this.dispose=function(){}}function kP(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const i=t.get(n).envMap;if(i){e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const r=t.get(i).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,s;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?s=n.aoMap:n.lightMap&&(s=n.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),e.uv2Transform.value.copy(s.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,s){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){let r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,s):i.isSpriteMaterial?function(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function NP(t){const e=void 0!==(t=t||{}).canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,s=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,a=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let u=null,d=null;const p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Rx,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const m=this;let f=!1,g=null,v=0,y=0,_=null,b=null,w=-1,x=null;const M=new Kx,S=new Kx;let T=null,C=e.width,P=e.height,E=1,O=null,A=null;const I=new Kx(0,0,C,P),L=new Kx(0,0,C,P);let R=!1;const D=new ET;let k=!1,N=!1;const H=new PM,B=new $x,F={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function G(){return null===_?E:1}let j,z,U,V,W,X,q,Y,Z,K,Q,J,$,tt,et,nt,it,rt,st,ot,at,ct=n;function lt(t,n){for(let i=0;i<t.length;i++){const r=e.getContext(t[i],n);if(null!==r)return r}return null}try{const t={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:h};if(e.addEventListener("webglcontextlost",pt,!1),e.addEventListener("webglcontextrestored",mt,!1),null===ct){const e=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&e.shift(),ct=lt(e,t),null===ct)throw lt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ct.getShaderPrecisionFormat&&(ct.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(St){throw console.error("THREE.WebGLRenderer: "+St.message),St}function ht(){j=new jT(ct),z=new BT(ct,j,t),j.init(z),ot=new AP(ct,j,z),U=new EP(ct,j,z),U.scissor(S.copy(L).multiplyScalar(E).floor()),U.viewport(M.copy(I).multiplyScalar(E).floor()),V=new VT(ct),W=new mP,X=new OP(ct,j,U,W,z,ot,V),q=new GT(m),Y=new AT(ct,z),at=new NT(ct,j,Y,z),Z=new zT(ct,Y,V,at),K=new ZT(ct,Z,Y,V),it=new qT(ct),et=new FT(W),Q=new pP(m,q,j,z,at,et),J=new kP(W),$=new yP(W),tt=new SP(j,z),nt=new kT(m,q,U,K,a),rt=new HT(ct,j,V,z),st=new UT(ct,j,V,z),V.programs=Q.programs,m.capabilities=z,m.extensions=j,m.properties=W,m.renderLists=$,m.state=U,m.info=V}ht();const ut=new DP(m,ct);this.xr=ut;const dt=new PP(m,K,z.maxTextureSize);function pt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),f=!0}function mt(){console.log("THREE.WebGLRenderer: Context Restored."),f=!1,ht()}function ft(t){const e=t.target;e.removeEventListener("dispose",ft),function(t){gt(t),W.remove(t)}(e)}function gt(t){const e=W.get(t).program;void 0!==e&&Q.releaseProgram(e)}this.shadowMap=dt,this.getContext=function(){return ct},this.getContextAttributes=function(){return ct.getContextAttributes()},this.forceContextLoss=function(){const t=j.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=j.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return E},this.setPixelRatio=function(t){void 0!==t&&(E=t,this.setSize(C,P,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new Ux),t.set(C,P)},this.setSize=function(t,n,i){ut.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(C=t,P=n,e.width=Math.floor(t*E),e.height=Math.floor(n*E),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new Ux),t.set(C*E,P*E).floor()},this.setDrawingBufferSize=function(t,n,i){C=t,P=n,E=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new Kx),t.copy(M)},this.getViewport=function(t){return t.copy(I)},this.setViewport=function(t,e,n,i){t.isVector4?I.set(t.x,t.y,t.z,t.w):I.set(t,e,n,i),U.viewport(M.copy(I).multiplyScalar(E).floor())},this.getScissor=function(t){return t.copy(L)},this.setScissor=function(t,e,n,i){t.isVector4?L.set(t.x,t.y,t.z,t.w):L.set(t,e,n,i),U.scissor(S.copy(L).multiplyScalar(E).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(t){U.setScissorTest(R=t)},this.setOpaqueSort=function(t){O=t},this.setTransparentSort=function(t){A=t},this.getClearColor=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),t=new bS),t.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(t,e,n){let i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),ct.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",pt,!1),e.removeEventListener("webglcontextrestored",mt,!1),$.dispose(),tt.dispose(),W.dispose(),q.dispose(),K.dispose(),at.dispose(),ut.dispose(),yt.stop()},this.renderBufferImmediate=function(t,e){at.initAttributes();const n=W.get(t);t.hasPositions&&!n.position&&(n.position=ct.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=ct.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=ct.createBuffer()),t.hasColors&&!n.color&&(n.color=ct.createBuffer());const i=e.getAttributes();t.hasPositions&&(ct.bindBuffer(34962,n.position),ct.bufferData(34962,t.positionArray,35048),at.enableAttribute(i.position),ct.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(ct.bindBuffer(34962,n.normal),ct.bufferData(34962,t.normalArray,35048),at.enableAttribute(i.normal),ct.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(ct.bindBuffer(34962,n.uv),ct.bufferData(34962,t.uvArray,35048),at.enableAttribute(i.uv),ct.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(ct.bindBuffer(34962,n.color),ct.bufferData(34962,t.colorArray,35048),at.enableAttribute(i.color),ct.vertexAttribPointer(i.color,3,5126,!1,0,0)),at.disableUnusedAttributes(),ct.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,s){null===e&&(e=F);const o=r.isMesh&&r.matrixWorld.determinant()<0,a=Mt(t,e,i,r);U.setMaterial(i,o);let c=n.index;const l=n.attributes.position;if(null===c){if(void 0===l||0===l.count)return}else if(0===c.count)return;let h,u=1;!0===i.wireframe&&(c=Z.getWireframeAttribute(n),u=2),(i.morphTargets||i.morphNormals)&&it.update(r,n,i,a),at.setup(r,i,a,n,c);let d=rt;null!==c&&(h=Y.get(c),d=st,d.setIndex(h));const p=null!==c?c.count:l.count,m=n.drawRange.start*u,f=n.drawRange.count*u,g=null!==s?s.start*u:0,v=null!==s?s.count*u:1/0,y=Math.max(m,g),_=Math.min(p,m+f,g+v)-1,b=Math.max(0,_-y+1);if(0!==b){if(r.isMesh)!0===i.wireframe?(U.setLineWidth(i.wireframeLinewidth*G()),d.setMode(1)):d.setMode(4);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),U.setLineWidth(t*G()),d.setMode(r.isLineSegments?1:r.isLineLoop?2:3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(y,b,r.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,b,t)}else d.render(y,b)}},this.compile=function(t,e){d=tt.get(t),d.init(),t.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))}),d.setupLights();const n=new WeakMap;t.traverse(function(e){const i=e.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];!1===n.has(s)&&(xt(s,t,e),n.set(s))}else!1===n.has(i)&&(xt(i,t,e),n.set(i))})};let vt=null;const yt=new OT;function _t(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||D.intersectsSprite(t)){i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H);const e=K.update(t),r=t.material;r.visible&&u.push(t,e,r,n,B.z,null)}}else if(t.isImmediateRenderObject)i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H),u.push(t,null,t.material,n,B.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==V.render.frame&&(t.skeleton.update(),t.skeleton.frame=V.render.frame),!t.frustumCulled||D.intersectsObject(t))){i&&B.setFromMatrixPosition(t.matrixWorld).applyMatrix4(H);const e=K.update(t),r=t.material;if(Array.isArray(r)){const i=e.groups;for(let s=0,o=i.length;s<o;s++){const o=i[s],a=r[o.materialIndex];a&&a.visible&&u.push(t,e,a,n,B.z,o)}}else r.visible&&u.push(t,e,r,n,B.z,null)}const r=t.children;for(let s=0,o=r.length;s<o;s++)_t(r[s],e,n,i)}function bt(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,s=t.length;r<s;r++){const s=t[r],o=s.object,a=s.geometry,c=null===i?s.material:i,l=s.group;if(n.isArrayCamera){const t=n.cameras;for(let n=0,i=t.length;n<i;n++){const i=t[n];o.layers.test(i.layers)&&(U.viewport(M.copy(i.viewport)),d.setupLightsView(i),wt(o,e,i,a,c,l))}}else wt(o,e,n,a,c,l)}}function wt(t,e,n,i,r,s){if(t.onBeforeRender(m,e,n,i,r,s),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const i=Mt(n,e,r,t);U.setMaterial(r),at.reset(),function(t,e){t.render(function(t){m.renderBufferImmediate(t,e)})}(t,i)}else m.renderBufferDirect(n,e,i,r,t,s);t.onAfterRender(m,e,n,i,r,s)}function xt(t,e,n){!0!==e.isScene&&(e=F);const i=W.get(t),r=d.state.lights,s=r.state.version,o=Q.getParameters(t,r.state,d.state.shadowsArray,e,n),a=Q.getProgramCacheKey(o);let c=i.program,l=!0;if(i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=q.get(t.envMap||i.environment),void 0===c)t.addEventListener("dispose",ft);else if(c.cacheKey!==a)gt(t);else if(i.lightsStateVersion!==s)l=!1;else{if(void 0!==o.shaderID)return;l=!1}l&&(o.uniforms=Q.getUniforms(t),t.onBeforeCompile(o,m),c=Q.acquireProgram(o,a),i.program=c,i.uniforms=o.uniforms,i.outputEncoding=o.outputEncoding);const h=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=et.numPlanes,i.numIntersection=et.numIntersection,h.clippingPlanes=et.uniform),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=s,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotShadowMatrix.value=r.state.spotShadowMatrix,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const u=i.program.getUniforms(),p=XC.seqWithValue(u.seq,h);i.uniformsList=p}function Mt(t,e,n,i){!0!==e.isScene&&(e=F),X.resetTextureUnits();const r=e.fog,s=n.isMeshStandardMaterial?e.environment:null,o=null===_?m.outputEncoding:_.texture.encoding,a=q.get(n.envMap||s),c=W.get(n),l=d.state.lights;!0!==k||!0!==N&&t===x||et.setState(n,t,t===x&&n.id===w),n.version===c.__version?n.fog&&c.fog!==r||c.environment!==s||c.needsLights&&c.lightsStateVersion!==l.state.version?xt(n,e,i):void 0===c.numClippingPlanes||c.numClippingPlanes===et.numPlanes&&c.numIntersection===et.numIntersection?(c.outputEncoding!==o||c.envMap!==a)&&xt(n,e,i):xt(n,e,i):(xt(n,e,i),c.__version=n.version);let h=!1,u=!1,p=!1;const f=c.program,g=f.getUniforms(),v=c.uniforms;if(U.useProgram(f.program)&&(h=!0,u=!0,p=!0),n.id!==w&&(w=n.id,u=!0),h||x!==t){if(g.setValue(ct,"projectionMatrix",t.projectionMatrix),z.logarithmicDepthBuffer&&g.setValue(ct,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),x!==t&&(x=t,u=!0,p=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=g.map.cameraPosition;void 0!==e&&e.setValue(ct,B.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&g.setValue(ct,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&g.setValue(ct,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){g.setOptional(ct,i,"bindMatrix"),g.setOptional(ct,i,"bindMatrixInverse");const t=i.skeleton;if(t){const e=t.bones;if(z.floatVertexTextures){if(null===t.boneTexture){let n=Math.sqrt(4*e.length);n=zx.ceilPowerOfTwo(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(t.boneMatrices);const r=new TT(i,n,n,Sx,bx);t.boneMatrices=i,t.boneTexture=r,t.boneTextureSize=n}g.setValue(ct,"boneTexture",t.boneTexture,X),g.setValue(ct,"boneTextureSize",t.boneTextureSize)}else g.setOptional(ct,t,"boneMatrices")}}var y,b;return(u||c.receiveShadow!==i.receiveShadow)&&(c.receiveShadow=i.receiveShadow,g.setValue(ct,"receiveShadow",i.receiveShadow)),u&&(g.setValue(ct,"toneMappingExposure",m.toneMappingExposure),c.needsLights&&((y=v).ambientLightColor.needsUpdate=b=p,y.lightProbe.needsUpdate=b,y.directionalLights.needsUpdate=b,y.directionalLightShadows.needsUpdate=b,y.pointLights.needsUpdate=b,y.pointLightShadows.needsUpdate=b,y.spotLights.needsUpdate=b,y.spotLightShadows.needsUpdate=b,y.rectAreaLights.needsUpdate=b,y.hemisphereLights.needsUpdate=b),r&&n.fog&&J.refreshFogUniforms(v,r),J.refreshMaterialUniforms(v,n,E,P),XC.upload(ct,c.uniformsList,v,X)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(XC.upload(ct,c.uniformsList,v,X),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(ct,"center",i.center),g.setValue(ct,"modelViewMatrix",i.modelViewMatrix),g.setValue(ct,"normalMatrix",i.normalMatrix),g.setValue(ct,"modelMatrix",i.matrixWorld),f}yt.setAnimationLoop(function(t){ut.isPresenting||vt&&vt(t)}),"undefined"!=typeof window&&yt.setContext(window),this.setAnimationLoop=function(t){vt=t,ut.setAnimationLoop(t),null===t?yt.stop():yt.start()},this.render=function(t,e){let n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===f)return;at.resetDefaultState(),w=-1,x=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===ut.enabled&&!0===ut.isPresenting&&(e=ut.getCamera(e)),!0===t.isScene&&t.onBeforeRender(m,t,e,n||_),d=tt.get(t,p.length),d.init(),p.push(d),H.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),D.setFromProjectionMatrix(H),N=this.localClippingEnabled,k=et.init(this.clippingPlanes,N,e),u=$.get(t,e),u.init(),_t(t,e,0,m.sortObjects),u.finish(),!0===m.sortObjects&&u.sort(O,A),!0===k&&et.beginShadows();const r=d.state.shadowsArray;dt.render(r,t,e),d.setupLights(),d.setupLightsView(e),!0===k&&et.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),nt.render(u,t,e,i);const s=u.opaque,o=u.transparent;s.length>0&&bt(s,t,e),o.length>0&&bt(o,t,e),!0===t.isScene&&t.onAfterRender(m,t,e),null!==_&&(X.updateRenderTargetMipmap(_),X.updateMultisampleRenderTarget(_)),U.buffers.depth.setTest(!0),U.buffers.depth.setMask(!0),U.buffers.color.setMask(!0),U.setPolygonOffset(!1),p.pop(),d=p.length>0?p[p.length-1]:null,u=null},this.setFramebuffer=function(t){g!==t&&null===_&&ct.bindFramebuffer(36160,t),g=t},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderList=function(){return u},this.setRenderList=function(t){u=t},this.getRenderTarget=function(){return _},this.setRenderTarget=function(t,e=0,n=0){_=t,v=e,y=n,t&&void 0===W.get(t).__webglFramebuffer&&X.setupRenderTarget(t);let i=g,r=!1;if(t){const n=W.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=n[e],r=!0):i=t.isWebGLMultisampleRenderTarget?W.get(t).__webglMultisampledFramebuffer:n,M.copy(t.viewport),S.copy(t.scissor),T=t.scissorTest}else M.copy(I).multiplyScalar(E).floor(),S.copy(L).multiplyScalar(E).floor(),T=R;if(b!==i&&(ct.bindFramebuffer(36160,i),b=i),U.viewport(M),U.scissor(S),U.setScissorTest(T),r){const i=W.get(t.texture);ct.framebufferTexture2D(36160,36064,34069+e,i.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,i,r,s,o){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=W.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(a=a[o]),a){let o=!1;a!==b&&(ct.bindFramebuffer(36160,a),o=!0);try{const a=t.texture,c=a.format,l=a.type;if(c!==Sx&&ot.convert(c)!==ct.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const h=l===wx&&(j.has("EXT_color_buffer_half_float")||z.isWebGL2&&j.has("EXT_color_buffer_float"));if(!(1009===l||ot.convert(l)===ct.getParameter(35738)||l===bx&&(z.isWebGL2||j.has("OES_texture_float")||j.has("WEBGL_color_buffer_float"))||h))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ct.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&ct.readPixels(e,n,i,r,ot.convert(c),ot.convert(l),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{o&&ct.bindFramebuffer(36160,b)}}},this.copyFramebufferToTexture=function(t,e,n=0){const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),s=Math.floor(e.image.height*i),o=ot.convert(e.format);X.setTexture2D(e,0),ct.copyTexImage2D(3553,n,o,t.x,t.y,r,s,0),U.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i=0){const r=e.image.width,s=e.image.height,o=ot.convert(n.format),a=ot.convert(n.type);X.setTexture2D(n,0),ct.pixelStorei(37440,n.flipY),ct.pixelStorei(37441,n.premultiplyAlpha),ct.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?ct.texSubImage2D(3553,i,t.x,t.y,r,s,o,a,e.image.data):e.isCompressedTexture?ct.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):ct.texSubImage2D(3553,i,t.x,t.y,o,a,e.image),0===i&&n.generateMipmaps&&ct.generateMipmap(3553),U.unbindTexture()},this.initTexture=function(t){X.setTexture2D(t,0),U.unbindTexture()},this.resetState=function(){U.reset(),at.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function HP(t){NP.call(this,t)}(TP.prototype=Object.create(MS.prototype)).constructor=TP,TP.prototype.isMeshDepthMaterial=!0,TP.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},(CP.prototype=Object.create(MS.prototype)).constructor=CP,CP.prototype.isMeshDistanceMaterial=!0,CP.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},IP.prototype=Object.assign(Object.create(bT.prototype),{constructor:IP,isArrayCamera:!0}),LP.prototype=Object.assign(Object.create(JM.prototype),{constructor:LP,isGroup:!0}),Object.assign(RP.prototype,{constructor:RP,getHandSpace:function(){return null===this._hand&&(this._hand=new LP,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new LP,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new LP,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){let i=null,r=null,s=null;const o=this._targetRay,a=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(c&&t.hand){s=!0;for(const s of t.hand.values()){const t=e.getJointPose(s,n);if(void 0===c.joints[s.jointName]){const t=new LP;t.matrixAutoUpdate=!1,t.visible=!1,c.joints[s.jointName]=t,c.add(t)}const i=c.joints[s.jointName];null!==t&&(i.matrix.fromArray(t.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=t.radius),i.visible=null!==t}const i=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),r=.02,o=.005;c.inputState.pinching&&i>r+o?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&i<=r-o&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==o&&(i=e.getPose(t.targetRaySpace,n),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==o&&(o.visible=null!==i),null!==a&&(a.visible=null!==r),null!==c&&(c.visible=null!==s),this}}),Object.assign(DP.prototype,Fx.prototype),HP.prototype=Object.assign(Object.create(NP.prototype),{constructor:HP,isWebGL1Renderer:!0});class BP extends JM{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}function FP(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Nx,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=zx.generateUUID()}Object.defineProperty(FP.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(FP.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=zx.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new FP(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=zx.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const GP=new $x;function jP(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function zP(t){MS.call(this),this.type="SpriteMaterial",this.color=new bS(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let UP;Object.defineProperties(jP.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(jP.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)GP.x=this.getX(e),GP.y=this.getY(e),GP.z=this.getZ(e),GP.applyMatrix4(t),this.setXYZ(e,GP.x,GP.y,GP.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new PS(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new jP(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),(zP.prototype=Object.create(MS.prototype)).constructor=zP,zP.prototype.isSpriteMaterial=!0,zP.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const VP=new $x,WP=new $x,XP=new $x,qP=new Ux,YP=new Ux,ZP=new PM,KP=new $x,QP=new $x,JP=new $x,$P=new Ux,tE=new Ux,eE=new Ux;function nE(t){if(JM.call(this),this.type="Sprite",void 0===UP){UP=new YS;const t=new FP(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);UP.setIndex([0,1,2,0,2,3]),UP.setAttribute("position",new jP(t,3,0,!1)),UP.setAttribute("uv",new jP(t,2,3,!1))}this.geometry=UP,this.material=void 0!==t?t:new zP,this.center=new Ux(.5,.5)}function iE(t,e,n,i,r,s){qP.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(YP.x=s*qP.x-r*qP.y,YP.y=r*qP.x+s*qP.y):YP.copy(qP),t.copy(e),t.x+=YP.x,t.y+=YP.y,t.applyMatrix4(ZP)}nE.prototype=Object.assign(Object.create(JM.prototype),{constructor:nE,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),WP.setFromMatrixScale(this.matrixWorld),ZP.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),XP.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&WP.multiplyScalar(-XP.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;iE(KP.set(-.5,-.5,0),XP,s,WP,i,r),iE(QP.set(.5,-.5,0),XP,s,WP,i,r),iE(JP.set(.5,.5,0),XP,s,WP,i,r),$P.set(0,0),tE.set(1,0),eE.set(1,1);let o=t.ray.intersectTriangle(KP,QP,JP,!1,VP);if(null===o&&(iE(QP.set(-.5,.5,0),XP,s,WP,i,r),tE.set(0,1),o=t.ray.intersectTriangle(KP,JP,QP,!1,VP),null===o))return;const a=t.ray.origin.distanceTo(VP);a<t.near||a>t.far||e.push({distance:a,point:VP.clone(),uv:pS.getUV(VP,KP,QP,JP,$P,tE,eE,new Ux),face:null,object:this})},copy:function(t){return JM.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});const rE=new $x,sE=new $x;function oE(){JM.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}oE.prototype=Object.assign(Object.create(JM.prototype),{constructor:oE,isLOD:!0,copy:function(t){JM.prototype.copy.call(this,t,!1);const e=t.levels;for(let n=0,i=e.length;n<i;n++){const t=e[n];this.addLevel(t.object.clone(),t.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){rE.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(rE);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){rE.setFromMatrixPosition(t.matrixWorld),sE.setFromMatrixPosition(this.matrixWorld);const n=rE.distanceTo(sE)/t.zoom;let i,r;for(e[0].object.visible=!0,i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)e[i].object.visible=!1}},toJSON:function(t){const e=JM.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const t=n[i];e.object.levels.push({object:t.object.uuid,distance:t.distance})}return e}});const aE=new $x,cE=new Kx,lE=new Kx,hE=new $x,uE=new PM;function dE(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),dT.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new PM,this.bindMatrixInverse=new PM}function pE(){JM.call(this),this.type="Bone"}dE.prototype=Object.assign(Object.create(dT.prototype),{constructor:dE,isSkinnedMesh:!0,copy:function(t){return dT.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new Kx,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){dT.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(t,e){const n=this.skeleton,i=this.geometry;cE.fromBufferAttribute(i.attributes.skinIndex,t),lE.fromBufferAttribute(i.attributes.skinWeight,t),aE.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const t=lE.getComponent(r);if(0!==t){const i=cE.getComponent(r);uE.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),e.addScaledVector(hE.copy(aE).applyMatrix4(uE),t)}}return e.applyMatrix4(this.bindMatrixInverse)}}),pE.prototype=Object.assign(Object.create(JM.prototype),{constructor:pE,isBone:!0});const mE=new PM,fE=new PM;function gE(t=[],e=[]){this.uuid=zx.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(gE.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new PM)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new PM;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,s=t.length;r<s;r++)mE.multiplyMatrices(t[r]?t[r].matrixWorld:fE,e[r]),mE.toArray(n,16*r);null!==i&&(i.needsUpdate=!0)},clone:function(){return new gE(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const i=t.bones[n];let r=e[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new pE),this.bones.push(r),this.boneInverses.push((new PM).fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++)t.bones.push(e[i].uuid),t.boneInverses.push(n[i].toArray());return t}});const vE=new PM,yE=new PM,_E=[],bE=new dT;function wE(t,e,n){dT.call(this,t,e),this.instanceMatrix=new PS(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function xE(t){MS.call(this),this.type="LineBasicMaterial",this.color=new bS(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}wE.prototype=Object.assign(Object.create(dT.prototype),{constructor:wE,isInstancedMesh:!0,copy:function(t){return dT.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const n=this.matrixWorld,i=this.count;if(bE.geometry=this.geometry,bE.material=this.material,void 0!==bE.material)for(let r=0;r<i;r++){this.getMatrixAt(r,vE),yE.multiplyMatrices(n,vE),bE.matrixWorld=yE,bE.raycast(t,_E);for(let t=0,n=_E.length;t<n;t++){const n=_E[t];n.instanceId=r,n.object=this,e.push(n)}_E.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new PS(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(xE.prototype=Object.create(MS.prototype)).constructor=xE,xE.prototype.isLineBasicMaterial=!0,xE.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const ME=new $x,SE=new $x,TE=new PM,CE=new CM,PE=new yM;function EE(t=new YS,e=new xE){JM.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}EE.prototype=Object.assign(Object.create(JM.prototype),{constructor:EE,isLine:!0,copy:function(t){return JM.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)ME.fromBufferAttribute(e,t-1),SE.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=ME.distanceTo(SE);t.setAttribute("lineDistance",new NS(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),PE.copy(n.boundingSphere),PE.applyMatrix4(i),PE.radius+=r,!1===t.ray.intersectsSphere(PE))return;TE.copy(i).invert(),CE.copy(t.ray).applyMatrix4(TE);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,a=new $x,c=new $x,l=new $x,h=new $x,u=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,s=n.length-1;i<s;i+=u){const s=n[i+1];if(a.fromBufferAttribute(r,n[i]),c.fromBufferAttribute(r,s),CE.distanceSqToSegment(a,c,h,l)>o)continue;h.applyMatrix4(this.matrixWorld);const u=t.ray.origin.distanceTo(h);u<t.near||u>t.far||e.push({distance:u,point:l.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(let n=0,s=r.count-1;n<s;n+=u){if(a.fromBufferAttribute(r,n),c.fromBufferAttribute(r,n+1),CE.distanceSqToSegment(a,c,h,l)>o)continue;h.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(h);i<t.near||i>t.far||e.push({distance:i,point:l.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const OE=new $x,AE=new $x;function IE(t,e){EE.call(this,t,e),this.type="LineSegments"}function LE(t,e){EE.call(this,t,e),this.type="LineLoop"}function RE(t){MS.call(this),this.type="PointsMaterial",this.color=new bS(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}IE.prototype=Object.assign(Object.create(EE.prototype),{constructor:IE,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)OE.fromBufferAttribute(e,t),AE.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+OE.distanceTo(AE);t.setAttribute("lineDistance",new NS(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}),LE.prototype=Object.assign(Object.create(EE.prototype),{constructor:LE,isLineLoop:!0}),(RE.prototype=Object.create(MS.prototype)).constructor=RE,RE.prototype.isPointsMaterial=!0,RE.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const DE=new PM,kE=new CM,NE=new yM,HE=new $x;function BE(t=new YS,e=new RE){JM.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}function FE(t,e,n,i,r,s,o){const a=kE.distanceSqToPoint(t);if(a<n){const n=new $x;kE.closestPointToPoint(t,n),n.applyMatrix4(i);const c=r.ray.origin.distanceTo(n);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:n,index:e,face:null,object:o})}}function GE(t,e,n,i,r,s,o,a,c){Yx.call(this,t,e,n,i,r,s,o,a,c),this.format=void 0!==o?o:Mx,this.minFilter=void 0!==s?s:gx,this.magFilter=void 0!==r?r:gx,this.generateMipmaps=!1;const l=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function e(){l.needsUpdate=!0,t.requestVideoFrameCallback(e)})}function jE(t,e,n,i,r,s,o,a,c,l,h,u){Yx.call(this,null,s,o,a,c,l,i,r,h,u),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function zE(t,e,n,i,r,s,o,a,c){Yx.call(this,t,e,n,i,r,s,o,a,c),this.needsUpdate=!0}function UE(t,e,n,i,r,s,o,a,c,l){if((l=void 0!==l?l:Tx)!==Tx&&l!==Cx)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Tx&&(n=yx),void 0===n&&l===Cx&&(n=xx),Yx.call(this,null,i,r,s,o,a,l,n,c),this.image={width:t,height:e},this.magFilter=void 0!==o?o:px,this.minFilter=void 0!==a?a:px,this.flipY=!1,this.generateMipmaps=!1}function VE(t,e,n,i,r){let s,o;if(r===function(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}(t,e,n,i)>0)for(s=e;s<n;s+=i)o=uO(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=uO(s,t[s],t[s+1],o);return o&&sO(o,o.next)&&(dO(o),o=o.next),o}function WE(t,e){if(!t)return t;e||(e=t);let n,i=t;do{if(n=!1,i.steiner||!sO(i,i.next)&&0!==rO(i.prev,i,i.next))i=i.next;else{if(dO(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function XE(t,e,n,i,r,s,o){if(!t)return;!o&&s&&function(t,e,n,i){let r=t;do{null===r.z&&(r.z=tO(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,n,i,r,s,o,a,c,l=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<l&&(a++,i=i.nextZ,i);e++);for(c=l;a>0||c>0&&i;)0!==a&&(0===c||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,c--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,l*=2}while(o>1)}(r)}(t,i,r,s);let a,c,l=t;for(;t.prev!==t.next;)if(a=t.prev,c=t.next,s?YE(t,i,r,s):qE(t))e.push(a.i/n),e.push(t.i/n),e.push(c.i/n),dO(t),t=c.next,l=c.next;else if((t=c)===l){o?1===o?XE(t=ZE(WE(t),e,n),e,n,i,r,s,2):2===o&&KE(t,e,n,i,r,s):XE(WE(t),e,n,i,r,s,1);break}}function qE(t){const e=t.prev,n=t,i=t.next;if(rO(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(nO(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&rO(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function YE(t,e,n,i){const r=t.prev,s=t,o=t.next;if(rO(r,s,o)>=0)return!1;const a=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,c=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,l=tO(r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,e,n,i),h=tO(a,c,e,n,i);let u=t.prevZ,d=t.nextZ;for(;u&&u.z>=l&&d&&d.z<=h;){if(u!==t.prev&&u!==t.next&&nO(r.x,r.y,s.x,s.y,o.x,o.y,u.x,u.y)&&rO(u.prev,u,u.next)>=0)return!1;if(u=u.prevZ,d!==t.prev&&d!==t.next&&nO(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&rO(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;u&&u.z>=l;){if(u!==t.prev&&u!==t.next&&nO(r.x,r.y,s.x,s.y,o.x,o.y,u.x,u.y)&&rO(u.prev,u,u.next)>=0)return!1;u=u.prevZ}for(;d&&d.z<=h;){if(d!==t.prev&&d!==t.next&&nO(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&rO(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function ZE(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!sO(r,s)&&oO(r,i,i.next,s)&&lO(r,s)&&lO(s,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(s.i/n),dO(i),dO(i.next),i=t=s),i=i.next}while(i!==t);return WE(i)}function KE(t,e,n,i,r,s){let o=t;do{let t=o.next.next;for(;t!==o.prev;){if(o.i!==t.i&&iO(o,t)){let a=hO(o,t);return o=WE(o,o.next),a=WE(a,a.next),XE(o,e,n,i,r,s),void XE(a,e,n,i,r,s)}t=t.next}o=o.next}while(o!==t)}function QE(t,e){return t.x-e.x}function JE(t,e){if(e=function(t,e){let n=e;const i=t.x,r=t.y;let s,o=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const t=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=i&&t>o){if(o=t,t===i){if(r===n.y)return n;if(r===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!s)return null;if(i===o)return s;const a=s,c=s.x,l=s.y;let h,u=1/0;n=s;do{i>=n.x&&n.x>=c&&i!==n.x&&nO(r<l?i:o,r,c,l,r<l?o:i,r,n.x,n.y)&&(h=Math.abs(r-n.y)/(i-n.x),lO(n,t)&&(h<u||h===u&&(n.x>s.x||n.x===s.x&&$E(s,n)))&&(s=n,u=h)),n=n.next}while(n!==a);return s}(t,e)){const n=hO(e,t);WE(e,e.next),WE(n,n.next)}}function $E(t,e){return rO(t.prev,t,e.prev)<0&&rO(e.next,t,t.next)<0}function tO(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function eO(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function nO(t,e,n,i,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(i-a)-(n-o)*(e-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function iO(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&oO(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(lO(t,e)&&lO(e,t)&&function(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(rO(t.prev,t,e.prev)||rO(t,e.prev,e))||sO(t,e)&&rO(t.prev,t,t.next)>0&&rO(e.prev,e,e.next)>0)}function rO(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function sO(t,e){return t.x===e.x&&t.y===e.y}function oO(t,e,n,i){const r=cO(rO(t,e,n)),s=cO(rO(t,e,i)),o=cO(rO(n,i,t)),a=cO(rO(n,i,e));return r!==s&&o!==a||!(0!==r||!aO(t,n,e))||!(0!==s||!aO(t,i,e))||!(0!==o||!aO(n,t,i))||!(0!==a||!aO(n,e,i))}function aO(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function cO(t){return t>0?1:t<0?-1:0}function lO(t,e){return rO(t.prev,t,t.next)<0?rO(t,e,t.next)>=0&&rO(t,t.prev,e)>=0:rO(t,e,t.prev)<0||rO(t,t.next,e)<0}function hO(t,e){const n=new pO(t.i,t.x,t.y),i=new pO(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function uO(t,e,n,i){const r=new pO(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function dO(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function pO(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}BE.prototype=Object.assign(Object.create(JM.prototype),{constructor:BE,isPoints:!0,copy:function(t){return JM.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),NE.copy(n.boundingSphere),NE.applyMatrix4(i),NE.radius+=r,!1===t.ray.intersectsSphere(NE))return;DE.copy(i).invert(),kE.copy(t.ray).applyMatrix4(DE);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s;if(n.isBufferGeometry){const r=n.index,s=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,a=n.length;r<a;r++){const a=n[r];HE.fromBufferAttribute(s,a),FE(HE,a,o,i,t,e,this)}}else for(let n=0,a=s.count;n<a;n++)HE.fromBufferAttribute(s,n),FE(HE,n,o,i,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),GE.prototype=Object.assign(Object.create(Yx.prototype),{constructor:GE,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;0=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(jE.prototype=Object.create(Yx.prototype)).constructor=jE,jE.prototype.isCompressedTexture=!0,(zE.prototype=Object.create(Yx.prototype)).constructor=zE,zE.prototype.isCanvasTexture=!0,(UE.prototype=Object.create(Yx.prototype)).constructor=UE,UE.prototype.isDepthTexture=!0,new $x,new $x,new $x,new pS;const mO={area:function(t){const e=t.length;let n=0;for(let i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return mO.area(t)<0},triangulateShape:function(t,e){const n=[],i=[],r=[];fO(t),gO(n,t);let s=t.length;e.forEach(fO);for(let a=0;a<e.length;a++)i.push(s),s+=e[a].length,gO(n,e[a]);const o=function(t,e,n){n=n||2;const i=e&&e.length,r=i?e[0]*n:t.length;let s=VE(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,c,l,h,u,d,p;if(i&&(s=function(t,e,n,i){const r=[];let s,o,a,c,l;for(s=0,o=e.length;s<o;s++)a=e[s]*i,c=s<o-1?e[s+1]*i:t.length,l=VE(t,a,c,i,!1),l===l.next&&(l.steiner=!0),r.push(eO(l));for(r.sort(QE),s=0;s<r.length;s++)JE(r[s],n),n=WE(n,n.next);return n}(t,e,s,n)),t.length>80*n){a=l=t[0],c=h=t[1];for(let e=n;e<r;e+=n)u=t[e],d=t[e+1],u<a&&(a=u),d<c&&(c=d),u>l&&(l=u),d>h&&(h=d);p=Math.max(l-a,h-c),p=0!==p?1/p:0}return XE(s,o,n,a,c,p),o}(n,i);for(let a=0;a<o.length;a+=3)r.push(o.slice(a,a+3));return r}};function fO(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function gO(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class vO extends YS{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],r=[];for(let o=0,a=t.length;o<a;o++)s(t[o]);function s(t){const s=[],o=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1;let c=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,u=void 0!==e.bevelSize?e.bevelSize:h-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,p=void 0!==e.bevelSegments?e.bevelSegments:3;const m=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:yO;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=e.amount);let g,v,y,_,b,w=!1;m&&(g=m.getSpacedPoints(a),w=!0,l=!1,v=m.computeFrenetFrames(a,!1),y=new $x,_=new $x,b=new $x),l||(p=0,h=0,u=0,d=0);const x=t.extractPoints(o);let M=x.shape;const S=x.holes;if(!mO.isClockWise(M)){M=M.reverse();for(let t=0,e=S.length;t<e;t++){const e=S[t];mO.isClockWise(e)&&(S[t]=e.reverse())}}const T=mO.triangulateShape(M,S),C=M;for(let e=0,n=S.length;e<n;e++)M=M.concat(S[e]);function P(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const E=M.length,O=T.length;function A(t,e,n){let i,r,s;const o=t.x-e.x,a=t.y-e.y,c=n.x-t.x,l=n.y-t.y,h=o*o+a*a;if(Math.abs(o*l-a*c)>Number.EPSILON){const u=Math.sqrt(h),d=Math.sqrt(c*c+l*l),p=e.x-a/u,m=e.y+o/u,f=((n.x-l/d-p)*l-(n.y+c/d-m)*c)/(o*l-a*c);i=p+o*f-t.x,r=m+a*f-t.y;const g=i*i+r*r;if(g<=2)return new Ux(i,r);s=Math.sqrt(g/2)}else{let t=!1;o>Number.EPSILON?c>Number.EPSILON&&(t=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(l)&&(t=!0),t?(i=-a,r=o,s=Math.sqrt(h)):(i=o,r=a,s=Math.sqrt(h/2))}return new Ux(i/s,r/s)}const I=[];for(let e=0,n=C.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),I[e]=A(C[e],C[i],C[r]);const L=[];let R,D=I.concat();for(let e=0,n=S.length;e<n;e++){const t=S[e];R=[];for(let e=0,n=t.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),R[e]=A(t[e],t[i],t[r]);L.push(R),D=D.concat(R)}for(let e=0;e<p;e++){const t=e/p,n=h*Math.cos(t*Math.PI/2),i=u*Math.sin(t*Math.PI/2)+d;for(let e=0,r=C.length;e<r;e++){const t=P(C[e],I[e],i);H(t.x,t.y,-n)}for(let e=0,r=S.length;e<r;e++){const t=S[e];R=L[e];for(let e=0,r=t.length;e<r;e++){const r=P(t[e],R[e],i);H(r.x,r.y,-n)}}}const k=u+d;for(let e=0;e<E;e++){const t=l?P(M[e],D[e],k):M[e];w?(_.copy(v.normals[0]).multiplyScalar(t.x),y.copy(v.binormals[0]).multiplyScalar(t.y),b.copy(g[0]).add(_).add(y),H(b.x,b.y,b.z)):H(t.x,t.y,0)}for(let e=1;e<=a;e++)for(let t=0;t<E;t++){const n=l?P(M[t],D[t],k):M[t];w?(_.copy(v.normals[e]).multiplyScalar(n.x),y.copy(v.binormals[e]).multiplyScalar(n.y),b.copy(g[e]).add(_).add(y),H(b.x,b.y,b.z)):H(n.x,n.y,c/a*e)}for(let e=p-1;e>=0;e--){const t=e/p,n=h*Math.cos(t*Math.PI/2),i=u*Math.sin(t*Math.PI/2)+d;for(let e=0,r=C.length;e<r;e++){const t=P(C[e],I[e],i);H(t.x,t.y,c+n)}for(let e=0,r=S.length;e<r;e++){const t=S[e];R=L[e];for(let e=0,r=t.length;e<r;e++){const r=P(t[e],R[e],i);w?H(r.x,r.y+g[a-1].y,g[a-1].x+n):H(r.x,r.y,c+n)}}}function N(t,e){let n=t.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=t.length-1);for(let t=0,n=a+2*p;t<n;t++){const n=E*t,s=E*(t+1);F(e+i+n,e+r+n,e+r+s,e+i+s)}}}function H(t,e,n){s.push(t),s.push(e),s.push(n)}function B(t,e,r){G(t),G(e),G(r);const s=i.length/3,o=f.generateTopUV(n,i,s-3,s-2,s-1);j(o[0]),j(o[1]),j(o[2])}function F(t,e,r,s){G(t),G(e),G(s),G(e),G(r),G(s);const o=i.length/3,a=f.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);j(a[0]),j(a[1]),j(a[3]),j(a[1]),j(a[2]),j(a[3])}function G(t){i.push(s[3*t+0]),i.push(s[3*t+1]),i.push(s[3*t+2])}function j(t){r.push(t.x),r.push(t.y)}!function(){const t=i.length/3;if(l){let t=0,e=E*t;for(let n=0;n<O;n++){const t=T[n];B(t[2]+e,t[1]+e,t[0]+e)}t=a+2*p,e=E*t;for(let n=0;n<O;n++){const t=T[n];B(t[0]+e,t[1]+e,t[2]+e)}}else{for(let t=0;t<O;t++){const e=T[t];B(e[2],e[1],e[0])}for(let t=0;t<O;t++){const e=T[t];B(e[0]+E*a,e[1]+E*a,e[2]+E*a)}}n.addGroup(t,i.length/3-t,0)}(),function(){const t=i.length/3;let e=0;N(C,e),e+=C.length;for(let n=0,i=S.length;n<i;n++){const t=S[n];N(t,e),e+=t.length}n.addGroup(t,i.length/3-t,1)}()}this.setAttribute("position",new NS(i,3)),this.setAttribute("uv",new NS(r,2)),this.computeVertexNormals()}toJSON(){const t=YS.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++)n.shapes.push(t[i].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}const yO={generateTopUV:function(t,e,n,i,r){const s=e[3*i],o=e[3*i+1],a=e[3*r],c=e[3*r+1];return[new Ux(e[3*n],e[3*n+1]),new Ux(s,o),new Ux(a,c)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[3*n],a=e[3*n+1],c=e[3*n+2],l=e[3*i],h=e[3*i+1],u=e[3*i+2],d=e[3*r],p=e[3*r+1],m=e[3*r+2],f=e[3*s],g=e[3*s+1],v=e[3*s+2];return Math.abs(a-h)<.01?[new Ux(o,1-c),new Ux(l,1-u),new Ux(d,1-m),new Ux(f,1-v)]:[new Ux(a,1-c),new Ux(h,1-u),new Ux(p,1-m),new Ux(g,1-v)]}};function _O(t,e,n){YS.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n};const i=[],r=[],s=[],o=[],a=1e-5,c=new $x,l=new $x,h=new $x,u=new $x,d=new $x;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=e+1;for(let m=0;m<=n;m++){const i=m/n;for(let n=0;n<=e;n++){const p=n/e;t(p,i,l),r.push(l.x,l.y,l.z),p-a>=0?(t(p-a,i,h),u.subVectors(l,h)):(t(p+a,i,h),u.subVectors(h,l)),i-a>=0?(t(p,i-a,h),d.subVectors(l,h)):(t(p,i+a,h),d.subVectors(h,l)),c.crossVectors(u,d).normalize(),s.push(c.x,c.y,c.z),o.push(p,i)}}for(let m=0;m<n;m++)for(let t=0;t<e;t++){const e=m*p+t+1,n=(m+1)*p+t+1,r=(m+1)*p+t;i.push(m*p+t,e,r),i.push(e,n,r)}this.setIndex(i),this.setAttribute("position",new NS(r,3)),this.setAttribute("normal",new NS(s,3)),this.setAttribute("uv",new NS(o,2))}(_O.prototype=Object.create(YS.prototype)).constructor=_O;class bO extends YS{constructor(t,e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],r=[],s=[];let o=0,a=0;if(!1===Array.isArray(t))c(t);else for(let l=0;l<t.length;l++)c(t[l]),this.addGroup(o,a,l),o+=a,a=0;function c(t){const o=i.length/3,c=t.extractPoints(e);let l=c.shape;const h=c.holes;!1===mO.isClockWise(l)&&(l=l.reverse());for(let e=0,n=h.length;e<n;e++){const t=h[e];!0===mO.isClockWise(t)&&(h[e]=t.reverse())}const u=mO.triangulateShape(l,h);for(let e=0,n=h.length;e<n;e++)l=l.concat(h[e]);for(let e=0,n=l.length;e<n;e++){const t=l[e];i.push(t.x,t.y,0),r.push(0,0,1),s.push(t.x,t.y)}for(let e=0,i=u.length;e<i;e++){const t=u[e];n.push(t[0]+o,t[1]+o,t[2]+o),a+=3}}this.setIndex(n),this.setAttribute("position",new NS(i,3)),this.setAttribute("normal",new NS(r,3)),this.setAttribute("uv",new NS(s,2))}toJSON(){const t=YS.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}function wO(t){MS.call(this),this.type="ShadowMaterial",this.color=new bS(0),this.transparent=!0,this.setValues(t)}function xO(t){yT.call(this,t),this.type="RawShaderMaterial"}function MO(t){MS.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bS(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bS(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ux(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function SO(t){MO.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ux(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=zx.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function TO(t){MS.call(this),this.type="MeshPhongMaterial",this.color=new bS(16777215),this.specular=new bS(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bS(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ux(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function CO(t){MS.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bS(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bS(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ux(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function PO(t){MS.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ux(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function EO(t){MS.call(this),this.type="MeshLambertMaterial",this.color=new bS(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bS(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function OO(t){MS.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bS(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ux(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function AO(t){xE.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}(wO.prototype=Object.create(MS.prototype)).constructor=wO,wO.prototype.isShadowMaterial=!0,wO.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.color.copy(t.color),this},(xO.prototype=Object.create(yT.prototype)).constructor=xO,xO.prototype.isRawShaderMaterial=!0,(MO.prototype=Object.create(MS.prototype)).constructor=MO,MO.prototype.isMeshStandardMaterial=!0,MO.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},(SO.prototype=Object.create(MO.prototype)).constructor=SO,SO.prototype.isMeshPhysicalMaterial=!0,SO.prototype.copy=function(t){return MO.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,this.sheen=t.sheen?(this.sheen||new bS).copy(t.sheen):null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},(TO.prototype=Object.create(MS.prototype)).constructor=TO,TO.prototype.isMeshPhongMaterial=!0,TO.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(CO.prototype=Object.create(MS.prototype)).constructor=CO,CO.prototype.isMeshToonMaterial=!0,CO.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(PO.prototype=Object.create(MS.prototype)).constructor=PO,PO.prototype.isMeshNormalMaterial=!0,PO.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(EO.prototype=Object.create(MS.prototype)).constructor=EO,EO.prototype.isMeshLambertMaterial=!0,EO.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(OO.prototype=Object.create(MS.prototype)).constructor=OO,OO.prototype.isMeshMatcapMaterial=!0,OO.prototype.copy=function(t){return MS.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(AO.prototype=Object.create(xE.prototype)).constructor=AO,AO.prototype.isLineDashedMaterial=!0,AO.prototype.copy=function(t){return xE.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var IO=Object.freeze({__proto__:null,ShadowMaterial:wO,SpriteMaterial:zP,RawShaderMaterial:xO,ShaderMaterial:yT,PointsMaterial:RE,MeshPhysicalMaterial:SO,MeshStandardMaterial:MO,MeshPhongMaterial:TO,MeshToonMaterial:CO,MeshNormalMaterial:PO,MeshLambertMaterial:EO,MeshDepthMaterial:TP,MeshDistanceMaterial:CP,MeshBasicMaterial:SS,MeshMatcapMaterial:OO,LineDashedMaterial:AO,LineBasicMaterial:xE,Material:MS});const LO={arraySlice:function(t,e,n){return LO.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let i=0;i!==e;++i)n[i]=i;return n.sort(function(e,n){return t[e]-t[n]}),n},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const i=n[s]*e;for(let n=0;n!==e;++n)r[o++]=t[i+n]}return r},flattenJSON:function(t,e,n,i){let r=1,s=t[0];for(;void 0!==s&&void 0===s[i];)s=t[r++];if(void 0===s)return;let o=s[i];if(void 0!==o)if(Array.isArray(o))do{o=s[i],void 0!==o&&(e.push(s.time),n.push.apply(n,o)),s=t[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[i],void 0!==o&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++]}while(void 0!==s);else do{o=s[i],void 0!==o&&(e.push(s.time),n.push(o)),s=t[r++]}while(void 0!==s)},subclip:function(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const t=s.tracks[c],e=t.getValueSize(),a=[],l=[];for(let s=0;s<t.times.length;++s){const o=t.times[s]*r;if(!(o<n||o>=i)){a.push(t.times[s]);for(let n=0;n<e;++n)l.push(t.values[s*e+n])}}0!==a.length&&(t.times=LO.convertArray(a,t.times.constructor),t.values=LO.convertArray(l,t.values.constructor),o.push(t))}s.tracks=o;let a=1/0;for(let c=0;c<s.tracks.length;++c)a>s.tracks[c].times[0]&&(a=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const e=n.tracks[o],i=e.ValueTypeName;if("bool"===i||"string"===i)continue;const r=t.tracks.find(function(t){return t.name===e.name&&t.ValueTypeName===i});if(void 0===r)continue;let a=0;const c=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=c/3);let l=0;const h=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=h/3);const u=e.times.length-1;let d;if(s<=e.times[0])d=LO.arraySlice(e.values,a,c-a);else if(s>=e.times[u]){const t=u*c+a;d=LO.arraySlice(e.values,t,t+c-a)}else{const t=e.createInterpolant(),n=a,i=c-a;t.evaluate(s),d=LO.arraySlice(t.resultBuffer,n,i)}"quaternion"===i&&(new Jx).fromArray(d).normalize().conjugate().toArray(d);const p=r.times.length;for(let t=0;t<p;++t){const e=t*h+l;if("quaternion"===i)Jx.multiplyQuaternionsFlat(r.values,e,d,0,r.values,e);else{const t=h-2*l;for(let n=0;n<t;++n)r.values[e+n]-=d[n]}}}return t.blendMode=2501,t}};function RO(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function DO(t,e,n,i){RO.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function kO(t,e,n,i){RO.call(this,t,e,n,i)}function NO(t,e,n,i){RO.call(this,t,e,n,i)}function HO(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=LO.convertArray(e,this.TimeBufferType),this.values=LO.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function BO(t,e,n){HO.call(this,t,e,n)}function FO(t,e,n,i){HO.call(this,t,e,n,i)}function GO(t,e,n,i){HO.call(this,t,e,n,i)}function jO(t,e,n,i){RO.call(this,t,e,n,i)}function zO(t,e,n,i){HO.call(this,t,e,n,i)}function UO(t,e,n,i){HO.call(this,t,e,n,i)}function VO(t,e,n,i){HO.call(this,t,e,n,i)}function WO(t,e=-1,n,i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=zx.generateUUID(),this.duration<0&&this.resetDuration()}function XO(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return GO;case"vector":case"vector2":case"vector3":case"vector4":return VO;case"color":return FO;case"quaternion":return zO;case"bool":case"boolean":return BO;case"string":return UO}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];LO.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(RO.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let s;n:{i:if(!(t<i)){for(let s=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===s)break;if(r=i,i=e[++n],t<i)break e}s=e.length;break n}if(t>=r)break t;{const o=e[1];t<o&&(n=2,r=o);for(let s=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===s)break;if(i=r,r=e[--n-1],t>=r)break e}s=n,n=0}}for(;n<s;){const i=n+s>>>1;t<e[i]?s=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let s=0;s!==i;++s)e[s]=n[r+s];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(RO.prototype,{beforeStart_:RO.prototype.copySampleValue_,afterEnd_:RO.prototype.copySampleValue_}),DO.prototype=Object.assign(Object.create(RO.prototype),{constructor:DO,DefaultSettings_:{endingStart:Ax,endingEnd:Ax},intervalChanged_:function(t,e,n){const i=this.parameterPositions;let r=t-2,s=t+1,o=i[r],a=i[s];if(void 0===o)switch(this.getSettings_().endingStart){case Ix:r=t,o=2*e-n;break;case Lx:r=i.length-2,o=e+i[r]-i[r+1];break;default:r=t,o=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Ix:s=t,a=2*n-e;break;case Lx:s=1,a=n+i[1]-i[0];break;default:s=t-1,a=e}const c=.5*(n-e),l=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(a-n),this._offsetPrev=r*l,this._offsetNext=s*l},interpolate_:function(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=t*o,c=a-o,l=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(n-e)/(i-e),m=p*p,f=m*p,g=-u*f+2*u*m-u*p,v=(1+u)*f+(-1.5-2*u)*m+(-.5+u)*p+1,y=(-1-d)*f+(1.5+d)*m+.5*p,_=d*f-d*m;for(let b=0;b!==o;++b)r[b]=g*s[l+b]+v*s[c+b]+y*s[a+b]+_*s[h+b];return r}}),kO.prototype=Object.assign(Object.create(RO.prototype),{constructor:kO,interpolate_:function(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=t*o,c=a-o,l=(n-e)/(i-e),h=1-l;for(let u=0;u!==o;++u)r[u]=s[c+u]*h+s[a+u]*l;return r}}),NO.prototype=Object.assign(Object.create(RO.prototype),{constructor:NO,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(HO,{toJSON:function(t){const e=t.constructor;let n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:LO.convertArray(t.times,Array),values:LO.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}}),Object.assign(HO.prototype,{constructor:HO,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Ex,InterpolantFactoryMethodDiscrete:function(t){return new NO(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new kO(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new DO(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case Px:e=this.InterpolantFactoryMethodDiscrete;break;case Ex:e=this.InterpolantFactoryMethodLinear;break;case Ox:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Px;case this.InterpolantFactoryMethodLinear:return Ex;case this.InterpolantFactoryMethodSmooth:return Ox}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==s&&n[s]>e;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const t=this.getValueSize();this.times=LO.arraySlice(n,r,s),this.values=LO.arraySlice(this.values,r*t,s*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let s=null;for(let o=0;o!==r;o++){const e=n[o];if("number"==typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,e),t=!1;break}if(null!==s&&s>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,e,s),t=!1;break}s=e}if(void 0!==i&&LO.isTypedArray(i))for(let o=0,a=i.length;o!==a;++o){const e=i[o];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,e),t=!1;break}}return t},optimize:function(){const t=LO.arraySlice(this.times),e=LO.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Ox,r=t.length-1;let s=1;for(let o=1;o<r;++o){let r=!1;const a=t[o];if(a!==t[o+1]&&(1!==o||a!==t[0]))if(i)r=!0;else{const t=o*n,i=t-n,s=t+n;for(let o=0;o!==n;++o){const n=e[t+o];if(n!==e[i+o]||n!==e[s+o]){r=!0;break}}}if(r){if(o!==s){t[s]=t[o];const i=o*n,r=s*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++s}}if(r>0){t[s]=t[r];for(let t=r*n,i=s*n,o=0;o!==n;++o)e[i+o]=e[t+o];++s}return s!==t.length?(this.times=LO.arraySlice(t,0,s),this.values=LO.arraySlice(e,0,s*n)):(this.times=t,this.values=e),this},clone:function(){const t=LO.arraySlice(this.times,0),e=LO.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),BO.prototype=Object.assign(Object.create(HO.prototype),{constructor:BO,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Px,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),FO.prototype=Object.assign(Object.create(HO.prototype),{constructor:FO,ValueTypeName:"color"}),GO.prototype=Object.assign(Object.create(HO.prototype),{constructor:GO,ValueTypeName:"number"}),jO.prototype=Object.assign(Object.create(RO.prototype),{constructor:jO,interpolate_:function(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=(n-e)/(i-e);let c=t*o;for(let l=c+o;c!==l;c+=4)Jx.slerpFlat(r,0,s,c-o,s,c,a);return r}}),zO.prototype=Object.assign(Object.create(HO.prototype),{constructor:zO,ValueTypeName:"quaternion",DefaultInterpolation:Ex,InterpolantFactoryMethodLinear:function(t){return new jO(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),UO.prototype=Object.assign(Object.create(HO.prototype),{constructor:UO,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Px,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),VO.prototype=Object.assign(Object.create(HO.prototype),{constructor:VO,ValueTypeName:"vector"}),Object.assign(WO,{parse:function(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let s=0,o=n.length;s!==o;++s)e.push(XO(n[s]).scale(i));const r=new WO(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r},toJSON:function(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,s=n.length;r!==s;++r)e.push(HO.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){const r=e.length,s=[];for(let o=0;o<r;o++){let t=[],a=[];t.push((o+r-1)%r,o,(o+1)%r),a.push(0,1,0);const c=LO.getKeyframeOrder(t);t=LO.sortedArray(t,1,c),a=LO.sortedArray(a,1,c),i||0!==t[0]||(t.push(r),a.push(a[0])),s.push(new GO(".morphTargetInfluences["+e[o].name+"]",t,a).scale(1/n))}return new WO(t,-1,s)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,a=t.length;o<a;o++){const e=t[o],n=e.name.match(r);if(n&&n.length>1){const t=n[1];let r=i[t];r||(i[t]=r=[]),r.push(e)}}const s=[];for(const o in i)s.push(WO.CreateFromMorphTargetSequence(o,i[o],e,n));return s},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,i,r){if(0!==n.length){const s=[],o=[];LO.flattenJSON(n,s,o,i),0!==s.length&&r.push(new t(e,s,o))}},i=[],r=t.name||"default",s=t.fps||30,o=t.blendMode;let a=t.length||-1;const c=t.hierarchy||[];for(let l=0;l<c.length;l++){const t=c[l].keys;if(t&&0!==t.length)if(t[0].morphTargets){const e={};let n;for(n=0;n<t.length;n++)if(t[n].morphTargets)for(let i=0;i<t[n].morphTargets.length;i++)e[t[n].morphTargets[i]]=-1;for(const r in e){const e=[],s=[];for(let i=0;i!==t[n].morphTargets.length;++i){const i=t[n];e.push(i.time),s.push(i.morphTarget===r?1:0)}i.push(new GO(".morphTargetInfluence["+r+"]",e,s))}a=e.length*(s||1)}else{const r=".bones["+e[l].name+"]";n(VO,r+".position",t,"pos",i),n(zO,r+".quaternion",t,"rot",i),n(VO,r+".scale",t,"scl",i)}}return 0===i.length?null:new WO(r,a,i,o)}}),Object.assign(WO.prototype,{resetDuration:function(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new WO(this.name,this.duration,t,this.blendMode)},toJSON:function(){return WO.toJSON(this)}});const qO={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},YO=new function(t,e,n){const i=this;let r,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=void 0,this.onProgress=void 0,this.onError=void 0,this.itemStart=function(t){a++,!1===s&&void 0!==i.onStart&&i.onStart(t,o,a),s=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,a),o===a&&(s=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){const e=c.indexOf(t);return-1!==e&&c.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=c.length;e<n;e+=2){const n=c[e],i=c[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}};function ZO(t){this.manager=void 0!==t?t:YO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(ZO.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise(function(i,r){n.load(t,i,e,r)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const KO={};function QO(t){ZO.call(this,t)}function JO(t){ZO.call(this,t)}function $O(t){ZO.call(this,t)}function tA(t){ZO.call(this,t)}function eA(t){ZO.call(this,t)}function nA(t){ZO.call(this,t)}function iA(t){ZO.call(this,t)}function rA(){this.type="Curve",this.arcLengthDivisions=200}function sA(t,e,n,i,r,s,o,a){rA.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}function oA(t,e,n,i,r,s){sA.call(this,t,e,n,n,i,r,s),this.type="ArcCurve"}function aA(){let t=0,e=0,n=0,i=0;function r(r,s,o,a){t=r,e=o,n=-3*r+3*s-2*o-a,i=2*r-2*s+o+a}return{initCatmullRom:function(t,e,n,i,s){r(e,n,s*(n-t),s*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,s,o,a){let c=(e-t)/s-(n-t)/(s+o)+(n-e)/o,l=(n-e)/o-(i-e)/(o+a)+(i-n)/a;c*=o,l*=o,r(e,n,c,l)},calc:function(r){const s=r*r;return t+e*r+n*s+i*(s*r)}}}QO.prototype=Object.assign(Object.create(ZO.prototype),{constructor:QO,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=qO.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout(function(){e&&e(s),r.manager.itemEnd(t)},0),s;if(void 0!==KO[t])return void KO[t].push({onLoad:e,onProgress:n,onError:i});const o=t.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(o){const n=o[1],s=!!o[2];let a=o[3];a=decodeURIComponent(a),s&&(a=atob(a));try{let i;const s=(this.responseType||"").toLowerCase();switch(s){case"arraybuffer":case"blob":const t=new Uint8Array(a.length);for(let n=0;n<a.length;n++)t[n]=a.charCodeAt(n);i="blob"===s?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;i=e.parseFromString(a,n);break;case"json":i=JSON.parse(a);break;default:i=a}setTimeout(function(){e&&e(i),r.manager.itemEnd(t)},0)}catch(c){setTimeout(function(){i&&i(c),r.manager.itemError(t),r.manager.itemEnd(t)},0)}}else{KO[t]=[],KO[t].push({onLoad:e,onProgress:n,onError:i}),a=new XMLHttpRequest,a.open("GET",t,!0),a.addEventListener("load",function(e){const n=this.response,i=KO[t];if(delete KO[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),qO.add(t,n);for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onLoad&&e.onLoad(n)}r.manager.itemEnd(t)}else{for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}},!1),a.addEventListener("progress",function(e){const n=KO[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onProgress&&i.onProgress(e)}},!1),a.addEventListener("error",function(e){const n=KO[t];delete KO[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),a.addEventListener("abort",function(e){const n=KO[t];delete KO[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)a.setRequestHeader(t,this.requestHeader[t]);a.send(null)}return r.manager.itemStart(t),a},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),JO.prototype=Object.assign(Object.create(ZO.prototype),{constructor:JO,load:function(t,e,n,i){const r=this,s=new QO(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(s){i?i(s):console.error(s),r.manager.itemError(t)}},n,i)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const i=WO.parse(t[n]);e.push(i)}return e}}),$O.prototype=Object.assign(Object.create(ZO.prototype),{constructor:$O,load:function(t,e,n,i){const r=this,s=[],o=new jE,a=new QO(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let c=0;function l(l){a.load(t[l],function(t){const n=r.parse(t,!0);s[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(o.minFilter=gx),o.image=s,o.format=n.format,o.needsUpdate=!0,e&&e(o))},n,i)}if(Array.isArray(t))for(let h=0,u=t.length;h<u;++h)l(h);else a.load(t,function(t){const n=r.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){s[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)s[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),s[e].format=n.format,s[e].width=n.width,s[e].height=n.height}o.image=s}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=gx),o.format=n.format,o.needsUpdate=!0,e&&e(o)},n,i);return o}}),tA.prototype=Object.assign(Object.create(ZO.prototype),{constructor:tA,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=qO.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout(function(){e&&e(s),r.manager.itemEnd(t)},0),s;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){o.removeEventListener("load",a,!1),o.removeEventListener("error",c,!1),qO.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(e){o.removeEventListener("load",a,!1),o.removeEventListener("error",c,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",a,!1),o.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}),eA.prototype=Object.assign(Object.create(ZO.prototype),{constructor:eA,load:function(t,e,n,i){const r=new MT,s=new tA(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function a(n){s.load(t[n],function(t){r.images[n]=t,o++,6===o&&(r.needsUpdate=!0,e&&e(r))},void 0,i)}for(let c=0;c<t.length;++c)a(c);return r}}),nA.prototype=Object.assign(Object.create(ZO.prototype),{constructor:nA,load:function(t,e,n,i){const r=this,s=new TT,o=new QO(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(t,function(t){const n=r.parse(t);n&&(void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:ux,s.wrapT=void 0!==n.wrapT?n.wrapT:ux,s.magFilter=void 0!==n.magFilter?n.magFilter:gx,s.minFilter=void 0!==n.minFilter?n.minFilter:gx,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(s.encoding=n.encoding),void 0!==n.flipY&&(s.flipY=n.flipY),void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps,s.minFilter=vx),1===n.mipmapCount&&(s.minFilter=gx),s.needsUpdate=!0,e&&e(s,n))},n,i),s}}),iA.prototype=Object.assign(Object.create(ZO.prototype),{constructor:iA,load:function(t,e,n,i){const r=new Yx,s=new tA(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,function(n){r.image=n;const i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Mx:Sx,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r}}),Object.assign(rA.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),r=0;e.push(0);for(let s=1;s<=t;s++)n=this.getPoint(s/t),r+=n.distanceTo(i),e.push(r),i=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let i=0;const r=n.length;let s;s=e||t*n[r-1];let o,a=0,c=r-1;for(;a<=c;)if(i=Math.floor(a+(c-a)/2),o=n[i]-s,o<0)a=i+1;else{if(!(o>0)){c=i;break}c=i-1}if(i=c,n[i]===s)return i/(r-1);const l=n[i];return(i+(s-l)/(n[i+1]-l))/(r-1)},getTangent:function(t,e){const n=1e-4;let i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),o=this.getPoint(r),a=e||(s.isVector2?new Ux:new $x);return a.copy(o).sub(s).normalize(),a},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new $x,i=[],r=[],s=[],o=new $x,a=new PM;for(let d=0;d<=t;d++)i[d]=this.getTangentAt(d/t,new $x),i[d].normalize();r[0]=new $x,s[0]=new $x;let c=Number.MAX_VALUE;const l=Math.abs(i[0].x),h=Math.abs(i[0].y),u=Math.abs(i[0].z);l<=c&&(c=l,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),u<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),s[0].crossVectors(i[0],r[0]);for(let d=1;d<=t;d++){if(r[d]=r[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(i[d-1],i[d]),o.length()>Number.EPSILON){o.normalize();const t=Math.acos(zx.clamp(i[d-1].dot(i[d]),-1,1));r[d].applyMatrix4(a.makeRotationAxis(o,t))}s[d].crossVectors(i[d],r[d])}if(!0===e){let e=Math.acos(zx.clamp(r[0].dot(r[t]),-1,1));e/=t,i[0].dot(o.crossVectors(r[0],r[t]))>0&&(e=-e);for(let n=1;n<=t;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],e*n)),s[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),(sA.prototype=Object.create(rA.prototype)).constructor=sA,sA.prototype.isEllipseCurve=!0,sA.prototype.getPoint=function(t,e){const n=e||new Ux,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=s?0:i),!0!==this.aClockwise||s||(r===i?r=-i:r-=i);const o=this.aStartAngle+t*r;let a=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=a-this.aX,i=c-this.aY;a=n*t-i*e+this.aX,c=n*e+i*t+this.aY}return n.set(a,c)},sA.prototype.copy=function(t){return rA.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},sA.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},sA.prototype.fromJSON=function(t){return rA.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},(oA.prototype=Object.create(sA.prototype)).constructor=oA,oA.prototype.isArcCurve=!0;const cA=new $x,lA=new aA,hA=new aA,uA=new aA;function dA(t=[],e=!1,n="centripetal",i=.5){rA.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}function pA(t,e,n,i,r){const s=.5*(i-e),o=.5*(r-n),a=t*t;return(2*n-2*i+s+o)*(t*a)+(-3*n+3*i-2*s-o)*a+s*t+n}function mA(t,e,n,i){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function fA(t,e,n,i,r){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function gA(t=new Ux,e=new Ux,n=new Ux,i=new Ux){rA.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function vA(t=new $x,e=new $x,n=new $x,i=new $x){rA.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function yA(t=new Ux,e=new Ux){rA.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function _A(t=new $x,e=new $x){rA.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function bA(t=new Ux,e=new Ux,n=new Ux){rA.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function wA(t=new $x,e=new $x,n=new $x){rA.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function xA(t=[]){rA.call(this),this.type="SplineCurve",this.points=t}(dA.prototype=Object.create(rA.prototype)).constructor=dA,dA.prototype.isCatmullRomCurve3=!0,dA.prototype.getPoint=function(t,e=new $x){const n=e,i=this.points,r=i.length,s=(r-(this.closed?0:1))*t;let o,a,c=Math.floor(s),l=s-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/r)+1)*r:0===l&&c===r-1&&(c=r-2,l=1),this.closed||c>0?o=i[(c-1)%r]:(cA.subVectors(i[0],i[1]).add(i[0]),o=cA);const h=i[c%r],u=i[(c+1)%r];if(this.closed||c+2<r?a=i[(c+2)%r]:(cA.subVectors(i[r-1],i[r-2]).add(i[r-1]),a=cA),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(o.distanceToSquared(h),t),n=Math.pow(h.distanceToSquared(u),t),i=Math.pow(u.distanceToSquared(a),t);n<1e-4&&(n=1),e<1e-4&&(e=n),i<1e-4&&(i=n),lA.initNonuniformCatmullRom(o.x,h.x,u.x,a.x,e,n,i),hA.initNonuniformCatmullRom(o.y,h.y,u.y,a.y,e,n,i),uA.initNonuniformCatmullRom(o.z,h.z,u.z,a.z,e,n,i)}else"catmullrom"===this.curveType&&(lA.initCatmullRom(o.x,h.x,u.x,a.x,this.tension),hA.initCatmullRom(o.y,h.y,u.y,a.y,this.tension),uA.initCatmullRom(o.z,h.z,u.z,a.z,this.tension));return n.set(lA.calc(l),hA.calc(l),uA.calc(l)),n},dA.prototype.copy=function(t){rA.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},dA.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},dA.prototype.fromJSON=function(t){rA.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new $x).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},(gA.prototype=Object.create(rA.prototype)).constructor=gA,gA.prototype.isCubicBezierCurve=!0,gA.prototype.getPoint=function(t,e=new Ux){const n=e,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(fA(t,i.x,r.x,s.x,o.x),fA(t,i.y,r.y,s.y,o.y)),n},gA.prototype.copy=function(t){return rA.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},gA.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},gA.prototype.fromJSON=function(t){return rA.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(vA.prototype=Object.create(rA.prototype)).constructor=vA,vA.prototype.isCubicBezierCurve3=!0,vA.prototype.getPoint=function(t,e=new $x){const n=e,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(fA(t,i.x,r.x,s.x,o.x),fA(t,i.y,r.y,s.y,o.y),fA(t,i.z,r.z,s.z,o.z)),n},vA.prototype.copy=function(t){return rA.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},vA.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},vA.prototype.fromJSON=function(t){return rA.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(yA.prototype=Object.create(rA.prototype)).constructor=yA,yA.prototype.isLineCurve=!0,yA.prototype.getPoint=function(t,e=new Ux){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},yA.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},yA.prototype.getTangent=function(t,e){const n=e||new Ux;return n.copy(this.v2).sub(this.v1).normalize(),n},yA.prototype.copy=function(t){return rA.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},yA.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},yA.prototype.fromJSON=function(t){return rA.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(_A.prototype=Object.create(rA.prototype)).constructor=_A,_A.prototype.isLineCurve3=!0,_A.prototype.getPoint=function(t,e=new $x){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},_A.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},_A.prototype.copy=function(t){return rA.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},_A.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},_A.prototype.fromJSON=function(t){return rA.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(bA.prototype=Object.create(rA.prototype)).constructor=bA,bA.prototype.isQuadraticBezierCurve=!0,bA.prototype.getPoint=function(t,e=new Ux){const n=e,i=this.v0,r=this.v1,s=this.v2;return n.set(mA(t,i.x,r.x,s.x),mA(t,i.y,r.y,s.y)),n},bA.prototype.copy=function(t){return rA.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},bA.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},bA.prototype.fromJSON=function(t){return rA.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(wA.prototype=Object.create(rA.prototype)).constructor=wA,wA.prototype.isQuadraticBezierCurve3=!0,wA.prototype.getPoint=function(t,e=new $x){const n=e,i=this.v0,r=this.v1,s=this.v2;return n.set(mA(t,i.x,r.x,s.x),mA(t,i.y,r.y,s.y),mA(t,i.z,r.z,s.z)),n},wA.prototype.copy=function(t){return rA.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},wA.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},wA.prototype.fromJSON=function(t){return rA.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(xA.prototype=Object.create(rA.prototype)).constructor=xA,xA.prototype.isSplineCurve=!0,xA.prototype.getPoint=function(t,e=new Ux){const n=e,i=this.points,r=(i.length-1)*t,s=Math.floor(r),o=r-s,a=i[0===s?s:s-1],c=i[s],l=i[s>i.length-2?i.length-1:s+1],h=i[s>i.length-3?i.length-1:s+2];return n.set(pA(o,a.x,c.x,l.x,h.x),pA(o,a.y,c.y,l.y,h.y)),n},xA.prototype.copy=function(t){rA.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this},xA.prototype.toJSON=function(){const t=rA.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t},xA.prototype.fromJSON=function(t){rA.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Ux).fromArray(n))}return this};var MA=Object.freeze({__proto__:null,ArcCurve:oA,CatmullRomCurve3:dA,CubicBezierCurve:gA,CubicBezierCurve3:vA,EllipseCurve:sA,LineCurve:yA,LineCurve3:_A,QuadraticBezierCurve:bA,QuadraticBezierCurve3:wA,SplineCurve:xA});function SA(){rA.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function TA(t){SA.call(this),this.type="Path",this.currentPoint=new Ux,t&&this.setFromPoints(t)}function CA(t){TA.call(this,t),this.uuid=zx.generateUUID(),this.type="Shape",this.holes=[]}function PA(t,e=1){JM.call(this),this.type="Light",this.color=new bS(t),this.intensity=e}function EA(t,e,n){PA.call(this,t,n),this.type="HemisphereLight",this.position.copy(JM.DefaultUp),this.updateMatrix(),this.groundColor=new bS(e)}function OA(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Ux(512,512),this.map=null,this.mapPass=null,this.matrix=new PM,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ET,this._frameExtents=new Ux(1,1),this._viewportCount=1,this._viewports=[new Kx(0,0,1,1)]}function AA(){OA.call(this,new bT(50,1,.5,500)),this.focus=1}function IA(t,e,n,i,r,s){PA.call(this,t,e),this.type="SpotLight",this.position.copy(JM.DefaultUp),this.updateMatrix(),this.target=new JM,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==s?s:1,this.shadow=new AA}function LA(){OA.call(this,new bT(90,1,.5,500)),this._frameExtents=new Ux(4,2),this._viewportCount=6,this._viewports=[new Kx(2,1,1,1),new Kx(0,1,1,1),new Kx(3,1,1,1),new Kx(1,1,1,1),new Kx(3,0,1,1),new Kx(1,0,1,1)],this._cubeDirections=[new $x(1,0,0),new $x(-1,0,0),new $x(0,0,1),new $x(0,0,-1),new $x(0,1,0),new $x(0,-1,0)],this._cubeUps=[new $x(0,1,0),new $x(0,1,0),new $x(0,1,0),new $x(0,1,0),new $x(0,0,1),new $x(0,0,-1)]}function RA(t,e,n,i){PA.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new LA}function DA(t=-1,e=1,n=1,i=-1,r=.1,s=2e3){_T.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=s,this.updateProjectionMatrix()}function kA(){OA.call(this,new DA(-5,5,5,-5,.5,500))}function NA(t,e){PA.call(this,t,e),this.type="DirectionalLight",this.position.copy(JM.DefaultUp),this.updateMatrix(),this.target=new JM,this.shadow=new kA}function HA(t,e){PA.call(this,t,e),this.type="AmbientLight"}function BA(t,e,n,i){PA.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}SA.prototype=Object.assign(Object.create(rA.prototype),{constructor:SA,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new yA(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const t=n[i]-e,r=this.curves[i],s=r.getLength();return r.getPointAt(0===s?0:1-t/s)}i++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],o=s.getPoints(s&&s.isEllipseCurve?2*t:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?t*s.points.length:t);for(let t=0;t<o.length;t++){const i=o[t];n&&n.equals(i)||(e.push(i),n=i)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){rA.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this},toJSON:function(){const t=rA.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++)t.curves.push(this.curves[e].toJSON());return t},fromJSON:function(t){rA.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new MA[n.type]).fromJSON(n))}return this}}),TA.prototype=Object.assign(Object.create(SA.prototype),{constructor:TA,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new yA(this.currentPoint.clone(),new Ux(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){const r=new bA(this.currentPoint.clone(),new Ux(t,e),new Ux(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,r,s){const o=new gA(this.currentPoint.clone(),new Ux(t,e),new Ux(n,i),new Ux(r,s));return this.curves.push(o),this.currentPoint.set(r,s),this},splineThru:function(t){const e=new xA([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,r,s){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,s),this},absarc:function(t,e,n,i,r,s){return this.absellipse(t,e,n,n,i,r,s),this},ellipse:function(t,e,n,i,r,s,o,a){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,s,o,a),this},absellipse:function(t,e,n,i,r,s,o,a){const c=new sA(t,e,n,i,r,s,o,a);if(this.curves.length>0){const t=c.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(c);const l=c.getPoint(1);return this.currentPoint.copy(l),this},copy:function(t){return SA.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=SA.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return SA.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),CA.prototype=Object.assign(Object.create(TA.prototype),{constructor:CA,getPointsHoles:function(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){TA.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++)this.holes.push(t.holes[e].clone());return this},toJSON:function(){const t=TA.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++)t.holes.push(this.holes[e].toJSON());return t},fromJSON:function(t){TA.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new TA).fromJSON(n))}return this}}),PA.prototype=Object.assign(Object.create(JM.prototype),{constructor:PA,isLight:!0,copy:function(t){return JM.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=JM.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),EA.prototype=Object.assign(Object.create(PA.prototype),{constructor:EA,isHemisphereLight:!0,copy:function(t){return PA.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(OA.prototype,{_projScreenMatrix:new PM,_lightPositionWorld:new $x,_lookTarget:new $x,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,s=this._lightPositionWorld;s.setFromMatrixPosition(t.matrixWorld),e.position.copy(s),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),AA.prototype=Object.assign(Object.create(OA.prototype),{constructor:AA,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=2*zx.RAD2DEG*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),OA.prototype.updateMatrices.call(this,t)}}),IA.prototype=Object.assign(Object.create(PA.prototype),{constructor:IA,isSpotLight:!0,copy:function(t){return PA.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),LA.prototype=Object.assign(Object.create(OA.prototype),{constructor:LA,isPointLightShadow:!0,updateMatrices:function(t,e=0){const n=this.camera,i=this.matrix,r=this._lightPositionWorld,s=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),n.position.copy(r),s.copy(n.position),s.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(s),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),RA.prototype=Object.assign(Object.create(PA.prototype),{constructor:RA,isPointLight:!0,copy:function(t){return PA.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),DA.prototype=Object.assign(Object.create(_T.prototype),{constructor:DA,isOrthographicCamera:!0,copy:function(t,e){return _T.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,s=n+t,o=i+e,a=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,s=r+t*this.view.width,o-=e*this.view.offsetY,a=o-e*this.view.height}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=JM.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),kA.prototype=Object.assign(Object.create(OA.prototype),{constructor:kA,isDirectionalLightShadow:!0,updateMatrices:function(t){OA.prototype.updateMatrices.call(this,t)}}),NA.prototype=Object.assign(Object.create(PA.prototype),{constructor:NA,isDirectionalLight:!0,copy:function(t){return PA.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),HA.prototype=Object.assign(Object.create(PA.prototype),{constructor:HA,isAmbientLight:!0}),BA.prototype=Object.assign(Object.create(PA.prototype),{constructor:BA,isRectAreaLight:!0,copy:function(t){return PA.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=PA.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class FA{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new $x)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,i=t.y,r=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.282095),e.addScaledVector(s[1],.488603*i),e.addScaledVector(s[2],.488603*r),e.addScaledVector(s[3],.488603*n),e.addScaledVector(s[4],n*i*1.092548),e.addScaledVector(s[5],i*r*1.092548),e.addScaledVector(s[6],.315392*(3*r*r-1)),e.addScaledVector(s[7],n*r*1.092548),e.addScaledVector(s[8],.546274*(n*n-i*i)),e}getIrradianceAt(t,e){const n=t.x,i=t.y,r=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.886227),e.addScaledVector(s[1],1.023328*i),e.addScaledVector(s[2],1.023328*r),e.addScaledVector(s[3],1.023328*n),e.addScaledVector(s[4],.858086*n*i),e.addScaledVector(s[5],.858086*i*r),e.addScaledVector(s[6],.743125*r*r-.247708),e.addScaledVector(s[7],.858086*n*r),e.addScaledVector(s[8],.429043*(n*n-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}function GA(t,e){PA.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new FA}function jA(t){ZO.call(this,t),this.textures={}}GA.prototype=Object.assign(Object.create(PA.prototype),{constructor:GA,isLightProbe:!0,copy:function(t){return PA.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=PA.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),jA.prototype=Object.assign(Object.create(ZO.prototype),{constructor:jA,load:function(t,e,n,i){const r=this,s=new QO(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(s){i?i(s):console.error(s),r.manager.itemError(t)}},n,i)},parse:function(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const i=new IO[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new bS).setHex(t.sheen)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.vertexTangents&&(i.vertexTangents=t.vertexTangents),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&(i.vertexColors="number"==typeof t.vertexColors?t.vertexColors>0:t.vertexColors),void 0!==t.uniforms)for(const r in t.uniforms){const e=t.uniforms[r];switch(i.uniforms[r]={},e.type){case"t":i.uniforms[r].value=n(e.value);break;case"c":i.uniforms[r].value=(new bS).setHex(e.value);break;case"v2":i.uniforms[r].value=(new Ux).fromArray(e.value);break;case"v3":i.uniforms[r].value=(new $x).fromArray(e.value);break;case"v4":i.uniforms[r].value=(new Kx).fromArray(e.value);break;case"m3":i.uniforms[r].value=(new Vx).fromArray(e.value);break;case"m4":i.uniforms[r].value=(new PM).fromArray(e.value);break;default:i.uniforms[r].value=e.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const r in t.extensions)i.extensions[r]=t.extensions[r];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),i.normalScale=(new Ux).fromArray(e)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Ux).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}});const zA=function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(n){return e}},UA=function(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)};function VA(){YS.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function WA(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),PS.call(this,t,e,n),this.meshPerAttribute=i||1}function XA(t){ZO.call(this,t)}function qA(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ZO.call(this,t),this.options={premultiplyAlpha:"none"}}function YA(){this.type="ShapePath",this.color=new bS,this.subPaths=[],this.currentPath=null}VA.prototype=Object.assign(Object.create(YS.prototype),{constructor:VA,isInstancedBufferGeometry:!0,copy:function(t){return YS.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t=YS.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),WA.prototype=Object.assign(Object.create(PS.prototype),{constructor:WA,isInstancedBufferAttribute:!0,copy:function(t){return PS.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=PS.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),XA.prototype=Object.assign(Object.create(ZO.prototype),{constructor:XA,load:function(t,e,n,i){const r=this,s=new QO(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(s){i?i(s):console.error(s),r.manager.itemError(t)}},n,i)},parse:function(t){const e={},n={};function i(t,i){if(void 0!==e[i])return e[i];const r=t.interleavedBuffers[i],s=function(t,e){if(void 0!==n[e])return n[e];const i=new Uint32Array(t.arrayBuffers[e]).buffer;return n[e]=i,i}(t,r.buffer),o=new FP(GS(r.type,s),r.stride);return o.uuid=r.uuid,e[i]=o,o}const r=t.isInstancedBufferGeometry?new VA:new YS,s=t.data.index;if(void 0!==s){const t=GS(s.type,s.array);r.setIndex(new PS(t,1))}const o=t.data.attributes;for(const h in o){const e=o[h];let n;if(e.isInterleavedBufferAttribute)n=new jP(i(t.data,e.data),e.itemSize,e.offset,e.normalized);else{const t=GS(e.type,e.array);n=new(e.isInstancedBufferAttribute?WA:PS)(t,e.itemSize,e.normalized)}void 0!==e.name&&(n.name=e.name),r.setAttribute(h,n)}const a=t.data.morphAttributes;if(a)for(const h in a){const e=a[h],n=[];for(let r=0,s=e.length;r<s;r++){const s=e[r];let o;o=s.isInterleavedBufferAttribute?new jP(i(t.data,s.data),s.itemSize,s.offset,s.normalized):new PS(GS(s.type,s.array),s.itemSize,s.normalized),void 0!==s.name&&(o.name=s.name),n.push(o)}r.morphAttributes[h]=n}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(let h=0,u=c.length;h!==u;++h){const t=c[h];r.addGroup(t.start,t.count,t.materialIndex)}const l=t.data.boundingSphere;if(void 0!==l){const t=new $x;void 0!==l.center&&t.fromArray(l.center),r.boundingSphere=new yM(t,l.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}),qA.prototype=Object.assign(Object.create(ZO.prototype),{constructor:qA,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=qO.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout(function(){e&&e(s),r.manager.itemEnd(t)},0),s;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,o).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,r.options)}).then(function(n){qO.add(t,n),e&&e(n),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}),Object.assign(YA.prototype,{moveTo:function(t,e){return this.currentPath=new TA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,r,s){return this.currentPath.bezierCurveTo(t,e,n,i,r,s),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new CA;r.curves=i.curves,e.push(r)}return e}function i(t,e){const n=e.length;let i=!1;for(let r=n-1,s=0;s<n;r=s++){let n=e[r],o=e[s],a=o.x-n.x,c=o.y-n.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(n=e[s],a=-a,o=e[r],c=-c),t.y<n.y||t.y>o.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=c*(t.x-n.x)-a*(t.y-n.y);if(0===e)return!0;if(e<0)continue;i=!i}}else{if(t.y!==n.y)continue;if(o.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=o.x)return!0}}return i}const r=mO.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===e)return n(s);let o,a,c;const l=[];if(1===s.length)return a=s[0],c=new CA,c.curves=a.curves,l.push(c),l;let h=!r(s[0].getPoints());h=t?!h:h;const u=[],d=[];let p,m,f=[],g=0;d[g]=void 0,f[g]=[];for(let v=0,y=s.length;v<y;v++)a=s[v],p=a.getPoints(),o=r(p),o=t?!o:o,o?(!h&&d[g]&&g++,d[g]={s:new CA,p:p},d[g].s.curves=a.curves,h&&g++,f[g]=[]):f[g].push({h:a,p:p[0]});if(!d[0])return n(s);if(d.length>1){let t=!1;const e=[];for(let n=0,i=d.length;n<i;n++)u[n]=[];for(let n=0,r=d.length;n<r;n++){const r=f[n];for(let s=0;s<r.length;s++){const o=r[s];let a=!0;for(let r=0;r<d.length;r++)i(o.p,d[r].p)&&(n!==r&&e.push({froms:n,tos:r,hole:s}),a?(a=!1,u[r].push(o)):t=!0);a&&u[n].push(o)}}e.length>0&&(t||(f=u))}for(let v=0,y=d.length;v<y;v++){c=d[v].s,l.push(c),m=f[v];for(let t=0,e=m.length;t<e;t++)c.holes.push(m[t].h)}return l}});class ZA{constructor(t){Object.defineProperty(this,"isFont",{value:!0}),this.type="Font",this.data=t}generateShapes(t,e=100){const n=[],i=function(t,e,n){const i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[];let a=0,c=0;for(let l=0;l<i.length;l++){const t=i[l];if("\n"===t)a=0,c-=s;else{const e=KA(t,r,a,c,n);a+=e.offsetX,o.push(e.path)}}return o}(t,e,this.data);for(let r=0,s=i.length;r<s;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}function KA(t,e,n,i,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");const o=new YA;let a,c,l,h,u,d,p,m;if(s.o){const t=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let r=0,s=t.length;r<s;)switch(t[r++]){case"m":a=t[r++]*e+n,c=t[r++]*e+i,o.moveTo(a,c);break;case"l":a=t[r++]*e+n,c=t[r++]*e+i,o.lineTo(a,c);break;case"q":l=t[r++]*e+n,h=t[r++]*e+i,u=t[r++]*e+n,d=t[r++]*e+i,o.quadraticCurveTo(u,d,l,h);break;case"b":l=t[r++]*e+n,h=t[r++]*e+i,u=t[r++]*e+n,d=t[r++]*e+i,p=t[r++]*e+n,m=t[r++]*e+i,o.bezierCurveTo(u,d,p,m,l,h)}}return{offsetX:s.ha*e,path:o}}function QA(t){ZO.call(this,t)}let JA;function $A(t){ZO.call(this,t)}function tI(t,e,n){GA.call(this,void 0,n);const i=(new bS).set(t),r=(new bS).set(e),s=new $x(i.r,i.g,i.b),o=new $x(r.r,r.g,r.b),a=Math.sqrt(Math.PI),c=a*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(a),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(c)}function eI(t,e){GA.call(this,void 0,e);const n=(new bS).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}QA.prototype=Object.assign(Object.create(ZO.prototype),{constructor:QA,load:function(t,e,n,i){const r=this,s=new QO(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(t){let n;try{n=JSON.parse(t)}catch(s){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}const i=r.parse(n);e&&e(i)},n,i)},parse:function(t){return new ZA(t)}}),$A.prototype=Object.assign(Object.create(ZO.prototype),{constructor:$A,load:function(t,e,n,i){const r=this,s=new QO(r.manager);s.setResponseType("arraybuffer"),s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,function(n){try{const t=n.slice(0);(void 0===JA&&(JA=new(window.AudioContext||window.webkitAudioContext)),JA).decodeAudioData(t,function(t){e(t)})}catch(s){i?i(s):console.error(s),r.manager.itemError(t)}},n,i)}}),tI.prototype=Object.assign(Object.create(GA.prototype),{constructor:tI,isHemisphereLightProbe:!0,copy:function(t){return GA.prototype.copy.call(this,t),this},toJSON:function(t){return GA.prototype.toJSON.call(this,t)}}),eI.prototype=Object.assign(Object.create(GA.prototype),{constructor:eI,isAmbientLightProbe:!0,copy:function(t){return GA.prototype.copy.call(this,t),this},toJSON:function(t){return GA.prototype.toJSON.call(this,t)}});const nI=new PM,iI=new PM;function rI(t,e,n){let i,r,s;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new bT,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new bT,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}).prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),i=e.eyeSep/2,r=i*e.near/e.focus,s=e.near*Math.tan(zx.DEG2RAD*e.fov*.5)/e.zoom;let o,a;iI.elements[12]=-i,nI.elements[12]=i,o=-s*e.aspect+r,a=s*e.aspect+r,n.elements[0]=2*e.near/(a-o),n.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(n),o=-s*e.aspect-r,a=s*e.aspect-r,n.elements[0]=2*e.near/(a-o),n.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(iI),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(nI)}}),Object.assign(rI.prototype,{accumulate:function(t,e){const n=this.buffer,i=this.valueSize,r=t*i+i;let s=this.cumulativeWeight;if(0===s){for(let t=0;t!==i;++t)n[r+t]=n[t];s=e}else s+=e,this._mixBufferRegion(n,r,0,e/s,i);this.cumulativeWeight=s},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,e*this._origIndex,1-r,e),s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let a=e,c=e+e;a!==c;++a)if(n[a]!==n[a+e]){o.setValue(n,i);break}},saveOriginalState:function(){const t=this.buffer,e=this.valueSize,n=e*this._origIndex;this.binding.getValue(t,n);for(let i=e,r=n;i!==r;++i)t[i]=t[n+i%e];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,r){if(i>=.5)for(let s=0;s!==r;++s)t[e+s]=t[n+s]},_slerp:function(t,e,n,i){Jx.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,r){const s=this._workIndex*r;Jx.multiplyQuaternionsFlat(t,s,t,e,t,n),Jx.slerpFlat(t,e,t,e,t,s,i)},_lerp:function(t,e,n,i,r){const s=1-i;for(let o=0;o!==r;++o){const r=e+o;t[r]=t[r]*s+t[n+o]*i}},_lerpAdditive:function(t,e,n,i,r){for(let s=0;s!==r;++s){const r=e+s;t[r]=t[r]+t[n+s]*i}}});const sI=new RegExp("[\\[\\]\\.:\\/]","g"),oI="[^\\[\\]\\.:\\/]",aI="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",cI=/((?:WC+[\/:])*)/.source.replace("WC",oI),lI=/(WCOD+)?/.source.replace("WCOD",aI),hI=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",oI),uI=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",oI),dI=new RegExp("^"+cI+lI+hI+uI+"$"),pI=["material","materials","bones"];function mI(t,e,n){const i=n||fI.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function fI(t,e,n){this.path=e,this.parsedPath=n||fI.parseTrackName(e),this.node=fI.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(mI.prototype,{getValue:function(t,e){this.bind();const n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(fI,{Composite:mI,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new fI.Composite(t,e,n):new fI(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(sI,"")},parseTrackName:function(t){const e=dI.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==pI.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const s=n(r.children);if(s)return s}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(fI.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=fI.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[i]}}const s=t[i];if(void 0===s)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+e.nodeName+"."+i+" but it wasn't found.",t);let o=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(a=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][o]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(fI.prototype,{_getValue_unbound:fI.prototype.getValue,_setValue_unbound:fI.prototype.setValue}),Object.assign((function(){this.uuid=zx.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,i=arguments.length;n!==i;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}).prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let o,a=t.length,c=this.nCachedObjects_;for(let l=0,h=arguments.length;l!==h;++l){const h=arguments[l],u=h.uuid;let d=e[u];if(void 0===d){d=a++,e[u]=d,t.push(h);for(let t=0,e=s;t!==e;++t)r[t].push(new fI(h,n[t],i[t]))}else if(d<c){o=t[d];const a=--c,l=t[a];e[l.uuid]=d,t[d]=l,e[u]=a,t[a]=h;for(let t=0,e=s;t!==e;++t){const e=r[t];let s=e[d];e[d]=e[a],void 0===s&&(s=new fI(h,n[t],i[t])),e[a]=s}}else t[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const o=arguments[s],a=o.uuid,c=e[a];if(void 0!==c&&c>=r){const s=r++,l=t[s];e[l.uuid]=c,t[c]=l,e[a]=s,t[s]=o;for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[c];e[c]=e[s],e[s]=i}}}this.nCachedObjects_=r},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=t.length;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o].uuid,c=e[a];if(void 0!==c)if(delete e[a],c<r){const o=--r,a=t[o],l=--s,h=t[l];e[a.uuid]=c,t[c]=a,e[h.uuid]=o,t[o]=h,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[l];e[c]=e[o],e[o]=i,e.pop()}}else{const r=--s,o=t[r];r>0&&(e[o.uuid]=c),t[c]=o,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t];e[c]=e[r],e.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const r=this._bindings;if(void 0!==i)return r[i];const s=this._paths,o=this._parsedPaths,a=this._objects,c=this.nCachedObjects_,l=new Array(a.length);i=r.length,n[t]=i,s.push(t),o.push(e),r.push(l);for(let h=c,u=a.length;h!==u;++h)l[h]=new fI(a[h],t,e);return l},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o];e[t[o]]=n,s[n]=a,s.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}});class gI{constructor(t,e,n=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=i;const r=e.tracks,s=r.length,o=new Array(s),a={endingStart:Ax,endingEnd:Ax};for(let c=0;c!==s;++c){const t=r[c].createInterpolant(null);o[c]=t,t.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,i=t._clip.duration,r=n/i;t.warp(1,i/n,e),this.warp(r,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const i=this._mixer,r=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const a=o.parameterPositions,c=o.sampleValues;return a[0]=r,a[1]=r+n,c[0]=t/s,c[1]=e/s,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const i=(t-r)*n;if(i<0||0===n)return;this._startTime=null,e=n*i}e*=this._updateTimeScale(t);const s=this._updateTime(e),o=this._updateWeight(t);if(o>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case 2501:for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(s),e[n].accumulateAdditive(o);break;case 2500:default:for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(s),e[n].accumulate(i,o)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let i=this.time+t,r=this._loopCount;const s=2202===n;if(0===t)return-1===r?i:s&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),i>=e||i<0){const n=Math.floor(i/e);i-=e*n,r+=Math.abs(n);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===o){const e=t<0;this._setEndings(e,!e,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(s&&1==(1&r))return e-i}return i}_setEndings(t,e,n){const i=this._interpolantSettings;n?(i.endingStart=Ix,i.endingEnd=Ix):(i.endingStart=t?this.zeroSlopeAtStart?Ix:Ax:Lx,i.endingEnd=e?this.zeroSlopeAtEnd?Ix:Ax:Lx)}_scheduleFading(t,e,n){const i=this._mixer,r=i.time;let s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,a=s.sampleValues;return o[0]=r,a[0]=e,o[1]=r+t,a[1]=n,this}}function vI(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}vI.prototype=Object.assign(Object.create(Fx.prototype),{constructor:vI,_bindAction:function(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,s=t._propertyBindings,o=t._interpolants,a=n.uuid,c=this._bindingsByRootAndName;let l=c[a];void 0===l&&(l={},c[a]=l);for(let h=0;h!==r;++h){const t=i[h],r=t.name;let c=l[r];if(void 0!==c)s[h]=c;else{if(c=s[h],void 0!==c){null===c._cacheIndex&&(++c.referenceCount,this._addInactiveBinding(c,a,r));continue}c=new rI(fI.create(n,r,e&&e._propertyBindings[h].binding.parsedPath),t.ValueTypeName,t.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,a,r),s[h]=c}o[h].resultBuffer=c.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const i=this._actions,r=this._actionsByClip;let s=r[e];if(void 0===s)s={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=s;else{const e=s.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=i.length,i.push(t),s.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,c=a[a.length-1],l=t._byClipCacheIndex;c._byClipCacheIndex=l,a[l]=c,a.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete s[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let n=0,i=e.length;n!==i;++n){const t=e[n];0==--t.referenceCount&&this._removeInactiveBinding(t)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[e];void 0===s&&(s={},i[e]=s),s[n]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,o=s[i],a=e[e.length-1],c=t._cacheIndex;a._cacheIndex=c,e[c]=a,e.pop(),delete o[r],0===Object.keys(o).length&&delete s[i]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new kO(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const i=e||this._root,r=i.uuid;let s="string"==typeof t?WO.findByName(i,t):t;const o=null!==s?s.uuid:t,a=this._actionsByClip[o];let c=null;if(void 0===n&&(n=null!==s?s.blendMode:2500),void 0!==a){const t=a.actionByRoot[r];if(void 0!==t&&t.blendMode===n)return t;c=a.knownActions[0],null===s&&(s=c._clip)}if(null===s)return null;const l=new gI(this,s,e,n);return this._bindAction(l,c),this._addInactiveAction(l,o,r),l},existingAction:function(t,e){const n=e||this._root,i=n.uuid,r="string"==typeof t?WO.findByName(n,t):t,s=this._actionsByClip[r?r.uuid:t];return void 0!==s&&s.actionByRoot[i]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){const e=this._actions,n=this._nActiveActions,i=this.time+=t*=this.timeScale,r=Math.sign(t),s=this._accuIndex^=1;for(let c=0;c!==n;++c)e[c]._update(i,t,r,s);const o=this._bindings,a=this._nActiveBindings;for(let c=0;c!==a;++c)o[c].apply(s);return this},setTime:function(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const t=r.knownActions;for(let n=0,i=t.length;n!==i;++n){const i=t[n];this._deactivateAction(i);const r=i._cacheIndex,s=e[e.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,s._cacheIndex=r,e[r]=s,e.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const r in n){const t=n[r].actionByRoot[e];void 0!==t&&(this._deactivateAction(t),this._removeInactiveAction(t))}const i=this._bindingsByRootAndName[e];if(void 0!==i)for(const r in i){const t=i[r];t.restoreOriginalState(),this._removeInactiveBinding(t)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class yI{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new yI(void 0===this.value.clone?this.value:this.value.clone())}}function _I(t,e,n){FP.call(this,t,e),this.meshPerAttribute=n||1}function bI(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function wI(t,e,n,i){this.ray=new CM(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new BM,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function xI(t,e){return t.distance-e.distance}function MI(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)MI(i[t],e,n,!0)}}_I.prototype=Object.assign(Object.create(FP.prototype),{constructor:_I,isInstancedInterleavedBuffer:!0,copy:function(t){return FP.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=FP.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=FP.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(bI.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(bI.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(wI.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)},intersectObject:function(t,e,n){const i=n||[];return MI(t,this,i,e),i.sort(xI),i},intersectObjects:function(t,e,n){const i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,s=t.length;r<s;r++)MI(t[r],this,i,e);return i.sort(xI),i}});class SI{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(zx.clamp(e/this.radius,-1,1))),this}}const TI=new Ux;function CI(t){JM.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(CI.prototype=Object.create(JM.prototype)).constructor=CI,CI.prototype.isImmediateRenderObject=!0;const PI=new $x,EI=new PM,OI=new PM;function AI(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,AI(t.children[n]));return e}const II=new Float32Array(1),LI=(new Int32Array(II.buffer),Math.pow(2,8),new SS({side:1,depthWrite:!1,depthTest:!1}));function RI(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),dA.call(this,t),this.type="catmullrom"}new dT(new mT,LI),Math.sqrt(5),rA.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(rA.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(TA.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Object.create(dA.prototype),Object.create(dA.prototype),RI.prototype=Object.create(dA.prototype),Object.assign(RI.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),class extends IE{constructor(t=10,e=10,n=4473924,i=8947848){n=new bS(n),i=new bS(i);const r=e/2,s=t/e,o=t/2,a=[],c=[];for(let h=0,u=0,d=-o;h<=e;h++,d+=s){a.push(-o,0,d,o,0,d),a.push(d,0,-o,d,0,o);const t=h===r?n:i;t.toArray(c,u),u+=3,t.toArray(c,u),u+=3,t.toArray(c,u),u+=3,t.toArray(c,u),u+=3}const l=new YS;l.setAttribute("position",new NS(a,3)),l.setAttribute("color",new NS(c,3)),super(l,new xE({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends IE{constructor(t){const e=AI(t),n=new YS,i=[],r=[],s=new bS(0,0,1),o=new bS(0,1,0);for(let a=0;a<e.length;a++){const t=e[a];t.parent&&t.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new NS(i,3)),n.setAttribute("color",new NS(r,3)),super(n,new xE({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,i=n.getAttribute("position");OI.copy(this.root.matrixWorld).invert();for(let r=0,s=0;r<e.length;r++){const t=e[r];t.parent&&t.parent.isBone&&(EI.multiplyMatrices(OI,t.matrixWorld),PI.setFromMatrixPosition(EI),i.setXYZ(s,PI.x,PI.y,PI.z),EI.multiplyMatrices(OI,t.parent.matrixWorld),PI.setFromMatrixPosition(EI),i.setXYZ(s+1,PI.x,PI.y,PI.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(ZO.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),UA(t)}}),ZO.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(class{constructor(t,e){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new Ux(1/0,1/0),this.max=void 0!==e?e:new Ux(-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=TI.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Ux),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Ux),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Ux),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Ux),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return TI.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(nM.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(yM.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),ET.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Object.assign(zx,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),zx.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),zx.ceilPowerOfTwo(t)}}),Object.assign(Vx.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(PM.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new $x).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,s)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),nS.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(Jx.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(CM.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(pS.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(pS,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),pS.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),pS.getNormal(t,e,n,i)}}),Object.assign(CA.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new vO(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new bO(this,t)}}),Object.assign(Ux.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign($x.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Kx.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(JM.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(JM.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(dT.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(dT.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(oE.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(gE.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),dE.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(rA.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),bT.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(PA.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(PS.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Hx},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Hx)}}}),Object.assign(PS.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Hx:Nx),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(YS.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new PS(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(YS.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(VA.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(wI.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(FP.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Hx},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(FP.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Hx:Nx),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(vO.prototype,{getArrays:function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")}}),Object.assign(BP.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(yI.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(MS.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new bS}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(TO.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(SO.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(yT.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(NP.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(NP.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?Dx:Rx}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(PP.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Qx.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(class extends JM{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new $A).load(t,function(t){e.setBuffer(t)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),xT.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},xT.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)},Xx.crossOrigin=void 0,Xx.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new iA;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,n,void 0,i);return e&&(s.mapping=e),s},Xx.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new eA;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,n,void 0,i);return e&&(s.mapping=e),s},Xx.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Xx.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"125"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="125");var DI=function(t,e){var n,i,r,s,o,a;void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.enabled=!0,this.target=new $x,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return f.phi},this.getAzimuthalAngle=function(){return f.theta},this.listenToKeyEvents=function(t){t.addEventListener("keydown",K),this._domElementKeyEvents=t},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(l),c.update(),p=d.NONE},this.update=(n=new $x,i=(new Jx).setFromUnitVectors(t.up,new $x(0,1,0)),r=i.clone().invert(),s=new $x,o=new Jx,a=2*Math.PI,function(){var t=c.object.position;n.copy(t).sub(c.target),n.applyQuaternion(i),f.setFromVector3(n),c.autoRotate&&p===d.NONE&&A(2*Math.PI/60/60*c.autoRotateSpeed),c.enableDamping?(f.theta+=g.theta*c.dampingFactor,f.phi+=g.phi*c.dampingFactor):(f.theta+=g.theta,f.phi+=g.phi);var e=c.minAzimuthAngle,h=c.maxAzimuthAngle;return isFinite(e)&&isFinite(h)&&(e<-Math.PI?e+=a:e>Math.PI&&(e-=a),h<-Math.PI?h+=a:h>Math.PI&&(h-=a),f.theta=e<=h?Math.max(e,Math.min(h,f.theta)):f.theta>(e+h)/2?Math.max(e,f.theta):Math.min(h,f.theta)),f.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=v,f.radius=Math.max(c.minDistance,Math.min(c.maxDistance,f.radius)),!0===c.enableDamping?c.target.addScaledVector(y,c.dampingFactor):c.target.add(y),n.setFromSpherical(f),n.applyQuaternion(r),t.copy(c.target).add(n),c.object.lookAt(c.target),!0===c.enableDamping?(g.theta*=1-c.dampingFactor,g.phi*=1-c.dampingFactor,y.multiplyScalar(1-c.dampingFactor)):(g.set(0,0,0),y.set(0,0,0)),v=1,!!(_||s.distanceToSquared(c.object.position)>m||8*(1-o.dot(c.object.quaternion))>m)&&(c.dispatchEvent(l),s.copy(c.object.position),o.copy(c.object.quaternion),_=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",tt),c.domElement.removeEventListener("pointerdown",X),c.domElement.removeEventListener("wheel",Z),c.domElement.removeEventListener("touchstart",Q),c.domElement.removeEventListener("touchend",$),c.domElement.removeEventListener("touchmove",J),c.domElement.ownerDocument.removeEventListener("pointermove",q),c.domElement.ownerDocument.removeEventListener("pointerup",Y),null!==c._domElementKeyEvents&&c._domElementKeyEvents.removeEventListener("keydown",K)};var c=this,l={type:"change"},h={type:"start"},u={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},p=d.NONE,m=1e-6,f=new SI,g=new SI,v=1,y=new $x,_=!1,b=new Ux,w=new Ux,x=new Ux,M=new Ux,S=new Ux,T=new Ux,C=new Ux,P=new Ux,E=new Ux;function O(){return Math.pow(.95,c.zoomSpeed)}function A(t){g.theta-=t}function I(t){g.phi-=t}var L,R=(L=new $x,function(t,e){L.setFromMatrixColumn(e,0),L.multiplyScalar(-t),y.add(L)}),D=function(){var t=new $x;return function(e,n){!0===c.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(c.object.up,t)),t.multiplyScalar(e),y.add(t)}}(),k=function(){var t=new $x;return function(e,n){var i=c.domElement;if(c.object.isPerspectiveCamera){t.copy(c.object.position).sub(c.target);var r=t.length();r*=Math.tan(c.object.fov/2*Math.PI/180),R(2*e*r/i.clientHeight,c.object.matrix),D(2*n*r/i.clientHeight,c.object.matrix)}else c.object.isOrthographicCamera?(R(e*(c.object.right-c.object.left)/c.object.zoom/i.clientWidth,c.object.matrix),D(n*(c.object.top-c.object.bottom)/c.object.zoom/i.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function N(t){c.object.isPerspectiveCamera?v/=t:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*t)),c.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function H(t){c.object.isPerspectiveCamera?v*=t:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/t)),c.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function B(t){b.set(t.clientX,t.clientY)}function F(t){M.set(t.clientX,t.clientY)}function G(t){1==t.touches.length?b.set(t.touches[0].pageX,t.touches[0].pageY):b.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY))}function j(t){1==t.touches.length?M.set(t.touches[0].pageX,t.touches[0].pageY):M.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY))}function z(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);C.set(0,i)}function U(t){1==t.touches.length?w.set(t.touches[0].pageX,t.touches[0].pageY):w.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY)),x.subVectors(w,b).multiplyScalar(c.rotateSpeed);var e=c.domElement;A(2*Math.PI*x.x/e.clientHeight),I(2*Math.PI*x.y/e.clientHeight),b.copy(w)}function V(t){1==t.touches.length?S.set(t.touches[0].pageX,t.touches[0].pageY):S.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY)),T.subVectors(S,M).multiplyScalar(c.panSpeed),k(T.x,T.y),M.copy(S)}function W(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);P.set(0,i),E.set(0,Math.pow(P.y/C.y,c.zoomSpeed)),N(E.y),C.copy(P)}function X(t){if(!1!==c.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){var e;switch(t.preventDefault(),c.domElement.focus?c.domElement.focus():window.focus(),t.button){case 0:e=c.mouseButtons.LEFT;break;case 1:e=c.mouseButtons.MIDDLE;break;case 2:e=c.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===c.enableZoom)return;!function(t){C.set(t.clientX,t.clientY)}(t),p=d.DOLLY;break;case 0:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===c.enablePan)return;F(t),p=d.PAN}else{if(!1===c.enableRotate)return;B(t),p=d.ROTATE}break;case 2:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===c.enableRotate)return;B(t),p=d.ROTATE}else{if(!1===c.enablePan)return;F(t),p=d.PAN}break;default:p=d.NONE}p!==d.NONE&&(c.domElement.ownerDocument.addEventListener("pointermove",q),c.domElement.ownerDocument.addEventListener("pointerup",Y),c.dispatchEvent(h))}(t)}}function q(t){if(!1!==c.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){if(!1!==c.enabled)switch(t.preventDefault(),p){case d.ROTATE:if(!1===c.enableRotate)return;!function(t){w.set(t.clientX,t.clientY),x.subVectors(w,b).multiplyScalar(c.rotateSpeed);var e=c.domElement;A(2*Math.PI*x.x/e.clientHeight),I(2*Math.PI*x.y/e.clientHeight),b.copy(w),c.update()}(t);break;case d.DOLLY:if(!1===c.enableZoom)return;!function(t){P.set(t.clientX,t.clientY),E.subVectors(P,C),E.y>0?N(O()):E.y<0&&H(O()),C.copy(P),c.update()}(t);break;case d.PAN:if(!1===c.enablePan)return;!function(t){S.set(t.clientX,t.clientY),T.subVectors(S,M).multiplyScalar(c.panSpeed),k(T.x,T.y),M.copy(S),c.update()}(t)}}(t)}}function Y(t){switch(t.pointerType){case"mouse":case"pen":c.domElement.ownerDocument.removeEventListener("pointermove",q),c.domElement.ownerDocument.removeEventListener("pointerup",Y),!1!==c.enabled&&(c.dispatchEvent(u),p=d.NONE)}}function Z(t){!1===c.enabled||!1===c.enableZoom||p!==d.NONE&&p!==d.ROTATE||(t.preventDefault(),t.stopPropagation(),c.dispatchEvent(h),function(t){t.deltaY<0?H(O()):t.deltaY>0&&N(O()),c.update()}(t),c.dispatchEvent(u))}function K(t){!1!==c.enabled&&!1!==c.enablePan&&function(t){var e=!1;switch(t.keyCode){case c.keys.UP:k(0,c.keyPanSpeed),e=!0;break;case c.keys.BOTTOM:k(0,-c.keyPanSpeed),e=!0;break;case c.keys.LEFT:k(c.keyPanSpeed,0),e=!0;break;case c.keys.RIGHT:k(-c.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),c.update())}(t)}function Q(t){if(!1!==c.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(c.touches.ONE){case 0:if(!1===c.enableRotate)return;G(t),p=d.TOUCH_ROTATE;break;case 1:if(!1===c.enablePan)return;j(t),p=d.TOUCH_PAN;break;default:p=d.NONE}break;case 2:switch(c.touches.TWO){case 2:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(t){c.enableZoom&&z(t),c.enablePan&&j(t)}(t),p=d.TOUCH_DOLLY_PAN;break;case 3:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(t){c.enableZoom&&z(t),c.enableRotate&&G(t)}(t),p=d.TOUCH_DOLLY_ROTATE;break;default:p=d.NONE}break;default:p=d.NONE}p!==d.NONE&&c.dispatchEvent(h)}}function J(t){if(!1!==c.enabled)switch(t.preventDefault(),t.stopPropagation(),p){case d.TOUCH_ROTATE:if(!1===c.enableRotate)return;U(t),c.update();break;case d.TOUCH_PAN:if(!1===c.enablePan)return;V(t),c.update();break;case d.TOUCH_DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(t){c.enableZoom&&W(t),c.enablePan&&V(t)}(t),c.update();break;case d.TOUCH_DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(t){c.enableZoom&&W(t),c.enableRotate&&U(t)}(t),c.update();break;default:p=d.NONE}}function $(t){!1!==c.enabled&&(c.dispatchEvent(u),p=d.NONE)}function tt(t){!1!==c.enabled&&t.preventDefault()}c.domElement.addEventListener("contextmenu",tt),c.domElement.addEventListener("pointerdown",X),c.domElement.addEventListener("wheel",Z),c.domElement.addEventListener("touchstart",Q),c.domElement.addEventListener("touchend",$),c.domElement.addEventListener("touchmove",J),this.update()};(DI.prototype=Object.create(Fx.prototype)).constructor=DI;var kI=function(t,e){DI.call(this,t,e),this.screenSpacePanning=!1,this.mouseButtons.LEFT=2,this.mouseButtons.RIGHT=0,this.touches.ONE=1,this.touches.TWO=3};(kI.prototype=Object.create(Fx.prototype)).constructor=kI;var NI=function(){function t(t){ZO.call(this,t),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new o(t)}),this.register(function(t){return new c(t)}),this.register(function(t){return new l(t)}),this.register(function(t){return new a(t)}),this.register(function(t){return new r(t)}),this.register(function(t){return new h(t)})}function e(){var t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype=Object.assign(Object.create(ZO.prototype),{constructor:t,load:function(t,e,n,i){var r,s=this;r=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:UA(t),this.manager.itemStart(t);var o=function(e){i?i(e):console.error(e),s.manager.itemError(t),s.manager.itemEnd(t)},a=new QO(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(n){try{s.parse(n,r,function(n){e(n),s.manager.itemEnd(t)},o)}catch(i){o(i)}},n,o)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},setKTX2Loader:function(t){return this.ktx2Loader=t,this},setMeshoptDecoder:function(t){return this.meshoptDecoder=t,this},register:function(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this},unregister:function(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this},parse:function(t,e,r,o){var a,c={},l={};if("string"==typeof t)a=t;else if(zA(new Uint8Array(t,0,4))===u){try{c[n.KHR_BINARY_GLTF]=new d(t)}catch(x){return void(o&&o(x))}a=c[n.KHR_BINARY_GLTF].content}else a=zA(new Uint8Array(t));var h=JSON.parse(a);if(void 0===h.asset||h.asset.version[0]<2)o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var f=new I(h,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});f.fileLoader.setRequestHeader(this.requestHeader);for(var y=0;y<this.pluginCallbacks.length;y++){var _=this.pluginCallbacks[y](f);l[_.name]=_,c[_.name]=!0}if(h.extensionsUsed)for(y=0;y<h.extensionsUsed.length;++y){var b=h.extensionsUsed[y],w=h.extensionsRequired||[];switch(b){case n.KHR_MATERIALS_UNLIT:c[b]=new s;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:c[b]=new g;break;case n.KHR_DRACO_MESH_COMPRESSION:c[b]=new p(h,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:c[b]=new i(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:c[b]=new m;break;case n.KHR_MESH_QUANTIZATION:c[b]=new v;break;default:w.indexOf(b)>=0&&void 0===l[b]&&console.warn('THREE.GLTFLoader: Unknown extension "'+b+'".')}}f.setExtensions(c),f.setPlugins(l),f.parse(r,o)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function i(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=t}function r(t){this.parser=t,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function s(){this.name=n.KHR_MATERIALS_UNLIT}function o(t){this.parser=t,this.name=n.KHR_MATERIALS_CLEARCOAT}function a(t){this.parser=t,this.name=n.KHR_MATERIALS_TRANSMISSION}function c(t){this.parser=t,this.name=n.KHR_TEXTURE_BASISU}function l(t){this.parser=t,this.name=n.EXT_TEXTURE_WEBP,this.isSupported=null}function h(t){this.name=n.EXT_MESHOPT_COMPRESSION,this.parser=t}r.prototype._markDefs=function(){for(var t=this.parser,e=this.parser.json.nodes||[],n=0,i=e.length;n<i;n++){var r=e[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}},r.prototype._loadLight=function(t){var e=this.parser,n="light:"+t,i=e.cache.get(n);if(i)return i;var r,s=e.json,o=((s.extensions&&s.extensions[this.name]||{}).lights||[])[t],a=new bS(16777215);void 0!==o.color&&a.fromArray(o.color);var c=void 0!==o.range?o.range:0;switch(o.type){case"directional":(r=new NA(a)).target.position.set(0,0,-1),r.add(r.target);break;case"point":(r=new RA(a)).distance=c;break;case"spot":(r=new IA(a)).distance=c,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,r.angle=o.spot.outerConeAngle,r.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return r.position.set(0,0,0),r.decay=2,void 0!==o.intensity&&(r.intensity=o.intensity),r.name=e.createUniqueName(o.name||"light_"+t),i=Promise.resolve(r),e.cache.add(n,i),i},r.prototype.createNodeAttachment=function(t){var e=this,n=this.parser,i=n.json.nodes[t],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then(function(t){return n._getNodeRef(e.cache,r,t)})},s.prototype.getMaterialType=function(){return SS},s.prototype.extendParams=function(t,e,n){var i=[];t.color=new bS(1,1,1),t.opacity=1;var r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){var s=r.baseColorFactor;t.color.fromArray(s),t.opacity=s[3]}void 0!==r.baseColorTexture&&i.push(n.assignTexture(t,"map",r.baseColorTexture))}return Promise.all(i)},o.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?SO:null},o.prototype.extendMaterialParams=function(t,e){var n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var r=[],s=i.extensions[this.name];if(void 0!==s.clearcoatFactor&&(e.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(e.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){var o=s.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Ux(o,-o)}return Promise.all(r)},a.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?SO:null},a.prototype.extendMaterialParams=function(t,e){var n=this.parser,i=n.json.materials[t];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var r=[],s=i.extensions[this.name];return void 0!==s.transmissionFactor&&(e.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",s.transmissionTexture)),Promise.all(r)},c.prototype.loadTexture=function(t){var e=this.parser,n=e.json,i=n.textures[t];if(!i.extensions||!i.extensions[this.name])return null;var r=n.images[i.extensions[this.name].source],s=e.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r,s)},l.prototype.loadTexture=function(t){var e=this.name,n=this.parser,i=n.json,r=i.textures[t];if(!r.extensions||!r.extensions[e])return null;var s=i.images[r.extensions[e].source],o=s.uri?n.options.manager.getHandler(s.uri):n.textureLoader;return this.detectSupport().then(function(r){if(r)return n.loadTextureImage(t,s,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})},l.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise(function(t){var e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported},h.prototype.loadBufferView=function(t){var e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){var i=n.extensions[this.name],r=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,s.ready]).then(function(t){var e=i.byteOffset||0,n=i.byteLength||0,r=i.count,o=i.byteStride,a=new ArrayBuffer(r*o),c=new Uint8Array(t[0],e,n);return s.decodeGltfBuffer(new Uint8Array(a),r,o,c,i.mode,i.filter),a})}return null};var u="glTF";function d(t){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,12);if(this.header={magic:zA(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==u)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,r=new DataView(t,12),s=0;s<i;){var o=r.getUint32(s,!0),a=r.getUint32(s+=4,!0);if(s+=4,1313821514===a){var c=new Uint8Array(t,12+s,o);this.content=zA(c)}else if(5130562===a){var l=12+s;this.body=t.slice(l,l+o)}s+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function p(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}function m(){this.name=n.KHR_TEXTURE_TRANSFORM}function f(t){MO.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),o={specular:{value:(new bS).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(t){for(var a in o)t.uniforms[a]=o[a];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(t){o.specular.value=t}},specularMap:{get:function(){return o.specularMap.value},set:function(t){o.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(t){o.glossiness.value=t}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(t){o.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}function g(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return f},extendParams:function(t,e,n){var i=e.extensions[this.name];t.color=new bS(1,1,1),t.opacity=1;var r=[];if(Array.isArray(i.diffuseFactor)){var s=i.diffuseFactor;t.color.fromArray(s),t.opacity=s[3]}if(void 0!==i.diffuseTexture&&r.push(n.assignTexture(t,"map",i.diffuseTexture)),t.emissive=new bS(0,0,0),t.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,t.specular=new bS(1,1,1),Array.isArray(i.specularFactor)&&t.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var o=i.specularGlossinessTexture;r.push(n.assignTexture(t,"glossinessMap",o)),r.push(n.assignTexture(t,"specularMap",o))}return Promise.all(r)},createMaterial:function(t){var e=new f(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=0,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}}function v(){this.name=n.KHR_MESH_QUANTIZATION}function y(t,e,n,i){RO.call(this,t,e,n,i)}p.prototype.decodePrimitive=function(t,e){var n=this.json,i=this.dracoLoader,r=t.extensions[this.name].bufferView,s=t.extensions[this.name].attributes,o={},a={},c={};for(var l in s){var h=M[l]||l.toLowerCase();o[h]=s[l]}for(l in t.attributes)if(h=M[l]||l.toLowerCase(),void 0!==s[l]){var u=n.accessors[t.attributes[l]];c[h]=_[u.componentType],a[h]=!0===u.normalized}return e.getDependency("bufferView",r).then(function(t){return new Promise(function(e){i.decodeDracoFile(t,function(t){for(var n in t.attributes){var i=a[n];void 0!==i&&(t.attributes[n].normalized=i)}e(t)},o,c)})})},m.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.needsUpdate=!0,t},(f.prototype=Object.create(MO.prototype)).constructor=f,f.prototype.copy=function(t){return MO.prototype.copy.call(this,t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},(y.prototype=Object.create(RO.prototype)).constructor=y,y.prototype.beforeStart_=y.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i*3+i,s=0;s!==i;s++)e[s]=n[r+s];return e},y.prototype.afterEnd_=y.prototype.copySampleValue_,y.prototype.interpolate_=function(t,e,n,i){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=2*o,c=3*o,l=i-e,h=(n-e)/l,u=h*h,d=u*h,p=t*c,m=p-c,f=-2*d+3*u,g=d-u,v=1-f,y=g-u+h,_=0;_!==o;_++)r[_]=v*s[m+_+o]+y*(s[m+_+a]*l)+f*s[p+_+o]+g*(s[p+_]*l);return r};var _={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},b={9728:px,9729:gx,9984:mx,9985:1007,9986:fx,9987:vx},w={33071:ux,33648:dx,10497:hx},x={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},M={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},S={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},T={CUBICSPLINE:void 0,LINEAR:Ex,STEP:Px};function C(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function P(t,e,n){for(var i in n.extensions)void 0===t[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function E(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function O(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){var r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length)for(t.morphTargetDictionary={},n=0,i=r.length;n<i;n++)t.morphTargetDictionary[r[n]]=n;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function A(t){for(var e="",n=Object.keys(t).sort(),i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function I(t,n){this.json=t||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},this.textureLoader="undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?new qA(this.options.manager):new iA(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new QO(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function L(t,e,n){var i=e.attributes,r=[];function s(e,i){return n.getDependency("accessor",e).then(function(e){t.setAttribute(i,e)})}for(var o in i){var a=M[o]||o.toLowerCase();a in t.attributes||r.push(s(i[o],a))}if(void 0!==e.indices&&!t.index){var c=n.getDependency("accessor",e.indices).then(function(e){t.setIndex(e)});r.push(c)}return E(t,e),function(t,e,n){var i=e.attributes,r=new nM;if(void 0!==i.POSITION){var s=(u=n.json.accessors[i.POSITION]).max;if(void 0!==(d=u.min)&&void 0!==s){r.set(new $x(d[0],d[1],d[2]),new $x(s[0],s[1],s[2]));var o=e.targets;if(void 0!==o){for(var a=new $x,c=new $x,l=0,h=o.length;l<h;l++){var u,d,p=o[l];void 0!==p.POSITION&&(s=(u=n.json.accessors[p.POSITION]).max,void 0!==(d=u.min)&&void 0!==s?(c.setX(Math.max(Math.abs(d[0]),Math.abs(s[0]))),c.setY(Math.max(Math.abs(d[1]),Math.abs(s[1]))),c.setZ(Math.max(Math.abs(d[2]),Math.abs(s[2]))),a.max(c)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."))}r.expandByVector(a)}t.boundingBox=r;var m=new yM;r.getCenter(m.center),m.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=m}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(t,e,n),Promise.all(r).then(function(){return void 0!==e.targets?function(t,e,n){for(var i=!1,r=!1,s=0,o=e.length;s<o&&(void 0!==(l=e[s]).POSITION&&(i=!0),void 0!==l.NORMAL&&(r=!0),!i||!r);s++);if(!i&&!r)return Promise.resolve(t);var a=[],c=[];for(s=0,o=e.length;s<o;s++){var l=e[s];if(i){var h=void 0!==l.POSITION?n.getDependency("accessor",l.POSITION):t.attributes.position;a.push(h)}r&&(h=void 0!==l.NORMAL?n.getDependency("accessor",l.NORMAL):t.attributes.normal,c.push(h))}return Promise.all([Promise.all(a),Promise.all(c)]).then(function(e){var n=e[1];return i&&(t.morphAttributes.position=e[0]),r&&(t.morphAttributes.normal=n),t.morphTargetsRelative=!0,t})}(t,e.targets,n):t})}function R(t,e){var n=t.getIndex();if(null===n){var i=[],r=t.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var s=0;s<r.count;s++)i.push(s);t.setIndex(i),n=t.getIndex()}var o=n.count-2,a=[];if(2===e)for(s=1;s<=o;s++)a.push(n.getX(0)),a.push(n.getX(s)),a.push(n.getX(s+1));else for(s=0;s<o;s++)s%2==0?(a.push(n.getX(s)),a.push(n.getX(s+1)),a.push(n.getX(s+2))):(a.push(n.getX(s+2)),a.push(n.getX(s+1)),a.push(n.getX(s)));a.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=t.clone();return c.setIndex(a),c}return I.prototype.setExtensions=function(t){this.extensions=t},I.prototype.setPlugins=function(t){this.plugins=t},I.prototype.parse=function(t,e){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(t){return t._markDefs&&t._markDefs()}),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(e){var s={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:n,userData:{}};P(r,s,i),E(s,i),t(s)}).catch(e)},I.prototype._markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],i=0,r=e.length;i<r;i++)for(var s=e[i].joints,o=0,a=s.length;o<a;o++)t[s[o]].isBone=!0;for(var c=0,l=t.length;c<l;c++){var h=t[c];void 0!==h.mesh&&(this._addNodeRef(this.meshCache,h.mesh),void 0!==h.skin&&(n[h.mesh].isSkinnedMesh=!0)),void 0!==h.camera&&this._addNodeRef(this.cameraCache,h.camera)}},I.prototype._addNodeRef=function(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)},I.prototype._getNodeRef=function(t,e,n){if(t.refs[e]<=1)return n;var i=n.clone();return i.name+="_instance_"+t.uses[e]++,i},I.prototype._invokeOne=function(t){var e=Object.values(this.plugins);e.push(this);for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}},I.prototype._invokeAll=function(t){var e=Object.values(this.plugins);e.unshift(this);for(var n=[],i=0;i<e.length;i++){var r=t(e[i]);r&&n.push(r)}return n},I.prototype.getDependency=function(t,e){var n=t+":"+e,i=this.cache.get(n);if(!i){switch(t){case"scene":i=this.loadScene(e);break;case"node":i=this.loadNode(e);break;case"mesh":i=this._invokeOne(function(t){return t.loadMesh&&t.loadMesh(e)});break;case"accessor":i=this.loadAccessor(e);break;case"bufferView":i=this._invokeOne(function(t){return t.loadBufferView&&t.loadBufferView(e)});break;case"buffer":i=this.loadBuffer(e);break;case"material":i=this._invokeOne(function(t){return t.loadMaterial&&t.loadMaterial(e)});break;case"texture":i=this._invokeOne(function(t){return t.loadTexture&&t.loadTexture(e)});break;case"skin":i=this.loadSkin(e);break;case"animation":i=this.loadAnimation(e);break;case"camera":i=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,i)}return i},I.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var n=this;e=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(e,i){return n.getDependency(t,i)})),this.cache.add(t,e)}return e},I.prototype.loadBuffer=function(t){var e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise(function(t,n){i.load(C(e.uri,r.path),t,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})},I.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(t){var n=e.byteOffset||0;return t.slice(n,n+(e.byteLength||0))})},I.prototype.loadAccessor=function(t){var e=this,n=this.json,i=this.json.accessors[t];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);var r=[];return r.push(void 0!==i.bufferView?this.getDependency("bufferView",i.bufferView):null),void 0!==i.sparse&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(t){var r,s=t[0],o=x[i.type],a=_[i.componentType],c=a.BYTES_PER_ELEMENT,l=i.byteOffset||0,h=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,u=!0===i.normalized;if(h&&h!==c*o){var d=Math.floor(l/h),p="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+d+":"+i.count,m=e.cache.get(p);m||(m=new FP(new a(s,d*h,i.count*h/c),h/c),e.cache.add(p,m)),r=new jP(m,o,l%h/c,u)}else r=new PS(null===s?new a(i.count*o):new a(s,l,i.count*o),o,u);if(void 0!==i.sparse){var f=i.sparse.values.byteOffset||0,g=new(0,_[i.sparse.indices.componentType])(t[1],i.sparse.indices.byteOffset||0,i.sparse.count*x.SCALAR),v=new a(t[2],f,i.sparse.count*o);null!==s&&(r=new PS(r.array.slice(),r.itemSize,r.normalized));for(var y=0,b=g.length;y<b;y++){var w=g[y];if(r.setX(w,v[y*o]),o>=2&&r.setY(w,v[y*o+1]),o>=3&&r.setZ(w,v[y*o+2]),o>=4&&r.setW(w,v[y*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return r})},I.prototype.loadTexture=function(t){var e,i,r=this.json,s=r.textures[t],o=s.extensions||{};return(e=o[n.MSFT_TEXTURE_DDS]?r.images[o[n.MSFT_TEXTURE_DDS].source]:r.images[s.source]).uri&&(i=this.options.manager.getHandler(e.uri)),i||(i=o[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(t,e,i)},I.prototype.loadTextureImage=function(t,e,n){var i=this,r=this.json,s=this.options,o=r.textures[t],a=self.URL||self.webkitURL,c=e.uri,l=!1,h=!0;return"image/jpeg"===e.mimeType&&(h=!1),void 0!==e.bufferView&&(c=i.getDependency("bufferView",e.bufferView).then(function(t){if("image/png"===e.mimeType){var n=new DataView(t,25,1).getUint8(0,!1);h=6===n||4===n||3===n}l=!0;var i=new Blob([t],{type:e.mimeType});return c=a.createObjectURL(i)})),Promise.resolve(c).then(function(t){return new Promise(function(e,i){var r=e;!0===n.isImageBitmapLoader&&(r=function(t){e(new zE(t))}),n.load(C(t,s.path),r,void 0,i)})}).then(function(e){!0===l&&a.revokeObjectURL(c),e.flipY=!1,o.name&&(e.name=o.name),h||(e.format=Mx);var n=(r.samplers||{})[o.sampler]||{};return e.magFilter=b[n.magFilter]||gx,e.minFilter=b[n.minFilter]||vx,e.wrapS=w[n.wrapS]||hx,e.wrapT=w[n.wrapT]||hx,i.associations.set(e,{type:"textures",index:t}),e})},I.prototype.assignTexture=function(t,e,i){var r=this;return this.getDependency("texture",i.index).then(function(s){if(void 0===i.texCoord||0==i.texCoord||"aoMap"===e&&1==i.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+e+" not yet supported."),r.extensions[n.KHR_TEXTURE_TRANSFORM]){var o=void 0!==i.extensions?i.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var a=r.associations.get(s);s=r.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),r.associations.set(s,a)}}t[e]=s})},I.prototype.assignFinalMaterial=function(t){var e=t.geometry,n=t.material,i=void 0!==e.attributes.tangent,r=void 0!==e.attributes.color,s=void 0===e.attributes.normal,o=!0===t.isSkinnedMesh,a=Object.keys(e.morphAttributes).length>0,c=a&&void 0!==e.morphAttributes.normal;if(t.isPoints){var l=this.cache.get(u="PointsMaterial:"+n.uuid);l||(l=new RE,MS.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(u,l)),n=l}else if(t.isLine){var h=this.cache.get(u="LineBasicMaterial:"+n.uuid);h||(h=new xE,MS.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(u,h)),n=h}if(i||r||s||o||a){var u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),o&&(u+="skinning:"),i&&(u+="vertex-tangents:"),r&&(u+="vertex-colors:"),s&&(u+="flat-shading:"),a&&(u+="morph-targets:"),c&&(u+="morph-normals:");var d=this.cache.get(u);d||(d=n.clone(),o&&(d.skinning=!0),r&&(d.vertexColors=!0),s&&(d.flatShading=!0),a&&(d.morphTargets=!0),c&&(d.morphNormals=!0),i&&(d.vertexTangents=!0,d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(u,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n},I.prototype.getMaterialType=function(){return MO},I.prototype.loadMaterial=function(t){var e,i=this,r=this.extensions,s=this.json.materials[t],o={},a=s.extensions||{},c=[];if(a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=r[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=l.getMaterialType(),c.push(l.extendParams(o,s,i))}else if(a[n.KHR_MATERIALS_UNLIT]){var h=r[n.KHR_MATERIALS_UNLIT];e=h.getMaterialType(),c.push(h.extendParams(o,s,i))}else{var u=s.pbrMetallicRoughness||{};if(o.color=new bS(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){var d=u.baseColorFactor;o.color.fromArray(d),o.opacity=d[3]}void 0!==u.baseColorTexture&&c.push(i.assignTexture(o,"map",u.baseColorTexture)),o.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,o.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(c.push(i.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),c.push(i.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),e=this._invokeOne(function(e){return e.getMaterialType&&e.getMaterialType(t)}),c.push(Promise.all(this._invokeAll(function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,o)})))}!0===s.doubleSided&&(o.side=2);var p=s.alphaMode||"OPAQUE";return"BLEND"===p?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===p&&(o.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&e!==SS&&(c.push(i.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new Ux(1,-1),void 0!==s.normalTexture.scale&&o.normalScale.set(s.normalTexture.scale,-s.normalTexture.scale)),void 0!==s.occlusionTexture&&e!==SS&&(c.push(i.assignTexture(o,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(o.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&e!==SS&&(o.emissive=(new bS).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&e!==SS&&c.push(i.assignTexture(o,"emissiveMap",s.emissiveTexture)),Promise.all(c).then(function(){var a;return a=e===f?r[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new e(o),s.name&&(a.name=s.name),a.map&&(a.map.encoding=Dx),a.emissiveMap&&(a.emissiveMap.encoding=Dx),E(a,s),i.associations.set(a,{type:"materials",index:t}),s.extensions&&P(r,a,s),a})},I.prototype.createUniqueName=function(t){for(var e=fI.sanitizeNodeName(t||""),n=e,i=1;this.nodeNamesUsed[n];++i)n=e+"_"+i;return this.nodeNamesUsed[n]=!0,n},I.prototype.loadGeometries=function(t){var e=this,i=this.extensions,r=this.primitiveCache;function s(t){return i[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then(function(n){return L(n,t,e)})}for(var o,a,c=[],l=0,h=t.length;l<h;l++){var u,d=t[l],p=(a=(o=d).extensions&&o.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+a.bufferView+":"+a.indices+":"+A(a.attributes):o.indices+":"+A(o.attributes)+":"+o.mode,m=r[p];m?c.push(m.promise):(u=d.extensions&&d.extensions[n.KHR_DRACO_MESH_COMPRESSION]?s(d):L(new YS,d,e),r[p]={primitive:d,promise:u},c.push(u))}return Promise.all(c)},I.prototype.loadMesh=function(t){for(var e,n=this,i=this.extensions,r=this.json.meshes[t],s=r.primitives,o=[],a=0,c=s.length;a<c;a++){var l=void 0===s[a].material?(void 0===(e=this.cache).DefaultMaterial&&(e.DefaultMaterial=new MO({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),e.DefaultMaterial):this.getDependency("material",s[a].material);o.push(l)}return o.push(n.loadGeometries(s)),Promise.all(o).then(function(e){for(var o=e.slice(0,e.length-1),a=e[e.length-1],c=[],l=0,h=a.length;l<h;l++){var u,d=a[l],p=s[l],m=o[l];if(4===p.mode||5===p.mode||6===p.mode||void 0===p.mode)u=!0===r.isSkinnedMesh?new dE(d,m):new dT(d,m),!0===m.isMeshStandardMaterial&&2===m.side&&null!==d.getIndex()&&!0===d.hasAttribute("position")&&!0===d.hasAttribute("normal")&&!0===d.hasAttribute("uv")&&!1===d.hasAttribute("tangent")&&(d.computeTangents(),m.vertexTangents=!0),!0!==u.isSkinnedMesh||u.geometry.attributes.skinWeight.normalized||u.normalizeSkinWeights(),5===p.mode?u.geometry=R(u.geometry,1):6===p.mode&&(u.geometry=R(u.geometry,2));else if(1===p.mode)u=new IE(d,m);else if(3===p.mode)u=new EE(d,m);else if(2===p.mode)u=new LE(d,m);else{if(0!==p.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);u=new BE(d,m)}Object.keys(u.geometry.morphAttributes).length>0&&O(u,r),u.name=n.createUniqueName(r.name||"mesh_"+t),E(u,r),p.extensions&&P(i,u,p),n.assignFinalMaterial(u),c.push(u)}if(1===c.length)return c[0];var f=new LP;for(l=0,h=c.length;l<h;l++)f.add(c[l]);return f})},I.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],i=n[n.type];if(i)return"perspective"===n.type?e=new bT(zx.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(e=new DA(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),E(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},I.prototype.loadSkin=function(t){var e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then(function(t){return n.inverseBindMatrices=t,n})},I.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],n=[],i=[],r=[],s=[],o=[],a=0,c=e.channels.length;a<c;a++){var l=e.channels[a],h=e.samplers[l.sampler],u=l.target,d=void 0!==e.parameters?e.parameters[h.input]:h.input,p=void 0!==e.parameters?e.parameters[h.output]:h.output;n.push(this.getDependency("node",void 0!==u.node?u.node:u.id)),i.push(this.getDependency("accessor",d)),r.push(this.getDependency("accessor",p)),s.push(h),o.push(u)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(s),Promise.all(o)]).then(function(n){for(var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],c=[],l=0,h=i.length;l<h;l++){var u=i[l],d=r[l],p=s[l],m=o[l],f=a[l];if(void 0!==u){var g;switch(u.updateMatrix(),u.matrixAutoUpdate=!0,S[f.path]){case S.weights:g=GO;break;case S.rotation:g=zO;break;case S.position:case S.scale:default:g=VO}var v=u.name?u.name:u.uuid,_=void 0!==m.interpolation?T[m.interpolation]:Ex,b=[];S[f.path]===S.weights?u.traverse(function(t){!0===t.isMesh&&t.morphTargetInfluences&&b.push(t.name?t.name:t.uuid)}):b.push(v);var w=p.array;if(p.normalized){var x;if(w.constructor===Int8Array)x=1/127;else if(w.constructor===Uint8Array)x=1/255;else if(w.constructor==Int16Array)x=1/32767;else{if(w.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");x=1/65535}for(var M=new Float32Array(w.length),C=0,P=w.length;C<P;C++)M[C]=w[C]*x;w=M}for(C=0,P=b.length;C<P;C++){var E=new g(b[C]+"."+S[f.path],d.array,w,_);"CUBICSPLINE"===m.interpolation&&(E.createInterpolant=function(t){return new y(this.times,this.values,this.getValueSize()/3,t)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(E)}}}return new WO(e.name?e.name:"animation_"+t,void 0,c)})},I.prototype.loadNode=function(t){var e,n=this.extensions,i=this,r=this.json.nodes[t],s=r.name?i.createUniqueName(r.name):"";return(e=[],void 0!==r.mesh&&e.push(i.getDependency("mesh",r.mesh).then(function(t){var e=i._getNodeRef(i.meshCache,r.mesh,t);return void 0!==r.weights&&e.traverse(function(t){if(t.isMesh)for(var e=0,n=r.weights.length;e<n;e++)t.morphTargetInfluences[e]=r.weights[e]}),e})),void 0!==r.camera&&e.push(i.getDependency("camera",r.camera).then(function(t){return i._getNodeRef(i.cameraCache,r.camera,t)})),i._invokeAll(function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)}).forEach(function(t){e.push(t)}),Promise.all(e)).then(function(e){var o;if((o=!0===r.isBone?new pE:e.length>1?new LP:1===e.length?e[0]:new JM)!==e[0])for(var a=0,c=e.length;a<c;a++)o.add(e[a]);if(r.name&&(o.userData.name=r.name,o.name=s),E(o,r),r.extensions&&P(n,o,r),void 0!==r.matrix){var l=new PM;l.fromArray(r.matrix),o.applyMatrix4(l)}else void 0!==r.translation&&o.position.fromArray(r.translation),void 0!==r.rotation&&o.quaternion.fromArray(r.rotation),void 0!==r.scale&&o.scale.fromArray(r.scale);return i.associations.set(o,{type:"nodes",index:t}),o})},I.prototype.loadScene=function(){function t(e,n,i,r){var s=i.nodes[e];return r.getDependency("node",e).then(function(t){return void 0===s.skin?t:r.getDependency("skin",s.skin).then(function(t){for(var n=[],i=0,s=(e=t).joints.length;i<s;i++)n.push(r.getDependency("node",e.joints[i]));return Promise.all(n)}).then(function(n){return t.traverse(function(t){if(t.isMesh){for(var i=[],r=[],s=0,o=n.length;s<o;s++){var a=n[s];if(a){i.push(a);var c=new PM;void 0!==e.inverseBindMatrices&&c.fromArray(e.inverseBindMatrices.array,16*s),r.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[s])}t.bind(new gE(i,r),t.matrixWorld)}}),t});var e}).then(function(e){n.add(e);var o=[];if(s.children)for(var a=s.children,c=0,l=a.length;c<l;c++)o.push(t(a[c],e,i,r));return Promise.all(o)})}return function(e){var n=this.json,i=this.extensions,r=this.json.scenes[e],s=new LP;r.name&&(s.name=this.createUniqueName(r.name)),E(s,r),r.extensions&&P(i,s,r);for(var o=r.nodes||[],a=[],c=0,l=o.length;c<l;c++)a.push(t(o[c],s,n,this));return Promise.all(a).then(function(){return s})}}(),t}();const HI=["objWindow"];function BI(t,e){if(1&t&&(Ro(0,"p",10),Ro(1,"a",11),sa(2),Do(),Do()),2&t){const t=Uo(2);es(1),qo("download",t.model3D.source),es(1),aa(" Source: ",t.model3D.sourceText," ")}}function FI(t,e){if(1&t&&(Ro(0,"p",12),sa(1),Do()),2&t){const t=Uo(2);es(1),oa(t.model3D.note)}}const GI=function(t){return{modelHiddenTip:t}};function jI(t,e){if(1&t&&(Ro(0,"div",4),Ro(1,"ul"),Ro(2,"li",5),sa(3,'"Left Click" rotate'),Do(),Ro(4,"li",5),sa(5,'"Right Click" pan'),Do(),Ro(6,"li",5),sa(7,'"Middle Mouse" zoom'),Do(),ko(8,"br",5),Ro(9,"li",5),sa(10,'"C" toggle camera'),Do(),Ro(11,"li",5),sa(12,'"V" random zoom'),Do(),Ro(13,"li",5),sa(14,'"F" toggle wireframe'),Do(),ko(15,"br",5),Ro(16,"li"),sa(17,'"H" toggle controls and tips'),Do(),Do(),Ro(18,"div",6),Ro(19,"p",7),sa(20),Do(),Eo(21,BI,3,2,"p",8),Eo(22,FI,2,1,"p",9),Do(),Do()),2&t){const t=Uo();es(2),Io("ngClass",Lc(12,GI,t.tipsHidden)),es(2),Io("ngClass",Lc(14,GI,t.tipsHidden)),es(2),Io("ngClass",Lc(16,GI,t.tipsHidden)),es(2),Io("ngClass",Lc(18,GI,t.tipsHidden)),es(1),Io("ngClass",Lc(20,GI,t.tipsHidden)),es(2),Io("ngClass",Lc(22,GI,t.tipsHidden)),es(2),Io("ngClass",Lc(24,GI,t.tipsHidden)),es(2),Io("ngClass",Lc(26,GI,t.tipsHidden)),es(3),Io("ngClass",Lc(28,GI,t.tipsHidden)),es(2),oa(t.model3D.name),es(1),Io("ngIf",""!=t.model3D.sourceText),es(1),Io("ngIf",""!=t.model3D.note)}}function zI(t,e){if(1&t){const t=No();Ro(0,"button",13),Bo("click",function(){return He(t),Uo().startPreview()}),sa(1,"Load Model"),Do()}}let UI=(()=>{class t{constructor(t){this.deviceService=t,this.deviceInfo=null,this.isWireframe=!1,this.tipsHidden=!1,this.loaded=!1,this.pressed=!1,this.deviceInfo=this.deviceService.getDeviceInfo()}ngOnInit(){null==this.model3D&&(this.model3D=this.model3Ds[0])}ngAfterViewInit(){this.mobileCheck()||this.previewModel(this.model3D)}mobileCheck(){return this.deviceService.isMobile()}startPreview(){this.pressed=!0,this.previewModel(this.model3D)}previewModel(t){this.model3D=t,null==this.model3D.cameraX&&(this.model3D.cameraX=10),null==this.model3D.cameraY&&(this.model3D.cameraY=5),null==this.model3D.cameraZ&&(this.model3D.cameraZ=10),null==this.model3D.ambientLightPower&&(this.model3D.ambientLightPower=1),null==this.model3D.directionalLightPower&&(this.model3D.directionalLightPower=1),this.initPreviewScene(this.model3D.loadSrc,this.model3D.cameraX,this.model3D.cameraY,this.model3D.cameraZ,this.model3D.ambientLightPower,this.model3D.directionalLightPower)}initPreviewScene(t,e,n,i,r,s){const o=this.objWindow.nativeElement.offsetWidth/this.objWindow.nativeElement.offsetHeight;this.cameraPersp=new bT(50,o,.01,3e4),this.cameraOrtho=new DA(-600*o,600*o,600,-600,.01,3e4),this.currentCamera=this.cameraPersp,this.currentCamera.position.set(e,n,i),this.currentCamera.lookAt(0,200,0),this.scene=new BP,this.scene.background=new bS(5592405),this.hlight=new HA(4210752,r),this.scene.add(this.hlight),this.directionalLight=new NA(16777215,s),this.directionalLight.position.set(1,1,1),this.directionalLight.target.position.set(0,0,0),this.directionalLight.castShadow=!0,this.scene.add(this.directionalLight),this.renderer=new NP({antialias:!0}),this.renderer.setSize(this.objWindow.nativeElement.offsetWidth,this.objWindow.nativeElement.offsetHeight),this.objWindow.nativeElement.appendChild(this.renderer.domElement),this.orbit=new DI(this.currentCamera,this.renderer.domElement),this.orbit.update(),this.orbit.addEventListener("change",this.render.bind(this)),(new NI).load(t,t=>{this.object=t.scene,this.scene.add(this.object),this.model=this.object.children[0],this.model.scale.set(1,1,1),this.render()},t=>{},t=>{console.error("An error happened",t)}),this.loaded=!0}keyup(t){}keydown(t){switch(t.keyCode){case 67:const t=this.currentCamera.position.clone();this.currentCamera=this.currentCamera.isPerspectiveCamera?this.cameraOrtho:this.cameraPersp,this.currentCamera.position.copy(t),this.orbit.object=this.currentCamera,this.currentCamera.lookAt(this.orbit.target.x,this.orbit.target.y,this.orbit.target.z),this.onWindowResize();break;case 86:const e=Math.random()+.1,n=Math.random()+.1;this.cameraPersp.fov=160*e,this.cameraOrtho.bottom=500*-e,this.cameraOrtho.top=500*e,this.cameraPersp.zoom=5*n,this.cameraOrtho.zoom=5*n,this.onWindowResize();break;case 70:this.toggleWireframe();break;case 72:this.toggleTips()}}toggleWireframe(){this.isWireframe=!this.isWireframe,this.object.traverse(t=>{t.isMesh&&(t.material.wireframe=this.isWireframe)})}toggleTips(){this.tipsHidden=!this.tipsHidden}onWindowResize(){const t=this.objWindow.nativeElement.offsetWidth/this.objWindow.nativeElement.offsetHeight;this.cameraPersp.aspect=t,this.cameraPersp.updateProjectionMatrix(),this.cameraOrtho.left=this.cameraOrtho.bottom*t,this.cameraOrtho.right=this.cameraOrtho.top*t,this.cameraOrtho.updateProjectionMatrix(),this.renderer.setSize(this.objWindow.nativeElement.offsetWidth,this.objWindow.nativeElement.offsetHeight),this.render()}render(){this.renderer.render(this.scene,this.currentCamera)}}return t.\u0275fac=function(e){return new(e||t)(Ao(sw))},t.\u0275cmp=Ut({type:t,selectors:[["app-obj-viewer"]],viewQuery:function(t,e){if(1&t&&Yc(HI,1),2&t){let t;qc(t=Kc())&&(e.objWindow=t.first)}},hostBindings:function(t,e){1&t&&Bo("keyup",function(t){return e.keyup(t)},!1,pr)("keydown",function(t){return e.keydown(t)},!1,pr)("resize",function(t){return e.onWindowResize(t)},!1,pr)},inputs:{model3D:"model3D",model3Ds:"model3Ds"},decls:4,vars:2,consts:[[1,"modelPreviewContainer"],["objWindow",""],["class","hud",4,"ngIf"],["class","loadModel",3,"click",4,"ngIf"],[1,"hud"],[3,"ngClass"],["id","modelBreakDown",3,"ngClass"],["id","modelNameArea",1,"modelInfo"],["class","modelInfo","id","modelSourceTextWrapper",4,"ngIf"],["class","modelInfo","id","modelNote",4,"ngIf"],["id","modelSourceTextWrapper",1,"modelInfo"],["id","modelSource",3,"download"],["id","modelNote",1,"modelInfo"],[1,"loadModel",3,"click"]],template:function(t,e){1&t&&(Ro(0,"div",0,1),Eo(2,jI,23,30,"div",2),Eo(3,zI,2,0,"button",3),Do()),2&t&&(es(2),Io("ngIf",!e.mobileCheck()),es(1),Io("ngIf",e.mobileCheck()&&!e.pressed))},directives:[Ch,xh],styles:[".modelPreviewContainer[_ngcontent-%COMP%]{position:relative;margin:auto;width:100%;height:60vh;background-color:#000;color:#fff;font-size:1rem;line-height:24px}.modelPreviewContainer[_ngcontent-%COMP%]   .hud[_ngcontent-%COMP%]{pointer-events:none;position:absolute;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;height:100%;width:100%}.modelPreviewContainer[_ngcontent-%COMP%]   .hud[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:1rem;padding:10px;list-style-type:none;border:1px solid #ccc;background-color:rgba(0,0,0,.3333333333333333);border-radius:10px}.modelPreviewContainer[_ngcontent-%COMP%]   .hud[_ngcontent-%COMP%]   #modelBreakDown[_ngcontent-%COMP%]{bottom:0;width:100%;background-color:rgba(0,0,0,.3333333333333333);padding:1rem}.modelInfo[_ngcontent-%COMP%]{font-size:1.5rem}.modelHiddenTip[_ngcontent-%COMP%]{display:none}.loadModel[_ngcontent-%COMP%]{position:absolute;width:80%;margin-left:10%;top:50%;font-size:2em;padding:10px}"]}),t})();function VI(t,e){if(1&t&&(Ro(0,"div",7),ko(1,"img",8),Do()),2&t){const t=Uo();es(1),qo("src",t.showcase.mediaHeader,sr)}}function WI(t,e){1&t&&ko(0,"div",9),2&t&&Io("innerHTML",Uo().showcase.textAbove,rr)}function XI(t,e){1&t&&ko(0,"img",12),2&t&&qo("src",e.$implicit,sr)}function qI(t,e){if(1&t&&(Ro(0,"div",10),Eo(1,XI,1,1,"img",11),Do()),2&t){const t=Uo();es(1),Io("ngForOf",t.showcase.media)}}function YI(t,e){if(1&t&&(Ro(0,"video",15),ko(1,"source",16),sa(2," Your browser does not support the video tag. "),Do()),2&t){const t=e.$implicit;es(1),qo("src",t,sr)}}function ZI(t,e){if(1&t&&(Ro(0,"div",13),Eo(1,YI,3,1,"video",14),Do()),2&t){const t=Uo();es(1),Io("ngForOf",t.showcase.media)}}const KI=function(t,e){return{mediaMovieBig:t,heightLimited:e}};function QI(t,e){if(1&t&&(Ro(0,"video",18),ko(1,"source",16),sa(2," Your browser does not support the video tag. "),Do()),2&t){const t=e.$implicit,n=Uo(2);Io("ngClass",Rc(2,KI,n.showcase.type.includes("singlemovie"),n.showcase.type.includes("heightLimited"))),es(1),qo("src",t,sr)}}function JI(t,e){if(1&t&&(Ro(0,"div",13),Eo(1,QI,3,5,"video",17),Do()),2&t){const t=Uo();es(1),Io("ngForOf",t.showcase.media)}}function $I(t,e){if(1&t&&(Ro(0,"video",20),ko(1,"source",16),sa(2," Your browser does not support the video tag. "),Do()),2&t){const t=e.$implicit,n=Uo(2);Io("ngClass",Rc(2,KI,n.showcase.type.includes("singlemovie"),n.showcase.type.includes("heightLimited"))),es(1),qo("src",t,sr)}}function tL(t,e){if(1&t&&(Ro(0,"div",13),Eo(1,$I,3,5,"video",19),Do()),2&t){const t=Uo();es(1),Io("ngForOf",t.showcase.media)}}function eL(t,e){if(1&t&&(Ro(0,"div",13),ko(1,"youtube-player",21),Do()),2&t){const t=Uo();es(1),qo("videoId",t.showcase.media[0])}}function nL(t,e){if(1&t&&(Ro(0,"div",22),ko(1,"app-obj-viewer",23),Do()),2&t){const t=Uo();es(1),Io("model3Ds",t.showcase.extras)}}function iL(t,e){1&t&&ko(0,"div",9),2&t&&Io("innerHTML",Uo().showcase.textBelow,rr)}let rL=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["app-showcase-component"]],inputs:{showcase:"showcase"},decls:12,vars:10,consts:[[1,"showcaseContainer"],[1,"showcaseHeader"],["class","showcaseMediaHeaderContainer",4,"ngIf"],["class","showcaseText",3,"innerHTML",4,"ngIf"],["class","showcaseImageContainer","lightbox-group","",4,"ngIf"],["class","projectMovieContainer",4,"ngIf"],["class","projectModelContainer",4,"ngIf"],[1,"showcaseMediaHeaderContainer"],[1,"showcaseMediaHeaderImage",3,"src"],[1,"showcaseText",3,"innerHTML"],["lightbox-group","",1,"showcaseImageContainer"],["class","showcaseImage hvr-grow","lightbox","",3,"src",4,"ngFor","ngForOf"],["lightbox","",1,"showcaseImage","hvr-grow",3,"src"],[1,"projectMovieContainer"],["class","mediaMovie","autoplay","","playsinline","","controls","","loop","","muted","","onloadedmetadata","this.muted = true","autoplay","",4,"ngFor","ngForOf"],["autoplay","","playsinline","","controls","","loop","","muted","","onloadedmetadata","this.muted = true","autoplay","",1,"mediaMovie"],["type","video/mp4",3,"src"],["playsinline","","loop","","muted","","onloadedmetadata","this.muted = true","controls","","autoplay","",3,"ngClass",4,"ngFor","ngForOf"],["playsinline","","loop","","muted","","onloadedmetadata","this.muted = true","controls","","autoplay","",3,"ngClass"],["controls","",3,"ngClass",4,"ngFor","ngForOf"],["controls","",3,"ngClass"],["suggestedQuality","medium",1,"youtubeFrame",3,"videoId"],[1,"projectModelContainer"],[1,"projectModelObj",3,"model3Ds"]],template:function(t,e){1&t&&(Ro(0,"div",0),Ro(1,"p",1),sa(2),Do(),Eo(3,VI,2,1,"div",2),Eo(4,WI,1,1,"div",3),Eo(5,qI,2,1,"div",4),Eo(6,ZI,2,1,"div",5),Eo(7,JI,2,1,"div",5),Eo(8,tL,2,1,"div",5),Eo(9,eL,2,1,"div",5),Eo(10,nL,2,1,"div",6),Eo(11,iL,1,1,"div",3),Do()),2&t&&(es(2),oa(e.showcase.header),es(1),Io("ngIf",""!=e.showcase.mediaHeader),es(1),Io("ngIf",""!=e.showcase.textAbove),es(1),Io("ngIf","images"==e.showcase.type),es(1),Io("ngIf","moviegrid"==e.showcase.type),es(1),Io("ngIf",e.showcase.type.includes("singlemovie")&&!e.showcase.type.includes("notMuted")),es(1),Io("ngIf",e.showcase.type.includes("singlemovie")&&e.showcase.type.includes("notMuted")),es(1),Io("ngIf","youtube"==e.showcase.type),es(1),Io("ngIf","3dmodel"==e.showcase.type),es(1),Io("ngIf",""!=e.showcase.textBelow))},directives:[Ch,Zw,Sh,Yw,xh,rx,UI],styles:[".heightLimited[_ngcontent-%COMP%]{max-height:500px}.showcaseContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:30px}.showcaseContainer[_ngcontent-%COMP%]   .showcaseHeader[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2em;display:block;text-align:center;margin:0;text-shadow:3px 3px #111}@media screen and (min-width:640px){.showcaseContainer[_ngcontent-%COMP%]   .showcaseHeader[_ngcontent-%COMP%]{font-size:1.5rem}}@media screen and (min-width:1280px){.showcaseContainer[_ngcontent-%COMP%]   .showcaseHeader[_ngcontent-%COMP%]{font-size:2.5rem}}@media screen and (min-width:1920px){.showcaseContainer[_ngcontent-%COMP%]   .showcaseHeader[_ngcontent-%COMP%]{font-size:3rem}}.showcaseContainer[_ngcontent-%COMP%]   .showcaseText[_ngcontent-%COMP%]{display:inline-block;margin:20px 40px;max-width:800px;font-size:.6rem}@media screen and (min-width:640px){.showcaseContainer[_ngcontent-%COMP%]   .showcaseText[_ngcontent-%COMP%]{font-size:.8rem}}@media screen and (min-width:1280px){.showcaseContainer[_ngcontent-%COMP%]   .showcaseText[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (min-width:1920px){.showcaseContainer[_ngcontent-%COMP%]   .showcaseText[_ngcontent-%COMP%]{font-size:1.25rem}}.showcaseContainer[_ngcontent-%COMP%]   .showcaseImageContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center}.showcaseContainer[_ngcontent-%COMP%]   .showcaseImageContainer[_ngcontent-%COMP%]   .showcaseImage[_ngcontent-%COMP%]{width:25%;min-width:200px;overflow:hidden;cursor:pointer}.showcaseContainer[_ngcontent-%COMP%]   .showcaseImageContainer[_ngcontent-%COMP%]   .showcaseImage[_ngcontent-%COMP%]:hover{z-index:10}.showcaseContainer[_ngcontent-%COMP%]   .projectMovieContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center}.showcaseContainer[_ngcontent-%COMP%]   .projectMovieContainer[_ngcontent-%COMP%]   .mediaMovie[_ngcontent-%COMP%]{width:50%;min-width:300px;max-width:550px}.showcaseContainer[_ngcontent-%COMP%]   .projectMovieContainer[_ngcontent-%COMP%]   .mediaMovieBig[_ngcontent-%COMP%]{width:100%}.showcaseContainer[_ngcontent-%COMP%]   .projectModelContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center}.showcaseContainer[_ngcontent-%COMP%]   .projectModelContainer[_ngcontent-%COMP%]   .projectModelObj[_ngcontent-%COMP%]{width:100%}.showcaseContainer[_ngcontent-%COMP%]   .youtubeFrame[_ngcontent-%COMP%]{width:100%;margin:auto;text-align:center}"]}),t})();function sL(t,e){if(1&t&&(Ro(0,"div",16),ko(1,"img",17),Do()),2&t){const t=Uo();es(1),qo("src",t.project.imageOrMovieBGPath,sr)}}function oL(t,e){if(1&t&&(Ro(0,"div",18),Ro(1,"video",19),ko(2,"source",20),sa(3," Your browser does not support the video tag. "),Do(),Do()),2&t){const t=Uo();es(2),qo("src",t.project.imageOrMovieBGPath,sr)}}function aL(t,e){1&t&&(Ro(0,"span",21),sa(1,"showcase"),Do())}function cL(t,e){1&t&&(Ro(0,"a",22),sa(1,"Visit Site"),Do()),2&t&&qo("href",Uo().project.linkTo,sr)}function lL(t,e){1&t&&(Ro(0,"a",23),sa(1,"Source Code (GitHub)"),Do()),2&t&&qo("href",Uo().project.source,sr)}function hL(t,e){1&t&&ko(0,"app-showcase-component",36),2&t&&Io("showcase",e.$implicit)}function uL(t,e){if(1&t&&(Ro(0,"a",37),sa(1),Do()),2&t){const t=Uo(2);qo("href",t.project.source,sr),es(1),oa(t.project.sourceText)}}function dL(t,e){if(1&t&&(Ro(0,"a",38),sa(1),Do()),2&t){const t=Uo(2);qo("href",t.project.linkTo,sr),es(1),oa(t.project.linkToText)}}function pL(t,e){if(1&t){const t=No();Ro(0,"div",24),Ro(1,"div",25),Ro(2,"div",26),Ro(3,"span",27),sa(4),Ro(5,"span",28),sa(6,"Showcase"),Do(),Do(),Ro(7,"div",29),Ro(8,"span",30),Bo("click",function(){He(t),Uo();const e=Oo(1);return e.expanded=!e.expanded}),sa(9,"hide"),Do(),Do(),Do(),Ro(10,"div",31),Eo(11,hL,1,1,"app-showcase-component",32),Do(),Ro(12,"div",33),Eo(13,uL,2,2,"a",34),Eo(14,dL,2,2,"a",35),Do(),Do(),Do()}if(2&t){const t=Uo();es(4),aa("",t.project.name," "),es(7),Io("ngForOf",t.project.showcases),es(2),Io("ngIf",""!=t.project.source),es(1),Io("ngIf",""!=t.project.linkTo)}}const mL=function(){return{}},fL=function(t){return{"background-image":t}};let gL=(()=>{class t{constructor(t){this.deviceService=t,this.deviceInfo=null,this.deviceInfo=this.deviceService.getDeviceInfo()}ngOnInit(){}mobileCheck(){return this.deviceService.isMobile()}smallScreenCheck(){return this.deviceService.isMobile()||window.innerWidth<800||window.innerHeight<500}}return t.\u0275fac=function(e){return new(e||t)(Ao(sw))},t.\u0275cmp=Ut({type:t,selectors:[["app-project-listing"]],inputs:{project:"project"},decls:21,vars:21,consts:[["hideToggle","","data-wow-delay","0.3s",1,"wow","fadeInUp",3,"id"],["mep","matExpansionPanel"],[3,"ngClass","id","ngStyle"],[1,"projectContent",3,"id"],["class","projectImageWrapper",4,"ngIf"],["class","projectMovieContainer",4,"ngIf"],["data-wow-delay","0.5s",1,"projectNameShowcase","wow","slideInleft"],[1,"projectDetailsWrapper"],[1,"projectDetailsContent"],["data-wow-delay","0.7s",1,"projectNameHeader","wow","fadeInRight"],["data-wow-delay","0.95s",1,"projectDate","wow","fadeInRight"],["data-wow-delay","1.1s",1,"projectDescription","wow","fadeInRight"],["class","toggleShowcase wow fadeIn","data-wow-delay","1.75s",4,"ngIf"],["class","detailsLink","data-wow-delay","1.75s",3,"href",4,"ngIf"],["class","detailsLink right","data-wow-delay","1.75s",3,"href",4,"ngIf"],["class","projectShowcaseContainer",4,"ngIf"],[1,"projectImageWrapper"],[1,"projectImage",3,"src"],[1,"projectMovieContainer"],["autoplay","","playsinline","","loop","","muted","","onloadedmetadata","this.muted = true","autoplay","",1,"projectMovie"],["type","video/mp4",3,"src"],["data-wow-delay","1.75s",1,"toggleShowcase","wow","fadeIn"],["data-wow-delay","1.75s",1,"detailsLink",3,"href"],["data-wow-delay","1.75s",1,"detailsLink","right",3,"href"],[1,"projectShowcaseContainer"],[1,"projectShowcaseContainerContent"],[1,"showcaseMenu"],[1,"projectNameShowcaseLabel"],[1,"bitHighligherStroke"],[1,"closeWrapper"],[1,"toggleShowcase",2,"font-size","1.5em",3,"click"],[1,"showcasesContainer"],[3,"showcase",4,"ngFor","ngForOf"],[1,"links"],["class","source",3,"href",4,"ngIf"],["class","linkTo",3,"href",4,"ngIf"],[3,"showcase"],[1,"source",3,"href"],[1,"linkTo",3,"href"]],template:function(t,e){1&t&&(Ro(0,"mat-expansion-panel",0,1),Ro(2,"mat-expansion-panel-header"),Ro(3,"div",2),Ro(4,"div",3),Eo(5,sL,2,1,"div",4),Eo(6,oL,4,1,"div",5),Ro(7,"h3",6),sa(8),Do(),Ro(9,"div",7),Ro(10,"div",8),Ro(11,"h3",9),sa(12),Do(),Ro(13,"p",10),sa(14),Do(),Ro(15,"p",11),sa(16),Do(),Eo(17,aL,2,0,"span",12),Eo(18,cL,2,1,"a",13),Eo(19,lL,2,1,"a",14),Do(),Do(),Do(),Do(),Do(),Eo(20,pL,15,4,"div",15),Do()),2&t&&(Io("id",e.project.link),es(3),Io("ngClass",e.project.aaOff?"projectContainerAAOff":"projectContainer")("id","customImageWrapper"===e.project.style?e.project.customStyleData:"")("ngStyle",e.mobileCheck()?"customImageWrapper"===e.project.style?Ic(15,mL):Lc(16,fL,"url("+e.project.fallbackImage+")"):"standard"===e.project.style?Lc(18,fL,"url("+e.project.imageOrMovieBGPath+")"):Ic(20,mL)),es(1),Yo("id","item-",e.project.link,""),es(1),Io("ngIf","customImageWrapper"===e.project.style),es(1),Io("ngIf",!e.mobileCheck()&&"movie"==e.project.style),es(2),oa(e.project.name),es(4),oa(e.project.name),es(2),oa(e.project.date),es(2),oa(e.project.description),es(1),Io("ngIf",e.project.showcases.length>0),es(1),Io("ngIf",0==e.project.showcases.length&&""!=e.project.linkTo),es(1),Io("ngIf",0==e.project.showcases.length&&""!=e.project.source),es(1),Io("ngIf",e.project.showcases.length>0))},directives:[Ow,Aw,xh,Oh,Ch,Sh,rL],styles:['@font-face{font-family:pixel5;src:url(pixel5.d9d11b3df42d741aaf14.ttf) format("truetype")}#nec[_ngcontent-%COMP%]{background:#b7f8ed;background:radial-gradient(circle,#b7f8ed 0,#2ccdb1 12%,#228171 28%,#333452 45%,#353c59 71%,#191d2c 100%)}#apcom[_ngcontent-%COMP%]{background:#00adb5}#apcom[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;text-align:center;margin-left:25%;filter:invert(100%)}#ssi[_ngcontent-%COMP%]{background:#1a1f24}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#eee}a[_ngcontent-%COMP%]:hover{color:#00adb5}a[_ngcontent-%COMP%]:active{color:#6f6f6f}.toggleShowcase[_ngcontent-%COMP%]{cursor:pointer;pointer-events:all;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.toggleShowcase[_ngcontent-%COMP%]:hover{text-decoration:underline}.detailsLink[_ngcontent-%COMP%]{cursor:pointer;pointer-events:all;-webkit-touch-callout:inherit;-webkit-user-select:inherit;user-select:inherit}.right[_ngcontent-%COMP%]{float:right}mat-expansion-panel[_ngcontent-%COMP%]{padding:0;margin:0;pointer-events:none}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0;margin:0}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContainer[_ngcontent-%COMP%], mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContainerAAOff[_ngcontent-%COMP%]{padding:0;margin:0;display:flex;height:50vh;width:100%;background:#eee;background-size:cover;background-repeat:no-repeat;background-position:50%}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContainerAAOff[_ngcontent-%COMP%]{image-rendering:optimizeSpeed;image-rendering:-o-crisp-edges;image-rendering:pixelated;image-rendering:optimize-contrast;-ms-interpolation-mode:nearest-neighbor}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]{position:relative;display:flex;width:100%}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectImageWrapper[_ngcontent-%COMP%]{height:80%;width:100%;margin-top:20px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectImageWrapper[_ngcontent-%COMP%]   .projectImage[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectMovieContainer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectMovie[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);min-width:100%;min-height:100%;width:auto;height:auto;z-index:1;overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectNameShowcase[_ngcontent-%COMP%]{position:absolute;letter-spacing:.5ch;margin:0 0 20px;padding:5px 5px 5px 20px;border-radius:0 2px 2px 0;align-self:flex-end;z-index:10;font-size:1.5rem;display:none;background:linear-gradient(90deg,rgba(0,0,0,.5),rgba(0,0,0,.85))}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]{max-height:100%;max-width:40%;width:100%;min-width:300px;z-index:100;margin:0 5% 0 auto;color:#eee;display:flex;justify-content:center;align-items:center;align-content:center;font-size:.8em}@media screen and (min-width:640px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]{font-size:.8em}}@media screen and (min-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]{font-size:.9em}}@media screen and (min-width:1920px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]{font-size:1.15em}}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]{margin-left:15%;margin-right:15%}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectNameHeader[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25em}@media screen and (min-width:640px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectNameHeader[_ngcontent-%COMP%]{font-size:1.5em}}@media screen and (min-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectNameHeader[_ngcontent-%COMP%]{font-size:1.85em}}@media screen and (min-width:1600px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectNameHeader[_ngcontent-%COMP%]{font-size:2em}}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectDate[_ngcontent-%COMP%]{margin:0;padding:0;font-size:.7rem}@media screen and (min-width:640px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectDate[_ngcontent-%COMP%]{font-size:.8rem}}@media screen and (min-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectDate[_ngcontent-%COMP%]{font-size:.8rem}}@media screen and (min-width:1920px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectDate[_ngcontent-%COMP%]{font-size:.9rem}}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]{pointer-events:all;display:flex;flex-direction:column;justify-content:center;background-color:#46515e;margin:0 -30px -30px;padding-top:10px;padding-bottom:40px}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]{width:95%;max-width:1200px;margin-left:auto;margin-right:auto;display:flex;flex-direction:column;justify-content:center;background-color:#303841;box-shadow:0 0 6px #222}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#1a1f24;display:flex;flex-direction:row;justify-content:flex-end;align-content:center;z-index:100;padding:10px 20px}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{flex-grow:1;font-size:1.5em}@media screen and (min-width:640px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{font-size:1.75em}}@media screen and (min-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{font-size:3em}}@media screen and (min-width:1600px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{font-size:3em}}@media screen and (min-width:1920px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{font-size:3em}}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]   .bitHighligherStroke[_ngcontent-%COMP%]{margin-left:10px;font-family:pixel5;color:#eee;font-size:.55em;animation:bitHightlightCycle linear infinite;animation-direction:forwards;animation-duration:2s}@keyframes bitHightlightCycle{0%{-webkit-text-stroke:1px #303841;text-shadow:3px 3px 0 #303841,-1px -1px 0 #303841,1px -1px 0 #303841,-1px 1px 0 #303841,1px 1px 0 #303841}49%{-webkit-text-stroke:1px #303841;text-shadow:3px 3px 0 #303841,-1px -1px 0 #303841,1px -1px 0 #303841,-1px 1px 0 #303841,1px 1px 0 #303841}50%{-webkit-text-stroke:1px #00adb5;text-shadow:3px 3px 0 #00adb5,-1px -1px 0 #00adb5,1px -1px 0 #00adb5,-1px 1px 0 #00adb5,1px 1px 0 #00adb5}to{-webkit-text-stroke:1px #00adb5;text-shadow:3px 3px 0 #00adb5,-1px -1px 0 #00adb5,1px -1px 0 #00adb5,-1px 1px 0 #00adb5,1px 1px 0 #00adb5}}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .closeWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;justify-content:center}@media only screen and (max-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]{width:95%}}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;justify-content:center;margin-bottom:1em}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .linkTo[_ngcontent-%COMP%], mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .source[_ngcontent-%COMP%]{flex-grow:1;font-size:2em;text-align:center}.gradient-border-sides[_ngcontent-%COMP%]{--borderWidth:8px;background:#3a4750;position:relative}.gradient-border-sides[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(0 * var(--borderWidth));left:calc(-1 * var(--borderWidth));height:calc(100%);width:calc(100% + var(--borderWidth) * 2);background:linear-gradient(60deg,#03b1a2,#7489a0,#23c4cc,#4e77d1,#bbb);z-index:-1;animation:animatedgradientSides 3s ease infinite alternate;background-size:300% 300%}@keyframes animatedgradientSides{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}']}),t})();function vL(t,e){if(1&t){const t=No();Ro(0,"span",58),Bo("click",function(){return He(t),Uo(),Oo(2).opened=!1}),sa(1,"[X]"),Do()}}function yL(t,e){if(1&t){const t=No();Ro(0,"li"),Ro(1,"a",59),Bo("click",function(){He(t);const n=e.$implicit;return Uo().scrollToElement(n.link)}),sa(2),Do(),Do()}if(2&t){const t=e.$implicit;es(2),aa(" ",t.name," ")}}function _L(t,e){if(1&t){const t=No();Ro(0,"mat-toolbar"),Ro(1,"img",60),Bo("click",function(){He(t),Uo();const e=Oo(2);return e.opened=!e.opened}),Do(),Ro(2,"span",22),sa(3,"Andrew M. Podrat"),Do(),Ro(4,"span",23),sa(5,"Enthusiast Game Developer"),Do(),Do()}}function bL(t,e){if(1&t&&(Ro(0,"li"),ko(1,"app-project-listing",61),Do()),2&t){const t=e.$implicit;es(1),Io("project",t)}}let wL=(()=>{class t{constructor(t){this.deviceService=t,this.games=Gb,this.deviceInfo=null,this.deviceInfo=this.deviceService.getDeviceInfo()}ngOnInit(){}scrollToElement(t){document.getElementById("item-"+t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}mobileCheck(){return this.deviceService.isMobile()}smallScreenCheck(){return this.deviceService.isMobile()||window.innerWidth<800||window.innerHeight<500}}return t.\u0275fac=function(e){return new(e||t)(Ao(sw))},t.\u0275cmp=Ut({type:t,selectors:[["app-games"]],decls:248,vars:5,consts:[["fixedInViewport","true","mode","side",3,"opened"],["sidenav",""],["class","closeIcon",3,"click",4,"ngIf"],["id","menuHeader"],["id","logoSide","src","assets/res/signature_legacy.svg"],["id","identification"],["id","nameSide"],["id","professionSide"],["id","navList",1,"noselect"],[3,"click"],[4,"ngFor","ngForOf"],[1,"sideNavResumeContainer","noselect"],["id","sideNavResume","href","https://drive.google.com/file/d/17x89_CeS7joV8waohG7i66xYca3vpO4c/view?usp=sharing","target","_blank",1,"gradient-bg","resumeAnim","noselect"],[1,"flex-row-container","sidenavLinksWrapper"],["href","mailto:andrew@andrewpodrat.com",1,"sidenavLink","flex-row-item"],["href","https://www.linkedin.com/in/andrewpodrat/",1,"sidenavLink","flex-row-item"],["href","https://github.com/Ragnaraven",1,"sidenavLink","flex-row-item"],[1,"sidenav-content"],[4,"ngIf"],[1,"logoContainer"],["src","assets/res/signature.svg",1,"logoMain"],[1,"logoRight"],[1,"name"],[1,"work"],["id","item-projects"],[1,"projectsLabel"],[1,"projectHighlight"],[1,"projectsContainer"],["id","item-welcome"],["id","greeting",1,"gradient-border"],["id","pickupLine"],[2,"color","white","font-weight","500","font-size","1.25em"],["id","bigThree",1,"flex-row-container"],[1,"flex-row-item"],["src","assets/res/passions/design.svg",1,"introDivImg"],[1,"introDivHeader","bitHeader"],[1,"accentHighlight"],[1,"introDivParagraph"],[1,"introDivParagraph","bitLabel"],["src","assets/res/passions/developer.svg",1,"introDivImg"],[1,"bitLabel"],["src","assets/res/passions/gamer.svg",1,"introDivImg"],["id","additionalContentLargeScreenOnly",1,"introDivParagraph"],[1,"textLinksWrapper"],["id","mainResume","href","https://drive.google.com/file/d/17x89_CeS7joV8waohG7i66xYca3vpO4c/view?usp=sharing","target","_blank",1,"gradient-bg","resumeAnim","noselect"],["href","mailto:andrew@andrewpodrat.com",1,"textLink"],["href","https://www.linkedin.com/in/andrewpodrat/",1,"textLink"],["href","https://github.com/Ragnaraven",1,"textLink"],["id","item-contactMe"],["id","contactMeHeader",1,"wow","bounceInLeft","gradient-border"],[1,"flex-row-container"],["href","mailto:andrew@andrewpodrat.com",1,"flex-row-item","noselect"],["src","assets/res/material.io/mail-white-18dp.svg",1,"contactIcon","hvr-grow-rotate"],["id","fakeLinkedInWrapper","href","https://www.linkedin.com/in/andrewpodrat/",1,"flex-row-item","noselect","hvr-float"],["id","fakeLinkedIn",1,"noselect"],["src","assets/res/material.io/place-white-18dp.svg",1,"contactIcon","noselect","hvr-bob"],["href","https://github.com/Ragnaraven",1,"flex-row-item","noselect","hvr-pulse"],["src","assets/res/github/github-big.svg",1,"contactIcon","hvr-grow-rotate"],[1,"closeIcon",3,"click"],[1,"projectListingNavItem",3,"click"],["src","assets/res/material.io/menu-white-18dp.svg",1,"icon",3,"click"],[3,"project"]],template:function(t,e){1&t&&(Ro(0,"mat-sidenav-container"),Ro(1,"mat-sidenav",0,1),Eo(3,vL,2,0,"span",2),Ro(4,"div",3),ko(5,"img",4),Ro(6,"div",5),Ro(7,"p",6),sa(8,"Andrew Podrat"),Do(),Ro(9,"p",7),sa(10,"Enthusiast Game Developer"),Do(),Do(),Do(),Ro(11,"ul",8),Ro(12,"li"),Ro(13,"a",9),Bo("click",function(){return e.scrollToElement("welcome")}),sa(14," Welcome "),Do(),Do(),Ro(15,"li"),Ro(16,"a",9),Bo("click",function(){return e.scrollToElement("projects")}),sa(17," Projects "),Do(),Do(),Eo(18,yL,3,1,"li",10),Ro(19,"li"),Ro(20,"a",9),Bo("click",function(){return e.scrollToElement("contactMe")}),sa(21," Contact "),Do(),Do(),Do(),Ro(22,"div",11),Ro(23,"a",12),sa(24,"Resume"),Do(),Do(),Ro(25,"div",13),Ro(26,"a",14),sa(27,"andrew@andrewpodrat.com"),Do(),Ro(28,"a",15),sa(29,"LinkedIn"),Do(),Ro(30,"a",16),sa(31,"GitHub"),Do(),Do(),Do(),Ro(32,"mat-sidenav-content",17),Eo(33,_L,6,0,"mat-toolbar",18),Ro(34,"section",19),ko(35,"img",20),Ro(36,"div",21),Ro(37,"span",22),sa(38,"Andrew M. Podrat"),Do(),Ro(39,"span",23),sa(40,"Enthusiast Game Developer"),Do(),Do(),Do(),Ro(41,"section",24),Ro(42,"p",25),sa(43,"Projects -"),Ro(44,"span",26),sa(45,"Current Focus: GhostGame. Expand project for dev blog."),Do(),Do(),Ro(46,"ul",27),Eo(47,bL,2,1,"li",10),Do(),Do(),Ro(48,"section",28),Ro(49,"p",29),sa(50,"Hey there!"),Do(),Ro(51,"p",30),Ro(52,"span",31),sa(53,"I'm Andrew."),Do(),ko(54,"br"),sa(55," I am a highly motivated designer and developer with an always expanding and versatile technical skillset. "),ko(56,"br"),sa(57," I like to keep my code and designs both clean and highly reusable."),ko(58,"br"),sa(59," I am diplomatic team player who is not afraid to take initiative or work independently."),Do(),Ro(60,"div",32),Ro(61,"div",33),ko(62,"img",34),Ro(63,"p",35),sa(64,"I am a "),Ro(65,"span",36),sa(66,"game designer"),Do(),sa(67," with skills that extend into many disciplines."),Do(),Ro(68,"p",37),sa(69,"I enjoy dreaming up scenarios and then bringing them to life. Mechanics and gameplay are often the focus of my design."),Do(),Ro(70,"p",37),sa(71,"My work extends beyond games however!"),Do(),Ro(72,"p",37),sa(73," I have created and designed a few Android apps, 3D modeled in Blender for just over 10 years, and recently, designed this site with Angular 11 and Bootstrap 4."),Do(),Ro(74,"p",37),sa(75,"Over the years, I have developed gameplay systems, levels, user interfaces, characters, and more."),Do(),Ro(76,"p",38),sa(77,"The "),Ro(78,"span",36),sa(79,"projects below"),Do(),sa(80," and most of their assets are my "),Ro(81,"span",36),sa(82,"original designs"),Do(),sa(83,"."),Do(),Do(),Ro(84,"div",33),ko(85,"img",39),Ro(86,"p",35),sa(87,"As a "),Ro(88,"span",36),sa(89,"software developer"),Do(),sa(90,", many programs, skills and languages are at my disposal."),Do(),Ro(91,"p",37),sa(92,"I create games in Unreal Engine primarily (projects below)."),Do(),Ro(93,"p",38),sa(94,"I have had the pleasure of using many "),Ro(95,"span",36),sa(96,"lanaguages"),Do(),sa(97,", "),Ro(98,"span",36),sa(99,"programs"),Do(),sa(100," and "),Ro(101,"span",36),sa(102,"tools"),Do(),sa(103,", including:"),Do(),Ro(104,"ul"),Ro(105,"li"),Ro(106,"span",40),sa(107,"Languages:"),Do(),sa(108,"Java, C#, C++, Blueprint (UE4), HTML, CSS, JS, Angular (framework), JQuery (library), Bootstrap (library), Python"),Do(),Ro(109,"li"),Ro(110,"span",40),sa(111,"Programs:"),Do(),sa(112,"Unreal Engine, Unity, Android Studio"),Do(),Ro(113,"li"),Ro(114,"span",40),sa(115,"IDEs:"),Do(),sa(116,"Visual Studio, VS Code, JetBrains Suite"),Do(),Ro(117,"li"),Ro(118,"span",40),sa(119,"Tools:"),Do(),sa(120,"Microsoft Office, Google Apps"),Do(),Ro(121,"li"),Ro(122,"span",40),sa(123,"Source Control:"),Do(),sa(124,"Github, Sourcetree, Bitbucket"),Do(),Ro(125,"li"),Ro(126,"span",40),sa(127,"Communication:"),Do(),sa(128,"Slack, MS Teams, Zoom, Skype, Discord"),Do(),Ro(129,"li"),Ro(130,"span",40),sa(131,"Graphic Design:"),Do(),sa(132,"Photoshop, Illustrator, Inkscape"),Do(),Ro(133,"li"),Ro(134,"span",40),sa(135,"3D Modeling:"),Do(),sa(136,"Blender, 3DS Max, Maya, Quixel Mixer"),Do(),Do(),Do(),Ro(137,"div",33),ko(138,"img",41),Ro(139,"p",35),sa(140,"Of course, "),Ro(141,"span",36),sa(142,"I'm a gamer!"),Do(),sa(143," I play a wide array of genres."),Do(),Ro(144,"p",42),sa(145," I have been playing games since I was a kid. There is a picture of me when I was 2, playing a PC game sitting on my dad's lap. To date, I have enjoyed most major consoles, as well as PC."),Do(),Ro(146,"p",37),sa(147,"In my projects below, you will see that none of them share the same genre!"),Do(),Ro(148,"p",38),sa(149,"Some of the "),Ro(150,"span",36),sa(151,"genres"),Do(),sa(152," I enjoy include:"),Do(),Ro(153,"ul"),Ro(154,"li"),Ro(155,"span",40),sa(156,"Story:"),Do(),sa(157,"The Last of Us Part I & II"),Do(),Ro(158,"li"),Ro(159,"span",40),sa(160,"Adventure:"),Do(),sa(161," Zelda, Uncharted, Halo, Pokemon"),Do(),Ro(162,"li"),Ro(163,"span",40),sa(164,"Open World:"),Do(),sa(165," Grand Theft Auto V, Far Cry "),Do(),Ro(166,"li"),Ro(167,"span",40),sa(168,"Creative Survival:"),Do(),sa(169," Minecraft, Ark: Survival Evolved"),Do(),Ro(170,"li"),Ro(171,"span",40),sa(172,"City Building:"),Do(),sa(173," Anno, Sim City, Cities Skylines"),Do(),Ro(174,"li"),Ro(175,"span",40),sa(176,"Strategy:"),Do(),sa(177," Age of Mythology, Company of Heroes"),Do(),Ro(178,"li"),Ro(179,"span",40),sa(180,"Indie:"),Do(),sa(181," Ori and the Blind Forest, Limbo, The Forest, Cuphead"),Do(),Ro(182,"li"),Ro(183,"span",40),sa(184,"FPS:"),Do(),sa(185," Rainbow Six, Call of Duty, Payday 2, Left 4 Dead"),Do(),Ro(186,"li"),Ro(187,"span",40),sa(188,"Racing:"),Do(),sa(189," Forza, Mario Kart"),Do(),Ro(190,"li"),Ro(191,"span",40),sa(192,"Puzzles:"),Do(),sa(193," Visage, Portal"),Do(),Ro(194,"li"),Ro(195,"span",40),sa(196,"Social:"),Do(),sa(197," Among Us, scribbl.io, Jackbox, Stick Fight"),Do(),Ro(198,"li"),Ro(199,"span",40),sa(200,"Platformer:"),Do(),sa(201," Ratchet & Clank, Jak & Daxter, Spyro"),Do(),Ro(202,"li"),Ro(203,"span",40),sa(204,"Flash & Mobile:"),Do(),sa(205," Boxhead, The Last Stand, Motherload"),Do(),Ro(206,"li"),Ro(207,"span",40),sa(208,"Other:"),Do(),sa(209," Diablo, Dead Space, Yu-Gi-Oh Duel Links"),Do(),Do(),Do(),Do(),Ro(210,"div",43),Ro(211,"a",44),sa(212,"Resume"),Do(),Ro(213,"a",45),sa(214,"andrew@andrewpodrat.com"),Do(),Ro(215,"a",46),sa(216,"LinkedIn"),Do(),Ro(217,"a",47),sa(218,"GitHub"),Do(),Do(),Do(),Ro(219,"section",48),Ro(220,"p",49),sa(221,"Contact Me"),Do(),Ro(222,"div",50),Ro(223,"a",51),ko(224,"img",52),Ro(225,"p"),sa(226,"andrew@andrewpodrat.com"),Do(),Do(),Ro(227,"a",53),Ro(228,"p",54),sa(229,"in"),Do(),Ro(230,"p"),sa(231,"LinkedIn"),Do(),Do(),Ro(232,"div",33),ko(233,"img",55),Ro(234,"p"),sa(235,"Pittsburgh, PA"),Do(),Do(),Ro(236,"a",56),ko(237,"img",57),Ro(238,"p"),sa(239,"GitHub"),Do(),Do(),Do(),Do(),Ro(240,"footer"),Ro(241,"h4"),sa(242,"Changelog:"),Do(),Ro(243,"ul"),Ro(244,"li"),sa(245,"2/27/2021: Added a new MainMenu showcase to GhostGame."),Do(),Ro(246,"li"),sa(247,"3/23/2021: Added a new AI, Inventory, Data-driven gameplay showcase to GhostGame."),Do(),Do(),Do(),Do(),Do()),2&t&&(es(1),Io("opened",!e.smallScreenCheck()),es(2),Io("ngIf",e.smallScreenCheck()),es(15),Io("ngForOf",e.games),es(15),Io("ngIf",e.smallScreenCheck()),es(14),Io("ngForOf",e.games))},directives:[dv,hv,Ch,Sh,lv,zf,gL],styles:['@charset "UTF-8";@import url("https://fonts.googleapis.com/css2?family=Rajdhani&display=swap");@import url("https://fonts.googleapis.com/css?family=Lato:300");@font-face{font-family:pixel5;src:url(pixel5.d9d11b3df42d741aaf14.ttf) format("truetype")}*[_ngcontent-%COMP%]{font-family:Rajdhani,sans-serif}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#eee}a[_ngcontent-%COMP%]:hover{color:#00adb5}a[_ngcontent-%COMP%]:active{color:#6f6f6f}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.accentHighlight[_ngcontent-%COMP%]{color:#00adb5;font-size:inherit;font-family:inherit}.bitHeader[_ngcontent-%COMP%], .bitLabel[_ngcontent-%COMP%]{font-size:1em;font-family:pixel5}@media screen and (min-width:640px){.bitHeader[_ngcontent-%COMP%], .bitLabel[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){.bitHeader[_ngcontent-%COMP%], .bitLabel[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){.bitHeader[_ngcontent-%COMP%], .bitLabel[_ngcontent-%COMP%]{font-size:1.1em}}.bitHeader[_ngcontent-%COMP%]{font-size:1em}@media screen and (min-width:640px){.bitHeader[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){.bitHeader[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){.bitHeader[_ngcontent-%COMP%]{font-size:1em}}.bitLabel[_ngcontent-%COMP%]{font-size:.75em}.flex-row-container[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;display:flex;flex-direction:row;flex-wrap:wrap}.flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]{flex:1 1}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#303841;color:#eee;min-height:100vh}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:20vw;min-width:350px;max-width:500px;background-color:#1a1f24;color:#eee;padding:0}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .closeIcon[_ngcontent-%COMP%]{float:right;padding:10px;cursor:pointer;font-size:1.5em}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto;margin-top:5vh;padding-left:15px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #logoSide[_ngcontent-%COMP%]{max-width:50%;display:block;filter:invert(100%)}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #identification[_ngcontent-%COMP%]{margin-top:10px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #identification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:.5ch;margin:0;padding:0}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #identification[_ngcontent-%COMP%]   #nameSide[_ngcontent-%COMP%]{font-size:1.25em}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #identification[_ngcontent-%COMP%]   #professionSide[_ngcontent-%COMP%]{font-size:.8em}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto;margin-top:20px;list-style-type:none;padding-left:15px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75em .75em .75em 0;margin:0}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0;margin:0;cursor:pointer}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .projectListingNavItem[_ngcontent-%COMP%]{margin-left:1.5em}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.15em .15em .15em 0}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em;margin:0;padding:5px 0;height:auto}}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]{padding-top:10px;width:100%;display:flex;justify-items:center}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]   #sideNavResume[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;text-decoration:none;font-size:2em;padding:.2em .5em}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]   #sideNavResume[_ngcontent-%COMP%]:active{background:#ccc!important;text-shadow:none}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]   #sideNavResume[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]   #sideNavResume[_ngcontent-%COMP%]{font-size:1.4em}}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]{position:absolute;bottom:0;box-sizing:border-box;padding:10px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]   .sidenavLink[_ngcontent-%COMP%]{font-size:.5em;flex:0;text-decoration:underline;margin:1em}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]   .sidenavLink[_ngcontent-%COMP%]{font-size:.6em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]   .sidenavLink[_ngcontent-%COMP%]{font-size:.8em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]   .sidenavLink[_ngcontent-%COMP%]{font-size:1em}}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenav-bar[_ngcontent-%COMP%]{width:250px;min-width:250px;font-size:.9em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{padding:10px;position:fixed;background-color:#5b6b7c;height:50px;z-index:10000}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:2em}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:1em;cursor:pointer}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .work[_ngcontent-%COMP%]{font-size:14px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]{margin-top:50px;padding-top:5vh;padding-bottom:5vh;display:flex;justify-content:center;align-items:center;background-color:#3a4750}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   .logoMain[_ngcontent-%COMP%]{filter:invert(100);width:15vw}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   .logoRight[_ngcontent-%COMP%]{margin-left:14vw;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:2.5em;letter-spacing:.5ch}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   .work[_ngcontent-%COMP%]{font-size:1.2em;letter-spacing:.5ch}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]{padding:80px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{font-size:1em;font-size:1.5em;padding:.5em;display:inline-block;margin:0}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{font-size:1.5em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{font-size:1em;font-size:1.5em;margin-top:40px}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{font-size:1.5em}}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{margin:20px 20px 0}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{padding:0 20px}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]{font-size:1em}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]{font-size:1.25em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]{padding-right:40px;min-width:250px;margin-top:40px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   .introDivImg[_ngcontent-%COMP%]{min-width:100px;height:100px;margin-bottom:20px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1em;margin:0;list-style-type:none}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75em}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{padding:0;content:"\u25a0";font-family:Arial Black;color:#00adb5;font-weight:700;display:inline-block;width:1em;margin:0 0 0 -1em}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .introDiv[_ngcontent-%COMP%]{min-width:275px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   #additionalContentLargeScreenOnly[_ngcontent-%COMP%]{display:none}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-end;padding:20px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]   .textLink[_ngcontent-%COMP%]{font-size:1.25em;margin:20px 40px;display:inline-block;text-decoration:underline}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]   #mainResume[_ngcontent-%COMP%]{margin-right:40px;font-size:1.5em;padding:0 1em;text-decoration:none}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]   #mainResume[_ngcontent-%COMP%]:active{background:#ccc!important;text-shadow:none}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]   #mainResume[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]{padding:20px}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsLabel[_ngcontent-%COMP%]{font-size:1em;font-size:4em;margin-left:.5em}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsLabel[_ngcontent-%COMP%]{font-size:1.5em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsLabel[_ngcontent-%COMP%]{font-size:2.5em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsLabel[_ngcontent-%COMP%]{font-size:4em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectHighlight[_ngcontent-%COMP%]{margin-left:.5em}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsContainer[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]{padding:50px;background-color:#3a4750}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   #contactMeHeader[_ngcontent-%COMP%]{z-index:100;font-size:2em;display:inline-block;padding:.25em .5em;margin-bottom:50px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]{align-items:stretch}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   #fakeLinkedInWrapper[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-direction:column;align-items:stretch}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]{text-decoration:none;margin:15px;width:20%;max-width:20%;min-width:200px;display:flex;flex-direction:column;align-content:flex-end}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   .contactIcon[_ngcontent-%COMP%]{flex:1;display:block;margin-left:auto;margin-right:auto;width:75%}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   #fakeLinkedIn[_ngcontent-%COMP%]{background-color:#00adb5;color:#303841;font-size:140px;line-height:160px;font-family:sans-serif;width:150px;height:150px;border-radius:30px;display:block;text-align:center;margin:auto}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   #fakeLinkedIn[_ngcontent-%COMP%]{width:100px;height:100px;font-size:100px;line-height:110px}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;margin:0 auto;text-align:center;font-size:1em;font-size:1.25em}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid transparent;margin:none;padding:10px;background-color:#1a1f24;width:100%}.gradient-border[_ngcontent-%COMP%]{--border-width:3px;position:relative;display:flex;justify-content:center;align-items:center;color:#eee;background:#1a1f24;border-radius:var(--border-width)}.gradient-border[_ngcontent-%COMP%]:after{position:absolute;content:"";top:calc(-1 * var(--border-width));left:calc(-1 * var(--border-width));z-index:-1;width:calc(100% + var(--border-width) * 2);height:calc(100% + var(--border-width) * 2);background:linear-gradient(60deg,#303841,#00adb5,#eee);background-size:300% 300%;background-position:0 50%;border-radius:calc(2 * var(--border-width))}.gradient-bg[_ngcontent-%COMP%], .gradient-border[_ngcontent-%COMP%]:after{animation:moveGradient 4s infinite alternate}.gradient-bg[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;color:#eee;border-radius:5px;background:linear-gradient(60deg,#303841,#00adb5,#cfcfcf);background-size:300% 300%;background-position:0 50%}@keyframes moveGradient{50%{background-position:100% 50%}}.resumeAnim[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;vertical-align:middle;cursor:pointer;transition:color .25s}.resumeAnim[_ngcontent-%COMP%]:after, .resumeAnim[_ngcontent-%COMP%]:before{box-sizing:inherit;content:"";position:absolute;width:100%;height:100%;border:3px solid transparent;width:0;height:0}.resumeAnim[_ngcontent-%COMP%]:before{top:0;left:0}.resumeAnim[_ngcontent-%COMP%]:after{bottom:0;right:0;top:0;left:0}.resumeAnim[_ngcontent-%COMP%]:hover{text-shadow:0 .05em .05em #111}.resumeAnim[_ngcontent-%COMP%]:hover:after, .resumeAnim[_ngcontent-%COMP%]:hover:before{width:100%;height:100%}.resumeAnim[_ngcontent-%COMP%]:hover:before{border-top-color:#fff;border-right-color:#fff;transition:width .25s ease-out,height .25s ease-out .25s}.resumeAnim[_ngcontent-%COMP%]:hover:after{border-bottom-color:#fff;border-left-color:#fff;transition:border-color 0s ease-out .5s,width .25s ease-out .5s,height .25s ease-out .75s;transition:height .25s ease-out,width .25s ease-out .25s}']}),t})();const xL=[{id:1,name:"SiegeStarterIcons.com",link:"siegestarericons.com",source:"https://github.com/Ragnaraven/siegestartericons.com",sourceText:"Source (GitHub)",linkTo:"https://siegestartericons.com/",linkToText:"Link",date:"Since Mar 2017",aaOff:!1,style:"customImageWrapper",imageOrMovieBGPath:"assets/res/projects/ssi/ssi.png",fallbackImage:"assets/res/projects/ssi/ssi.png",customStyleData:"ssi",description:"SiegeStarterIcons.com was my first website that allows users to make basic Uplay icons for Ubisoft's Tom Clany's Rainbow Six: Siege. Created with HTML, CSS, and JS and jQuery.",showcases:[]},{id:2,name:"Modern Alarm Clock",link:"mac",source:"",sourceText:"",linkTo:"",linkToText:"",date:"Since 2014",aaOff:!1,style:"customMAC",imageOrMovieBGPath:"",fallbackImage:"",customStyleData:"",description:"Modern Alarm Clock is a Java Android alarm app. This was my first exposure to advanced UI and UX design and I am very happy with the original UI displayed in the showcase.",showcases:[{header:"UI Demo",mediaHeader:"",textAbove:"Below is a simple UI demo for my Android app. All designs, animations and interactions are either original or are provided by default by the Android SDK.",textBelow:"",type:"youtube",media:["lUPHyaaRL30"],extras:[]}]},{id:3,name:"AndrewPodrat.com",link:"andrewpodrat.com",source:"https://github.com/Ragnaraven/andrewpodratcom-angular",sourceText:"Source Code (GitHub)",linkTo:"",linkToText:"",date:"Since Feb 2021",aaOff:!1,style:"customImageWrapper",imageOrMovieBGPath:"assets/res/signature.svg",fallbackImage:"assets/res/signature.svg",customStyleData:"apcom",description:"You're here! AndrewPodrat.com is written with Angular 11, a bit of jQuery and a few libraries to bring together all of the projects displayed here. Angular packages used include lightbox, 3js, gh-pages.",showcases:[]}];function ML(t,e){1&t&&(Ro(0,"span",34),sa(1,"showcase"),Do())}function SL(t,e){1&t&&(Ro(0,"a",35),sa(1,"Visit Site"),Do()),2&t&&qo("href",Uo().project.linkTo,sr)}function TL(t,e){1&t&&(Ro(0,"a",36),sa(1,"Source Code (GitHub)"),Do()),2&t&&qo("href",Uo().project.source,sr)}function CL(t,e){1&t&&ko(0,"app-showcase-component",49),2&t&&Io("showcase",e.$implicit)}function PL(t,e){if(1&t&&(Ro(0,"a",50),sa(1),Do()),2&t){const t=Uo(2);qo("href",t.project.source,sr),es(1),oa(t.project.sourceText)}}function EL(t,e){if(1&t&&(Ro(0,"a",51),sa(1),Do()),2&t){const t=Uo(2);qo("href",t.project.linkTo,sr),es(1),oa(t.project.linkToText)}}function OL(t,e){if(1&t){const t=No();Ro(0,"div",37),Ro(1,"div",38),Ro(2,"div",39),Ro(3,"span",40),sa(4),Ro(5,"span",41),sa(6,"Showcase"),Do(),Do(),Ro(7,"div",42),Ro(8,"span",43),Bo("click",function(){He(t),Uo();const e=Oo(1);return e.expanded=!e.expanded}),sa(9,"hide"),Do(),Do(),Do(),Ro(10,"div",44),Eo(11,CL,1,1,"app-showcase-component",45),Do(),Ro(12,"div",46),Eo(13,PL,2,2,"a",47),Eo(14,EL,2,2,"a",48),Do(),Do(),Do()}if(2&t){const t=Uo();es(4),aa("",t.project.name," "),es(7),Io("ngForOf",t.project.showcases),es(2),Io("ngIf",""!=t.project.source),es(1),Io("ngIf",""!=t.project.linkTo)}}const AL=function(){return{}},IL=function(t){return{"background-image":t}};let LL=(()=>{class t{constructor(t){this.deviceService=t,this.deviceInfo=null,this.deviceInfo=this.deviceService.getDeviceInfo()}ngOnInit(){}mobileCheck(){return this.deviceService.isMobile()}smallScreenCheck(){return this.deviceService.isMobile()||window.innerWidth<800||window.innerHeight<500}}return t.\u0275fac=function(e){return new(e||t)(Ao(sw))},t.\u0275cmp=Ut({type:t,selectors:[["app-project-listing-mac"]],inputs:{project:"project"},decls:39,vars:19,consts:[["hideToggle","",3,"id"],["mep","matExpansionPanel"],[3,"ngClass","id","ngStyle"],[1,"projectContent",3,"id"],["id","bgWrapper"],["id","cloudBG"],["id","sunRays","width","60","height","75vh"],["width","60px","height","100vh",2,"fill","rgb(0,0,0)"],["id","suns"],["id","sunBack","src","assets/res/projects/modernalarmclock/sun.svg","alt","sunBg"],["id","sunFront","src","assets/res/projects/modernalarmclock/sun.svg","alt","sun"],["id","hillsThree","src","assets/res/projects/modernalarmclock/hill3.svg","alt","hill3"],["id","hillsTwo","src","assets/res/projects/modernalarmclock/hill2.svg","alt","hill2"],["id","hillsOne","src","assets/res/projects/modernalarmclock/hill1.svg","alt","hill1"],["id","cloudWrapper"],["id","cloud1","src","assets/res/projects/modernalarmclock/cloud1.svg","alt","cloud",1,"cloud"],["id","cloud2","src","assets/res/projects/modernalarmclock/cloud2.svg","alt","cloud",1,"cloud"],["id","cloud3","src","assets/res/projects/modernalarmclock/cloud3.svg","alt","cloud",1,"cloud"],["id","cloud4","src","assets/res/projects/modernalarmclock/cloud4.svg","alt","cloud",1,"cloud"],["id","cloud5","src","assets/res/projects/modernalarmclock/cloud5.svg","alt","cloud",1,"cloud"],["id","animationIn"],["id","three","data-wow-delay","0.5s",1,"wow","slideOutLeft"],["id","two","data-wow-delay","0.3s",1,"wow","slideOutLeft"],["id","one",1,"wow","slideOutLeft"],["data-wow-delay","0.5s",1,"projectNameShowcase","wow","slideInleft"],[1,"projectDetailsWrapper"],[1,"projectDetailsContent"],["data-wow-delay","0.7s",1,"projectNameHeader","wow","fadeInRight"],["data-wow-delay","0.95s",1,"projectDate","wow","fadeInRight"],["data-wow-delay","1.1s",1,"projectDescription","wow","fadeInRight"],["class","toggleShowcase wow fadeIn","data-wow-delay","1.75s",4,"ngIf"],["class","wow fadeIn detailsLink","data-wow-delay","1.75s",3,"href",4,"ngIf"],["class","wow fadeIn detailsLink right","data-wow-delay","1.75s",3,"href",4,"ngIf"],["class","projectShowcaseContainer",4,"ngIf"],["data-wow-delay","1.75s",1,"toggleShowcase","wow","fadeIn"],["data-wow-delay","1.75s",1,"wow","fadeIn","detailsLink",3,"href"],["data-wow-delay","1.75s",1,"wow","fadeIn","detailsLink","right",3,"href"],[1,"projectShowcaseContainer"],[1,"projectShowcaseContainerContent"],[1,"showcaseMenu"],[1,"projectNameShowcaseLabel"],[1,"bitHighligherStroke"],[1,"closeWrapper"],[1,"toggleShowcase",2,"font-size","1.5em",3,"click"],[1,"showcasesContainer"],[3,"showcase",4,"ngFor","ngForOf"],[1,"links"],["class","source",3,"href",4,"ngIf"],["class","linkTo",3,"href",4,"ngIf"],[3,"showcase"],[1,"source",3,"href"],[1,"linkTo",3,"href"]],template:function(t,e){1&t&&(Ro(0,"mat-expansion-panel",0,1),Ro(2,"mat-expansion-panel-header"),Ro(3,"div",2),Ro(4,"div",3),Ro(5,"div",4),Ro(6,"div",5),Re.lFrame.currentNamespace=ve,Ro(7,"svg",6),ko(8,"rect",7),Do(),Re.lFrame.currentNamespace=null,Ro(9,"div",8),ko(10,"img",9),ko(11,"img",10),Do(),ko(12,"img",11),ko(13,"img",12),ko(14,"img",13),Ro(15,"div",14),ko(16,"img",15),ko(17,"img",16),ko(18,"img",17),ko(19,"img",18),ko(20,"img",19),Do(),Do(),Ro(21,"div",20),ko(22,"div",21),ko(23,"div",22),ko(24,"div",23),Do(),Do(),Ro(25,"h3",24),sa(26),Do(),Ro(27,"div",25),Ro(28,"div",26),Ro(29,"h3",27),sa(30),Do(),Ro(31,"p",28),sa(32),Do(),Ro(33,"p",29),sa(34),Do(),Eo(35,ML,2,0,"span",30),Eo(36,SL,2,1,"a",31),Eo(37,TL,2,1,"a",32),Do(),Do(),Do(),Do(),Do(),Eo(38,OL,15,4,"div",33),Do()),2&t&&(Io("id",e.project.link),es(3),Io("ngClass",e.project.aaOff?"projectContainerAAOff":"projectContainer")("id","customImageWrapper"===e.project.style?e.project.customStyleData:"")("ngStyle",e.mobileCheck()?"customImageWrapper"===e.project.style?Ic(13,AL):Lc(14,IL,"url("+e.project.fallbackImage+")"):"standard"===e.project.style?Lc(16,IL,"url("+e.project.imageOrMovieBGPath+")"):Ic(18,AL)),es(1),Yo("id","item-",e.project.link,""),es(22),oa(e.project.name),es(4),oa(e.project.name),es(2),oa(e.project.date),es(2),oa(e.project.description),es(1),Io("ngIf",e.project.showcases.length>0),es(1),Io("ngIf",0==e.project.showcases.length&&""!=e.project.linkTo),es(1),Io("ngIf",0==e.project.showcases.length&&""!=e.project.source),es(1),Io("ngIf",e.project.showcases.length>0))},directives:[Ow,Aw,xh,Oh,Ch,Sh,rL],styles:['@font-face{font-family:pixel5;src:url(pixel5.d9d11b3df42d741aaf14.ttf) format("truetype")}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#eee}a[_ngcontent-%COMP%]:hover{color:#00adb5}a[_ngcontent-%COMP%]:active{color:#6f6f6f}.toggleShowcase[_ngcontent-%COMP%]{cursor:pointer;pointer-events:all;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.toggleShowcase[_ngcontent-%COMP%]:hover{text-decoration:underline}.detailsLink[_ngcontent-%COMP%]{cursor:pointer;pointer-events:all;-webkit-touch-callout:inherit;-webkit-user-select:inherit;user-select:inherit}.right[_ngcontent-%COMP%]{float:right}mat-expansion-panel[_ngcontent-%COMP%]{padding:0;margin:0;pointer-events:none}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0;margin:0}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContainer[_ngcontent-%COMP%], mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContainerAAOff[_ngcontent-%COMP%]{padding:0;margin:0;display:flex;height:50vh;width:100%;background:#eee;background-size:cover;background-repeat:no-repeat;background-position:50%;background-color:#03a9f4}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContainerAAOff[_ngcontent-%COMP%]{image-rendering:optimizeSpeed;image-rendering:-o-crisp-edges;image-rendering:pixelated;image-rendering:optimize-contrast;-ms-interpolation-mode:nearest-neighbor}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]{position:relative;display:flex;width:100%}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectImageWrapper[_ngcontent-%COMP%]{height:80%;width:100%;margin-top:20px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectImageWrapper[_ngcontent-%COMP%]   .projectImage[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectMovieContainer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectMovie[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);min-width:100%;min-height:100%;width:auto;height:auto;z-index:1;overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectNameShowcase[_ngcontent-%COMP%]{position:absolute;letter-spacing:.5ch;margin:0 0 20px;padding:5px 5px 5px 20px;border-radius:0 2px 2px 0;align-self:flex-end;z-index:10;font-size:1.5rem;display:none;background:linear-gradient(90deg,rgba(0,0,0,.5),rgba(0,0,0,.85))}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]{max-height:100%;max-width:40%;width:100%;min-width:300px;z-index:100;margin:0 5% 0 auto;color:#eee;display:flex;justify-content:center;align-items:center;align-content:center;font-size:.8em}@media screen and (min-width:640px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]{font-size:.8em}}@media screen and (min-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]{font-size:.9em}}@media screen and (min-width:1920px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]{font-size:1.15em}}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]{margin-left:15%;margin-right:15%}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectNameHeader[_ngcontent-%COMP%]{margin:0;padding:0;font-size:1.25em}@media screen and (min-width:640px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectNameHeader[_ngcontent-%COMP%]{font-size:1.5em}}@media screen and (min-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectNameHeader[_ngcontent-%COMP%]{font-size:1.85em}}@media screen and (min-width:1600px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectNameHeader[_ngcontent-%COMP%]{font-size:2em}}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectDate[_ngcontent-%COMP%]{margin:0;padding:0;font-size:.7rem}@media screen and (min-width:640px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectDate[_ngcontent-%COMP%]{font-size:.7rem}}@media screen and (min-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectDate[_ngcontent-%COMP%]{font-size:.7rem}}@media screen and (min-width:1920px){mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .projectContent[_ngcontent-%COMP%]   .projectDetailsWrapper[_ngcontent-%COMP%]   .projectDetailsContent[_ngcontent-%COMP%]   .projectDate[_ngcontent-%COMP%]{font-size:.8rem}}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]{pointer-events:all;display:flex;flex-direction:column;justify-content:center;background-color:#46515e;margin:0 -30px -30px;padding-top:10px;padding-bottom:40px}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]{width:95%;max-width:1200px;margin-left:auto;margin-right:auto;display:flex;flex-direction:column;justify-content:center;background-color:#303841;box-shadow:0 0 6px #222}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#1a1f24;display:flex;flex-direction:row;justify-content:flex-end;align-content:center;z-index:100;padding:10px 20px}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{flex-grow:1;font-size:1.5em}@media screen and (min-width:640px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{font-size:1.75em}}@media screen and (min-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{font-size:3em}}@media screen and (min-width:1600px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{font-size:3em}}@media screen and (min-width:1920px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]{font-size:3em}}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .projectNameShowcaseLabel[_ngcontent-%COMP%]   .bitHighligherStroke[_ngcontent-%COMP%]{margin-left:10px;font-family:pixel5;color:#eee;font-size:.55em;animation:bitHightlightCycle linear infinite;animation-direction:forwards;animation-duration:2s}@keyframes bitHightlightCycle{0%{-webkit-text-stroke:1px #303841;text-shadow:3px 3px 0 #303841,-1px -1px 0 #303841,1px -1px 0 #303841,-1px 1px 0 #303841,1px 1px 0 #303841}49%{-webkit-text-stroke:1px #303841;text-shadow:3px 3px 0 #303841,-1px -1px 0 #303841,1px -1px 0 #303841,-1px 1px 0 #303841,1px 1px 0 #303841}50%{-webkit-text-stroke:1px #00adb5;text-shadow:3px 3px 0 #00adb5,-1px -1px 0 #00adb5,1px -1px 0 #00adb5,-1px 1px 0 #00adb5,1px 1px 0 #00adb5}to{-webkit-text-stroke:1px #00adb5;text-shadow:3px 3px 0 #00adb5,-1px -1px 0 #00adb5,1px -1px 0 #00adb5,-1px 1px 0 #00adb5,1px 1px 0 #00adb5}}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]   .showcaseMenu[_ngcontent-%COMP%]   .closeWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;justify-content:center}@media only screen and (max-width:1280px){mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .projectShowcaseContainerContent[_ngcontent-%COMP%]{width:95%}}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;justify-content:center;margin-bottom:1em}mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .linkTo[_ngcontent-%COMP%], mat-expansion-panel[_ngcontent-%COMP%]   .projectShowcaseContainer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .source[_ngcontent-%COMP%]{flex-grow:1;font-size:2em;text-align:center}.gradient-border-sides[_ngcontent-%COMP%]{--borderWidth:8px;background:#3a4750;position:relative}.gradient-border-sides[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(0 * var(--borderWidth));left:calc(-1 * var(--borderWidth));height:calc(100%);width:calc(100% + var(--borderWidth) * 2);background:linear-gradient(60deg,#03b1a2,#7489a0,#23c4cc,#4e77d1,#bbb);z-index:-1;animation:animatedgradientSides 3s ease infinite alternate;background-size:300% 300%}@keyframes animatedgradientSides{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}#bgWrapper[_ngcontent-%COMP%], #bgWrapper[_ngcontent-%COMP%]   #animationIn[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;height:100%}#bgWrapper[_ngcontent-%COMP%]   #animationIn[_ngcontent-%COMP%]   #one[_ngcontent-%COMP%], #bgWrapper[_ngcontent-%COMP%]   #animationIn[_ngcontent-%COMP%]   #three[_ngcontent-%COMP%], #bgWrapper[_ngcontent-%COMP%]   #animationIn[_ngcontent-%COMP%]   #two[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:5;animation-fill-mode:forwards}#bgWrapper[_ngcontent-%COMP%]   #animationIn[_ngcontent-%COMP%]   #one[_ngcontent-%COMP%]{background-color:#03a9f4}#bgWrapper[_ngcontent-%COMP%]   #animationIn[_ngcontent-%COMP%]   #two[_ngcontent-%COMP%]{background-color:#30649f}#bgWrapper[_ngcontent-%COMP%]   #animationIn[_ngcontent-%COMP%]   #three[_ngcontent-%COMP%]{background-color:#ffd740}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]{position:relative;width:100%}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #suns[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100px;height:100px;margin-top:5vh;margin-left:3vw}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #sunBack[_ngcontent-%COMP%], #bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #sunFront[_ngcontent-%COMP%]{position:absolute;animation-iteration-count:infinite}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #sunFront[_ngcontent-%COMP%]{width:100px;height:100px;filter:invert(90%) sepia(50%) saturate(619%) hue-rotate(340deg) brightness(100%) contrast(103%);animation-name:spin;animation-duration:5s;animation-timing-function:linear}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #sunBack[_ngcontent-%COMP%]{width:80px;height:80px;filter:invert(61%) sepia(75%) saturate(472%) hue-rotate(353deg) brightness(92%) contrast(97%);animation-name:spinBack;animation-duration:2.5s;animation-timing-function:ease}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #sunRays[_ngcontent-%COMP%]{position:absolute;margin-top:10vh;margin-left:4vw;filter:invert(100%);opacity:.1;transform-origin:top left;transform:rotate(-15deg)}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #cloudWrapper[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #cloudWrapper[_ngcontent-%COMP%]   .cloud[_ngcontent-%COMP%]{position:absolute;width:100px;margin-left:-250px;animation-name:slideRight;animation-timing-function:linear;animation-iteration-count:infinite;font-size:1rem;z-index:5!important}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #cloudWrapper[_ngcontent-%COMP%]   #cloud1[_ngcontent-%COMP%]{margin-top:1vh;animation-delay:1s;animation-duration:20s}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #cloudWrapper[_ngcontent-%COMP%]   #cloud2[_ngcontent-%COMP%]{margin-top:3vh;animation-delay:2.5s;animation-duration:26s}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #cloudWrapper[_ngcontent-%COMP%]   #cloud3[_ngcontent-%COMP%]{margin-top:5vh;animation-delay:3s;animation-duration:24s}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #cloudWrapper[_ngcontent-%COMP%]   #cloud4[_ngcontent-%COMP%]{margin-top:7vh;animation-delay:6s;animation-duration:28s}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #cloudWrapper[_ngcontent-%COMP%]   #cloud5[_ngcontent-%COMP%]{margin-top:9vh;animation-delay:4.6s;animation-duration:32s}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #hillsOne[_ngcontent-%COMP%], #bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #hillsThree[_ngcontent-%COMP%], #bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #hillsTwo[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #hillsOne[_ngcontent-%COMP%]{filter:invert(87%) sepia(28%) saturate(678%) hue-rotate(40deg) brightness(94%) contrast(95%);height:25%}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #hillsTwo[_ngcontent-%COMP%]{filter:invert(93%) sepia(16%) saturate(1286%) hue-rotate(32deg) brightness(91%) contrast(88%);height:30%}#bgWrapper[_ngcontent-%COMP%]   #cloudBG[_ngcontent-%COMP%]   #hillsThree[_ngcontent-%COMP%]{filter:invert(79%) sepia(14%) saturate(1422%) hue-rotate(44deg) brightness(90%) contrast(86%);height:35%}@keyframes slideRight{0%{left:0}to{left:150%}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spinBack{0%{transform:rotate(1turn)}to{transform:rotate(0deg)}}']}),t})();function RL(t,e){if(1&t){const t=No();Ro(0,"span",54),Bo("click",function(){return He(t),Uo(),Oo(2).opened=!1}),sa(1,"[X]"),Do()}}function DL(t,e){if(1&t){const t=No();Ro(0,"li"),Ro(1,"a",55),Bo("click",function(){He(t);const n=e.$implicit;return Uo().scrollToElement(n.link)}),sa(2),Do(),Do()}if(2&t){const t=e.$implicit;es(2),aa(" ",t.name," ")}}function kL(t,e){if(1&t){const t=No();Ro(0,"mat-toolbar"),Ro(1,"img",56),Bo("click",function(){He(t),Uo();const e=Oo(2);return e.opened=!e.opened}),Do(),Ro(2,"span",22),sa(3,"Andrew M. Podrat"),Do(),Ro(4,"span",23),sa(5,"Web & App Developer"),Do(),Do()}}function NL(t,e){1&t&&ko(0,"app-project-listing",58),2&t&&Io("project",Uo().$implicit)}function HL(t,e){1&t&&ko(0,"app-project-listing-mac",58),2&t&&Io("project",Uo().$implicit)}function BL(t,e){if(1&t&&(Ro(0,"li"),Eo(1,NL,1,1,"app-project-listing",57),Eo(2,HL,1,1,"app-project-listing-mac",57),Do()),2&t){const t=e.$implicit;es(1),Io("ngIf","standard"==t.style||"customImageWrapper"==t.style),es(1),Io("ngIf","customMAC"==t.style)}}const FL=[{path:"",component:Fb},{path:"games",component:wL},{path:"apps",component:(()=>{class t{constructor(t){this.deviceService=t,this.apps=xL,this.deviceInfo=null,this.deviceInfo=this.deviceService.getDeviceInfo()}ngOnInit(){}scrollToElement(t){document.getElementById("item-"+t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}mobileCheck(){return this.deviceService.isMobile()}smallScreenCheck(){return this.deviceService.isMobile()||window.innerWidth<800||window.innerHeight<500}}return t.\u0275fac=function(e){return new(e||t)(Ao(sw))},t.\u0275cmp=Ut({type:t,selectors:[["app-apps"]],decls:143,vars:5,consts:[["fixedInViewport","true","mode","side",3,"opened"],["sidenav",""],["class","closeIcon",3,"click",4,"ngIf"],["id","menuHeader"],["id","logoSide","src","assets/res/signature_legacy.svg"],["id","identification"],["id","nameSide"],["id","professionSide"],["id","navList",1,"noselect"],[3,"click"],[4,"ngFor","ngForOf"],[1,"sideNavResumeContainer","noselect"],["id","sideNavResume","href","https://drive.google.com/file/d/17x89_CeS7joV8waohG7i66xYca3vpO4c/view?usp=sharing","target","_blank",1,"gradient-bg","resumeAnim","noselect"],[1,"flex-row-container","sidenavLinksWrapper"],["href","mailto:andrew@andrewpodrat.com",1,"sidenavLink","flex-row-item"],["href","https://www.linkedin.com/in/andrewpodrat/",1,"sidenavLink","flex-row-item"],["href","https://github.com/Ragnaraven",1,"sidenavLink","flex-row-item"],[1,"sidenav-content"],[4,"ngIf"],[1,"logoContainer"],["src","assets/res/signature.svg",1,"logoMain"],[1,"logoRight"],[1,"name"],[1,"work"],["id","item-projects"],[1,"projectsLabel"],[1,"projectsContainer"],["id","item-welcome"],["id","greeting",1,"gradient-border"],["id","pickupLine"],[2,"color","white","font-weight","500","font-size","1.25em"],["id","bigThree",1,"flex-row-container"],[1,"flex-row-item"],["src","assets/res/passions/developer.svg",1,"introDivImg"],[1,"introDivHeader","bitHeader"],[1,"accentHighlight"],[1,"introDivParagraph"],[1,"introDivParagraph","bitLabel"],[1,"bitLabel"],[1,"textLinksWrapper"],["id","mainResume","href","https://drive.google.com/file/d/17x89_CeS7joV8waohG7i66xYca3vpO4c/view?usp=sharing","target","_blank",1,"gradient-bg","resumeAnim","noselect"],["href","mailto:andrew@andrewpodrat.com",1,"textLink"],["href","https://www.linkedin.com/in/andrewpodrat/",1,"textLink"],["href","https://github.com/Ragnaraven",1,"textLink"],["id","item-contactMe"],["id","contactMeHeader",1,"wow","bounceInLeft","gradient-border"],[1,"flex-row-container"],["href","mailto:andrew@andrewpodrat.com",1,"flex-row-item","noselect"],["src","assets/res/material.io/mail-white-18dp.svg",1,"contactIcon","hvr-grow-rotate"],["id","fakeLinkedInWrapper","href","https://www.linkedin.com/in/andrewpodrat/",1,"flex-row-item","noselect","hvr-float"],["id","fakeLinkedIn",1,"noselect"],["src","assets/res/material.io/place-white-18dp.svg",1,"contactIcon","noselect","hvr-bob"],["href","https://github.com/Ragnaraven",1,"flex-row-item","noselect","hvr-pulse"],["src","assets/res/github/github-big.svg",1,"contactIcon","hvr-grow-rotate"],[1,"closeIcon",3,"click"],[1,"projectListingNavItem",3,"click"],["src","assets/res/material.io/menu-white-18dp.svg",1,"icon",3,"click"],[3,"project",4,"ngIf"],[3,"project"]],template:function(t,e){1&t&&(Ro(0,"mat-sidenav-container"),Ro(1,"mat-sidenav",0,1),Eo(3,RL,2,0,"span",2),Ro(4,"div",3),ko(5,"img",4),Ro(6,"div",5),Ro(7,"p",6),sa(8,"Andrew Podrat"),Do(),Ro(9,"p",7),sa(10,"Web & App Developer"),Do(),Do(),Do(),Ro(11,"ul",8),Ro(12,"li"),Ro(13,"a",9),Bo("click",function(){return e.scrollToElement("welcome")}),sa(14," Welcome "),Do(),Do(),Ro(15,"li"),Ro(16,"a",9),Bo("click",function(){return e.scrollToElement("projects")}),sa(17," Projects "),Do(),Do(),Eo(18,DL,3,1,"li",10),Ro(19,"li"),Ro(20,"a",9),Bo("click",function(){return e.scrollToElement("contactMe")}),sa(21," Contact "),Do(),Do(),Do(),Ro(22,"div",11),Ro(23,"a",12),sa(24,"Resume"),Do(),Do(),Ro(25,"div",13),Ro(26,"a",14),sa(27,"andrew@andrewpodrat.com"),Do(),Ro(28,"a",15),sa(29,"LinkedIn"),Do(),Ro(30,"a",16),sa(31,"GitHub"),Do(),Do(),Do(),Ro(32,"mat-sidenav-content",17),Eo(33,kL,6,0,"mat-toolbar",18),Ro(34,"section",19),ko(35,"img",20),Ro(36,"div",21),Ro(37,"span",22),sa(38,"Andrew M. Podrat"),Do(),Ro(39,"span",23),sa(40,"Web & App Developer"),Do(),Do(),Do(),Ro(41,"section",24),Ro(42,"p",25),sa(43,"Projects"),Do(),Ro(44,"ul",26),Eo(45,BL,3,2,"li",10),Do(),Do(),Ro(46,"section",27),Ro(47,"p",28),sa(48,"Helloy there!"),Do(),Ro(49,"p",29),Ro(50,"span",30),sa(51,"I'm Andrew."),Do(),ko(52,"br"),sa(53," I am a highly motivated full stack engineer with an always expanding and versatile technical skillset. "),ko(54,"br"),sa(55," I like to keep my code and designs both clean and highly reusable."),ko(56,"br"),sa(57," I am diplomatic team player who is not afraid to take initiative or work independently."),Do(),Ro(58,"div",31),Ro(59,"div",32),ko(60,"img",33),Ro(61,"p",34),sa(62,"As a "),Ro(63,"span",35),sa(64,"software developer"),Do(),sa(65,", many programs, skills and languages are at my disposal."),Do(),Ro(66,"p",36),sa(67,"I create websites and apps mostly in Intellij IDEA, VS Code and Visual Studio"),Do(),Ro(68,"p",37),sa(69,"I have had the pleasure of using many "),Ro(70,"span",35),sa(71,"lanaguages"),Do(),sa(72,", "),Ro(73,"span",35),sa(74,"programs"),Do(),sa(75," and "),Ro(76,"span",35),sa(77,"tools"),Do(),sa(78,", including:"),Do(),Ro(79,"ul"),Ro(80,"li"),Ro(81,"span",38),sa(82,"Languages:"),Do(),sa(83,"Java, C#, C++, HTML, CSS, JS, Python, PHP"),Do(),Ro(84,"li"),Ro(85,"span",38),sa(86,"Libraries & Frameworks:"),Do(),sa(87,"Angular 8 - 13, JQuery, Bootstrap"),Do(),Ro(88,"li"),Ro(89,"span",38),sa(90,"IDEs:"),Do(),sa(91,"VS Code, JetBrains Suite, Visual Studio, Android Studio"),Do(),Ro(92,"li"),Ro(93,"span",38),sa(94,"Tools:"),Do(),sa(95,"Microsoft Office, Google Apps"),Do(),Ro(96,"li"),Ro(97,"span",38),sa(98,"Source Control:"),Do(),sa(99,"Github, Sourcetree, Bitbucket"),Do(),Ro(100,"li"),Ro(101,"span",38),sa(102,"Communication:"),Do(),sa(103,"Slack, MS Teams, Zoom, Skype, Discord"),Do(),Ro(104,"li"),Ro(105,"span",38),sa(106,"Graphic Design:"),Do(),sa(107,"Photoshop, Illustrator, Inkscape"),Do(),Ro(108,"li"),Ro(109,"span",38),sa(110,"3D Modeling:"),Do(),sa(111,"Blender, 3DS Max, Maya, Quixel Mixer"),Do(),Do(),Do(),Do(),Ro(112,"div",39),Ro(113,"a",40),sa(114,"Resume"),Do(),Ro(115,"a",41),sa(116,"andrew@andrewpodrat.com"),Do(),Ro(117,"a",42),sa(118,"LinkedIn"),Do(),Ro(119,"a",43),sa(120,"GitHub"),Do(),Do(),Do(),Ro(121,"section",44),Ro(122,"p",45),sa(123,"Contact Me"),Do(),Ro(124,"div",46),Ro(125,"a",47),ko(126,"img",48),Ro(127,"p"),sa(128,"andrew@andrewpodrat.com"),Do(),Do(),Ro(129,"a",49),Ro(130,"p",50),sa(131,"in"),Do(),Ro(132,"p"),sa(133,"LinkedIn"),Do(),Do(),Ro(134,"div",32),ko(135,"img",51),Ro(136,"p"),sa(137,"Pittsburgh, PA"),Do(),Do(),Ro(138,"a",52),ko(139,"img",53),Ro(140,"p"),sa(141,"GitHub"),Do(),Do(),Do(),Do(),ko(142,"footer"),Do(),Do()),2&t&&(es(1),Io("opened",!e.smallScreenCheck()),es(2),Io("ngIf",e.smallScreenCheck()),es(15),Io("ngForOf",e.apps),es(15),Io("ngIf",e.smallScreenCheck()),es(12),Io("ngForOf",e.apps))},directives:[dv,hv,Ch,Sh,lv,zf,gL,LL],styles:['@charset "UTF-8";@import url("https://fonts.googleapis.com/css2?family=Rajdhani&display=swap");@import url("https://fonts.googleapis.com/css?family=Lato:300");@font-face{font-family:pixel5;src:url(pixel5.d9d11b3df42d741aaf14.ttf) format("truetype")}*[_ngcontent-%COMP%]{font-family:Rajdhani,sans-serif}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#eee}a[_ngcontent-%COMP%]:hover{color:#00adb5}a[_ngcontent-%COMP%]:active{color:#6f6f6f}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.accentHighlight[_ngcontent-%COMP%]{color:#00adb5;font-size:inherit;font-family:inherit}.bitHeader[_ngcontent-%COMP%], .bitLabel[_ngcontent-%COMP%]{font-size:1em;font-family:pixel5}@media screen and (min-width:640px){.bitHeader[_ngcontent-%COMP%], .bitLabel[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){.bitHeader[_ngcontent-%COMP%], .bitLabel[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){.bitHeader[_ngcontent-%COMP%], .bitLabel[_ngcontent-%COMP%]{font-size:1.1em}}.bitHeader[_ngcontent-%COMP%]{font-size:1em}@media screen and (min-width:640px){.bitHeader[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){.bitHeader[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){.bitHeader[_ngcontent-%COMP%]{font-size:1em}}.bitLabel[_ngcontent-%COMP%]{font-size:.75em}.flex-row-container[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;display:flex;flex-direction:row;flex-wrap:wrap}.flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]{flex:1 1}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#303841;color:#eee;min-height:100vh}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:20vw;min-width:350px;max-width:500px;background-color:#1a1f24;color:#eee;padding:0}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .closeIcon[_ngcontent-%COMP%]{float:right;padding:10px;cursor:pointer;font-size:1.5em}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto;margin-top:5vh;padding-left:15px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #logoSide[_ngcontent-%COMP%]{max-width:50%;display:block;filter:invert(100%)}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #identification[_ngcontent-%COMP%]{margin-top:10px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #identification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:.5ch;margin:0;padding:0}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #identification[_ngcontent-%COMP%]   #nameSide[_ngcontent-%COMP%]{font-size:1.25em}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #menuHeader[_ngcontent-%COMP%]   #identification[_ngcontent-%COMP%]   #professionSide[_ngcontent-%COMP%]{font-size:.8em}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto;margin-top:20px;list-style-type:none;padding-left:15px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75em .75em .75em 0;margin:0}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0;margin:0;cursor:pointer}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .projectListingNavItem[_ngcontent-%COMP%]{margin-left:1.5em}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.15em .15em .15em 0}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   #navList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em;margin:0;padding:5px 0;height:auto}}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]{padding-top:10px;width:100%;display:flex;justify-items:center}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]   #sideNavResume[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;text-decoration:none;font-size:2em;padding:.2em .5em}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]   #sideNavResume[_ngcontent-%COMP%]:active{background:#ccc!important;text-shadow:none}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]   #sideNavResume[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNavResumeContainer[_ngcontent-%COMP%]   #sideNavResume[_ngcontent-%COMP%]{font-size:1.4em}}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]{position:absolute;bottom:0;box-sizing:border-box;padding:10px}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]   .sidenavLink[_ngcontent-%COMP%]{font-size:.5em;flex:0;text-decoration:underline;margin:1em}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]   .sidenavLink[_ngcontent-%COMP%]{font-size:.6em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]   .sidenavLink[_ngcontent-%COMP%]{font-size:.8em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenavLinksWrapper[_ngcontent-%COMP%]   .sidenavLink[_ngcontent-%COMP%]{font-size:1em}}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sidenav-bar[_ngcontent-%COMP%]{width:250px;min-width:250px;font-size:.9em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{padding:10px;position:fixed;background-color:#5b6b7c;height:50px;z-index:10000}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:2em}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:1em;cursor:pointer}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   .work[_ngcontent-%COMP%]{font-size:14px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]{margin-top:50px;padding-top:5vh;padding-bottom:5vh;display:flex;justify-content:center;align-items:center;background-color:#3a4750}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   .logoMain[_ngcontent-%COMP%]{filter:invert(100);width:15vw}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   .logoRight[_ngcontent-%COMP%]{margin-left:14vw;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:2.5em;letter-spacing:.5ch}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   .work[_ngcontent-%COMP%]{font-size:1.2em;letter-spacing:.5ch}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]{padding:80px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{font-size:1em;font-size:1.5em;padding:.5em;display:inline-block;margin:0}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{font-size:1.5em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{font-size:1em;font-size:1.5em;margin-top:40px}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{font-size:1.5em}}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #greeting[_ngcontent-%COMP%]{margin:20px 20px 0}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #pickupLine[_ngcontent-%COMP%]{padding:0 20px}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]{font-size:1em}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]{font-size:1.25em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]{padding-right:40px;min-width:250px;margin-top:40px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   .introDivImg[_ngcontent-%COMP%]{min-width:100px;height:100px;margin-bottom:20px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1em;margin:0;list-style-type:none}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{padding:0;content:"\u25a0";font-family:Arial Black;color:#00adb5;font-weight:700;display:inline-block;width:1em;margin:0 0 0 -1em}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   .introDiv[_ngcontent-%COMP%]{min-width:275px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   #bigThree[_ngcontent-%COMP%]   #additionalContentLargeScreenOnly[_ngcontent-%COMP%]{display:none}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-end;padding:20px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]   .textLink[_ngcontent-%COMP%]{font-size:1.25em;margin:20px 40px;display:inline-block;text-decoration:underline}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]   #mainResume[_ngcontent-%COMP%]{margin-right:40px;font-size:1.5em;padding:0 1em;text-decoration:none}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]   #mainResume[_ngcontent-%COMP%]:active{background:#ccc!important;text-shadow:none}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]   .textLinksWrapper[_ngcontent-%COMP%]   #mainResume[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-welcome[_ngcontent-%COMP%]{padding:20px}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsLabel[_ngcontent-%COMP%]{font-size:1em;font-size:4em;margin-left:.5em}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsLabel[_ngcontent-%COMP%]{font-size:1.5em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsLabel[_ngcontent-%COMP%]{font-size:2.5em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsLabel[_ngcontent-%COMP%]{font-size:4em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectHighlight[_ngcontent-%COMP%]{margin-left:.5em}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-projects[_ngcontent-%COMP%]   .projectsContainer[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]{padding:50px;background-color:#3a4750}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   #contactMeHeader[_ngcontent-%COMP%]{z-index:100;font-size:2em;display:inline-block;padding:.25em .5em;margin-bottom:50px}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]{align-items:stretch}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   #fakeLinkedInWrapper[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-direction:column;align-items:stretch}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]{text-decoration:none;margin:15px;width:20%;max-width:20%;min-width:200px;display:flex;flex-direction:column;align-content:flex-end}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   .contactIcon[_ngcontent-%COMP%]{flex:1;display:block;margin-left:auto;margin-right:auto;width:75%}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   #fakeLinkedIn[_ngcontent-%COMP%]{background-color:#00adb5;color:#303841;font-size:140px;line-height:160px;font-family:sans-serif;width:150px;height:150px;border-radius:30px;display:block;text-align:center;margin:auto}@media only screen and (max-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   #fakeLinkedIn[_ngcontent-%COMP%]{width:100px;height:100px;font-size:100px;line-height:110px}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;margin:0 auto;text-align:center;font-size:1em;font-size:1.25em}@media screen and (min-width:640px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1280px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}}@media screen and (min-width:1920px){mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   #item-contactMe[_ngcontent-%COMP%]   .flex-row-container[_ngcontent-%COMP%]   .flex-row-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25em}}mat-sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid transparent;margin:none;padding:10px;background-color:#1a1f24;width:100%}.gradient-border[_ngcontent-%COMP%]{--border-width:3px;position:relative;display:flex;justify-content:center;align-items:center;color:#eee;background:#1a1f24;border-radius:var(--border-width)}.gradient-border[_ngcontent-%COMP%]:after{position:absolute;content:"";top:calc(-1 * var(--border-width));left:calc(-1 * var(--border-width));z-index:-1;width:calc(100% + var(--border-width) * 2);height:calc(100% + var(--border-width) * 2);background:linear-gradient(60deg,#303841,#00adb5,#eee);background-size:300% 300%;background-position:0 50%;border-radius:calc(2 * var(--border-width))}.gradient-bg[_ngcontent-%COMP%], .gradient-border[_ngcontent-%COMP%]:after{animation:moveGradient 4s infinite alternate}.gradient-bg[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;color:#eee;border-radius:5px;background:linear-gradient(60deg,#303841,#00adb5,#cfcfcf);background-size:300% 300%;background-position:0 50%}@keyframes moveGradient{50%{background-position:100% 50%}}.resumeAnim[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;vertical-align:middle;cursor:pointer;transition:color .25s}.resumeAnim[_ngcontent-%COMP%]:after, .resumeAnim[_ngcontent-%COMP%]:before{box-sizing:inherit;content:"";position:absolute;width:100%;height:100%;border:3px solid transparent;width:0;height:0}.resumeAnim[_ngcontent-%COMP%]:before{top:0;left:0}.resumeAnim[_ngcontent-%COMP%]:after{bottom:0;right:0;top:0;left:0}.resumeAnim[_ngcontent-%COMP%]:hover{text-shadow:0 .05em .05em #111}.resumeAnim[_ngcontent-%COMP%]:hover:after, .resumeAnim[_ngcontent-%COMP%]:hover:before{width:100%;height:100%}.resumeAnim[_ngcontent-%COMP%]:hover:before{border-top-color:#fff;border-right-color:#fff;transition:width .25s ease-out,height .25s ease-out .25s}.resumeAnim[_ngcontent-%COMP%]:hover:after{border-bottom-color:#fff;border-left-color:#fff;transition:border-color 0s ease-out .5s,width .25s ease-out .5s,height .25s ease-out .75s;transition:height .25s ease-out,width .25s ease-out .25s}']}),t})()},{path:"art",component:(()=>{class t{constructor(t){this.router=t}ngOnInit(){this.router.navigate(["/under-construction"])}}return t.\u0275fac=function(e){return new(e||t)(Ao(fb))},t.\u0275cmp=Ut({type:t,selectors:[["app-art"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})()},{path:"under-construction",component:(()=>{class t{constructor(t){this.router=t,this.timeLeft=5}ngOnInit(){this.interval=setInterval(()=>{this.timeLeft>0?this.timeLeft--:this.router.navigate(["games"])},1e3)}}return t.\u0275fac=function(e){return new(e||t)(Ao(fb))},t.\u0275cmp=Ut({type:t,selectors:[["app-under-construction"]],decls:11,vars:1,consts:[[1,"logoContainer"],["src","assets/res/signature.svg",1,"logoMain"],[1,"logoRight"],[1,"name"],[1,"work"],[1,"constructionContainer"],["src","assets/res/material.io/engineering-white-18dp.svg",1,"construction"]],template:function(t,e){1&t&&(Ro(0,"section",0),ko(1,"img",1),Ro(2,"div",2),Ro(3,"span",3),sa(4,"Andrew M. Podrat"),Do(),Ro(5,"span",4),sa(6,"Game Designer & Developer"),Do(),Do(),Do(),Ro(7,"div",5),Ro(8,"p"),sa(9),Do(),ko(10,"img",6),Do()),2&t&&(es(9),aa("Under construction! You will be redirected in ",e.timeLeft," seconds."))},styles:['@import url("https://fonts.googleapis.com/css2?family=Rajdhani&display=swap");@font-face{font-family:pixel5;src:url(pixel5.d9d11b3df42d741aaf14.ttf) format("truetype")}*[_ngcontent-%COMP%]{font-family:Rajdhani,sans-serif;color:#eee}.logoContainer[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px;display:flex;justify-content:center;align-items:center;background-color:#3a4750}.logoContainer[_ngcontent-%COMP%]   .logoMain[_ngcontent-%COMP%]{filter:invert(100);width:100px}.logoContainer[_ngcontent-%COMP%]   .logoRight[_ngcontent-%COMP%]{margin-left:14vw;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.logoContainer[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:2.5em;letter-spacing:.5ch}.logoContainer[_ngcontent-%COMP%]   .work[_ngcontent-%COMP%]{font-size:1.2em;letter-spacing:.5ch}.constructionContainer[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.constructionContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;color:#000;padding:2em}.constructionContainer[_ngcontent-%COMP%]   .construction[_ngcontent-%COMP%]{height:50vh}']}),t})()}];let GL=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ab.forRoot(FL,{relativeLinkResolution:"legacy"})],Ab]}),t})(),jL=(()=>{class t{constructor(){this.title="andrewpodratcom-angular"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&ko(0,"router-outlet")},directives:[bb],styles:[""]}),t})(),zL=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[]]}),t})(),UL=(()=>{class t{}return t.\u0275mod=qt({type:t,bootstrap:[jL]}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[],imports:[[GL,hu,Im,vv,qu,bv,mg,_v,mv,Uf,Kw,Iw,zL,cx]]}),t})();(function(){if(Dl)throw new Error("Cannot enable prod mode after platform setup.");Rl=!1})(),cu().bootstrapModule(UL).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);